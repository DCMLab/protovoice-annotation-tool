!function(){var n={};(n["Control.Apply"]=n["Control.Apply"]||{}).arrayApply=function(n){return function(e){for(var r=n.length,t=e.length,i=new Array(r*t),o=0,u=0;u<r;u++)for(var a=n[u],c=0;c<t;c++)i[o++]=a(e[c]);return i}},function(n){n["Control.Semigroupoid"]=n["Control.Semigroupoid"]||{};var e=n["Control.Semigroupoid"],r=new function(n){this.compose=n}((function(n){return function(e){return function(r){return n(e(r))}}}));e.compose=function(n){return n.compose},e.semigroupoidFn=r}(n),function(n){n["Control.Category"]=n["Control.Category"]||{};var e=n["Control.Category"],r=n["Control.Semigroupoid"],t=new function(n,e){this.Semigroupoid0=n,this.identity=e}((function(){return r.semigroupoidFn}),(function(n){return n}));e.identity=function(n){return n.identity},e.categoryFn=t}(n),function(n){n["Data.Function"]=n["Data.Function"]||{};var e=n["Data.Function"];e.flip=function(n){return function(e){return function(r){return n(r)(e)}}},e.const=function(n){return function(e){return n}}}(n),function(n){n.arrayMap=function(n){return function(e){for(var r=e.length,t=new Array(r),i=0;i<r;i++)t[i]=n(e[i]);return t}}}(n["Data.Functor"]=n["Data.Functor"]||{}),function(n){n.unit={}}(n["Data.Unit"]=n["Data.Unit"]||{}),function(n){n["Data.Unit"]=n["Data.Unit"]||{};var e=n["Data.Unit"],r=n["Data.Unit"];e.unit=r.unit}(n),function(n){n["Data.Functor"]=n["Data.Functor"]||{};var e=n["Data.Functor"],r=n["Data.Functor"],t=n["Data.Function"],i=n["Data.Unit"],o=function(n){this.map=n},u=function(n){return n.map},a=new o(r.arrayMap);e.Functor=o,e.map=u,e.void=function(n){return u(n)(t.const(i.unit))},e.voidLeft=function(n){return function(e){return function(r){return u(n)(t.const(r))(e)}}},e.functorArray=a}(n),function(n){n["Control.Apply"]=n["Control.Apply"]||{};var e=n["Control.Apply"],r=n["Control.Apply"],t=n["Control.Category"],i=n["Data.Function"],o=n["Data.Functor"],u=function(n,e){this.Functor0=n,this.apply=e},a=new u((function(){return o.functorArray}),r.arrayApply),c=function(n){return n.apply};e.Apply=u,e.apply=c,e.applySecond=function(n){return function(e){return function(r){return c(n)(o.map(n.Functor0())(i.const(t.identity(t.categoryFn)))(e))(r)}}},e.applyArray=a}(n),function(n){n["Control.Applicative"]=n["Control.Applicative"]||{};var e=n["Control.Applicative"],r=n["Control.Apply"],t=n["Data.Unit"],i=function(n,e){this.Apply0=n,this.pure=e},o=function(n){return n.pure},u=new i((function(){return r.applyArray}),(function(n){return[n]}));e.Applicative=i,e.pure=o,e.liftA1=function(n){return function(e){return function(t){return r.apply(n.Apply0())(o(n)(e))(t)}}},e.unless=function(n){return function(e){return function(r){if(!e)return r;if(e)return o(n)(t.unit);throw new Error("Failed pattern match at Control.Applicative (line 66, column 1 - line 66, column 65): "+[e.constructor.name,r.constructor.name])}}},e.when=function(n){return function(e){return function(r){if(e)return r;if(!e)return o(n)(t.unit);throw new Error("Failed pattern match at Control.Applicative (line 61, column 1 - line 61, column 63): "+[e.constructor.name,r.constructor.name])}}},e.applicativeArray=u}(n),function(n){n.arrayBind=function(n){return function(e){for(var r=[],t=0,i=n.length;t<i;t++)Array.prototype.push.apply(r,e(n[t]));return r}}}(n["Control.Bind"]=n["Control.Bind"]||{}),function(n){n["Control.Bind"]=n["Control.Bind"]||{};var e=n["Control.Bind"],r=n["Control.Bind"],t=n["Control.Apply"],i=n["Data.Function"],o=function(n,e){this.Apply0=n,this.bind=e},u=new o((function(){return t.applyArray}),r.arrayBind),a=function(n){return n.bind},c=function(n){return i.flip(a(n))},l=new function(n){this.discard=n}((function(n){return a(n)}));e.Bind=o,e.bind=a,e.bindFlipped=c,e.discard=function(n){return n.discard},e.composeKleisli=function(n){return function(e){return function(r){return function(t){return a(n)(e(t))(r)}}}},e.composeKleisliFlipped=function(n){return function(e){return function(r){return function(t){return c(n)(e)(r(t))}}}},e.bindArray=u,e.discardUnit=l}(n),function(n){n["Data.Boolean"]=n["Data.Boolean"]||{};n["Data.Boolean"].otherwise=!0}(n),function(n){n.toCharCode=function(n){return n.charCodeAt(0)},n.fromCharCode=function(n){return String.fromCharCode(n)}}(n["Data.Enum"]=n["Data.Enum"]||{}),function(n){n.topInt=2147483647,n.bottomInt=-2147483648,n.topChar=String.fromCharCode(65535),n.bottomChar=String.fromCharCode(0)}(n["Data.Bounded"]=n["Data.Bounded"]||{}),function(n){var e=function(n){return function(e){return function(r){return function(t){return function(i){return t<i?n:t===i?e:r}}}}};n.ordIntImpl=e,n.ordNumberImpl=e,n.ordStringImpl=e,n.ordCharImpl=e,n.ordArrayImpl=function(n){return function(e){return function(r){for(var t=0,i=e.length,o=r.length;t<i&&t<o;){var u=e[t],a=r[t],c=n(u)(a);if(0!==c)return c;t++}return i===o?0:i>o?-1:1}}}}(n["Data.Ord"]=n["Data.Ord"]||{}),function(n){var e=function(n){return function(e){return n===e}};n.eqBooleanImpl=e,n.eqIntImpl=e,n.eqNumberImpl=e,n.eqCharImpl=e,n.eqStringImpl=e,n.eqArrayImpl=function(n){return function(e){return function(r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!n(e[t])(r[t]))return!1;return!0}}}}(n["Data.Eq"]=n["Data.Eq"]||{}),function(n){n["Data.Symbol"]=n["Data.Symbol"]||{};var e=n["Data.Symbol"],r=function(){function n(){}return n.value=new n,n}();e.IsSymbol=function(n){this.reflectSymbol=n},e.reflectSymbol=function(n){return n.reflectSymbol},e.SProxy=r}(n),function(n){n.unsafeGet=function(n){return function(e){return e[n]}},n.unsafeSet=function(n){return function(e){return function(r){var t={};for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t[n]=e,t}}}}(n["Record.Unsafe"]=n["Record.Unsafe"]||{}),function(n){n["Record.Unsafe"]=n["Record.Unsafe"]||{};var e=n["Record.Unsafe"],r=n["Record.Unsafe"];e.unsafeGet=r.unsafeGet,e.unsafeSet=r.unsafeSet}(n),function(n){n["Type.Proxy"]=n["Type.Proxy"]||{};var e=n["Type.Proxy"],r=function(){function n(){}return n.value=new n,n}();e.Proxy=r}(n),function(n){n["Data.Eq"]=n["Data.Eq"]||{};var e=n["Data.Eq"],r=n["Data.Eq"],t=n["Data.Symbol"],i=n["Record.Unsafe"],o=n["Type.Proxy"],u=function(n){this.eqRecord=n},a=function(n){this.eq=n},c=new a(r.eqStringImpl),l=new u((function(n){return function(n){return function(n){return!0}}})),s=function(n){return n.eqRecord},f=new a(r.eqNumberImpl),d=new a(r.eqIntImpl),w=new a(r.eqCharImpl),h=new a(r.eqBooleanImpl),g=function(n){return n.eq};e.Eq=a,e.eq=g,e.notEq=function(n){return function(e){return function(r){return g(h)(g(n)(e)(r))(!1)}}},e.Eq1=function(n){this.eq1=n},e.eq1=function(n){return n.eq1},e.eqBoolean=h,e.eqInt=d,e.eqNumber=f,e.eqChar=w,e.eqString=c,e.eqArray=function(n){return new a(r.eqArrayImpl(g(n)))},e.eqRec=function(n){return function(n){return new a(s(n)(o.Proxy.value))}},e.eqRowNil=l,e.eqRowCons=function(n){return function(e){return function(e){return function(r){return new u((function(u){return function(u){return function(a){var c=s(n)(o.Proxy.value)(u)(a),l=t.reflectSymbol(e)(o.Proxy.value),f=i.unsafeGet(l);return g(r)(f(u))(f(a))&&c}}}))}}}}}(n),function(n){n["Data.Ordering"]=n["Data.Ordering"]||{};var e=n["Data.Ordering"],r=n["Data.Eq"],t=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),u=new r.Eq((function(n){return function(e){return n instanceof t&&e instanceof t||(n instanceof i&&e instanceof i||n instanceof o&&e instanceof o)}}));e.LT=t,e.GT=i,e.EQ=o,e.invert=function(n){if(n instanceof i)return t.value;if(n instanceof o)return o.value;if(n instanceof t)return i.value;throw new Error("Failed pattern match at Data.Ordering (line 33, column 1 - line 33, column 31): "+[n.constructor.name])},e.eqOrdering=u}(n),function(n){n.intSub=function(n){return function(e){return n-e|0}}}(n["Data.Ring"]=n["Data.Ring"]||{}),function(n){n.intAdd=function(n){return function(e){return n+e|0}},n.intMul=function(n){return function(e){return n*e|0}}}(n["Data.Semiring"]=n["Data.Semiring"]||{}),function(n){n["Data.Semiring"]=n["Data.Semiring"]||{};var e=n["Data.Semiring"],r=n["Data.Semiring"],t=new function(n,e,r,t){this.add=n,this.mul=e,this.one=r,this.zero=t}(r.intAdd,r.intMul,1,0);e.add=function(n){return n.add},e.zero=function(n){return n.zero},e.mul=function(n){return n.mul},e.one=function(n){return n.one},e.semiringInt=t}(n),function(n){n["Data.Ring"]=n["Data.Ring"]||{};var e=n["Data.Ring"],r=n["Data.Ring"],t=n["Data.Semiring"],i=new function(n,e){this.Semiring0=n,this.sub=e}((function(){return t.semiringInt}),r.intSub);e.negate=function(n){return function(e){return n.sub(t.zero(n.Semiring0()))(e)}},e.ringInt=i}(n),function(n){n["Data.Ord"]=n["Data.Ord"]||{};var e=n["Data.Ord"],r=n["Data.Ord"],t=n["Data.Eq"],i=n["Data.Ordering"],o=n["Data.Ring"],u=n["Data.Semiring"],a=n["Data.Symbol"],c=n["Record.Unsafe"],l=n["Type.Proxy"],s=function(n,e){this.EqRecord0=n,this.compareRecord=e},f=function(n,e){this.Eq0=n,this.compare=e},d=new f((function(){return t.eqString}),r.ordStringImpl(i.LT.value)(i.EQ.value)(i.GT.value)),w=new s((function(){return t.eqRowNil}),(function(n){return function(n){return function(n){return i.EQ.value}}})),h=new f((function(){return t.eqNumber}),r.ordNumberImpl(i.LT.value)(i.EQ.value)(i.GT.value)),g=new f((function(){return t.eqInt}),r.ordIntImpl(i.LT.value)(i.EQ.value)(i.GT.value)),v=new f((function(){return t.eqChar}),r.ordCharImpl(i.LT.value)(i.EQ.value)(i.GT.value)),m=function(n){return n.compareRecord},p=function(n){return n.compare},F=function(n){return function(e){return function(r){return!(p(n)(e)(r)instanceof i.LT)}}};e.Ord=f,e.compare=p,e.comparing=function(n){return function(e){return function(r){return function(t){return p(n)(e(r))(e(t))}}}},e.max=function(n){return function(e){return function(r){var t=p(n)(e)(r);if(t instanceof i.LT)return r;if(t instanceof i.EQ)return e;if(t instanceof i.GT)return e;throw new Error("Failed pattern match at Data.Ord (line 176, column 3 - line 179, column 12): "+[t.constructor.name])}}},e.abs=function(n){return function(e){return function(r){return F(n)(r)(u.zero(e.Semiring0()))?r:o.negate(e)(r)}}},e.signum=function(n){return function(e){return function(r){return F(n)(r)(u.zero(e.Semiring0()))?u.one(e.Semiring0()):o.negate(e)(u.one(e.Semiring0()))}}},e.ordInt=g,e.ordNumber=h,e.ordString=d,e.ordChar=v,e.ordArray=function(n){return new f((function(){return t.eqArray(n.Eq0())}),(e=function(e){return function(r){var t=p(n)(e)(r);if(t instanceof i.EQ)return 0;if(t instanceof i.LT)return 1;if(t instanceof i.GT)return-1;throw new Error("Failed pattern match at Data.Ord (line 74, column 7 - line 77, column 17): "+[t.constructor.name])}},function(n){return function(t){return p(g)(0)(r.ordArrayImpl(e)(n)(t))}}));var e},e.ordRecordNil=w,e.ordRecordCons=function(n){return function(e){return function(e){return function(r){return new s((function(){return t.eqRowCons(n.EqRecord0())()(e)(r.Eq0())}),(function(o){return function(o){return function(u){var s=a.reflectSymbol(e)(l.Proxy.value),f=p(r)(c.unsafeGet(s)(o))(c.unsafeGet(s)(u));return t.notEq(i.eqOrdering)(f)(i.EQ.value)?f:m(n)(l.Proxy.value)(o)(u)}}}))}}}},e.ordRecord=function(n){return function(n){return new f((function(){return t.eqRec()(n.EqRecord0())}),m(n)(l.Proxy.value))}}}(n),function(n){n["Data.Bounded"]=n["Data.Bounded"]||{};var e=n["Data.Bounded"],r=n["Data.Bounded"],t=n["Data.Ord"],i=function(n,e,r){this.Ord0=n,this.bottom=e,this.top=r},o=new i((function(){return t.ordInt}),r.bottomInt,r.topInt),u=new i((function(){return t.ordChar}),r.bottomChar,r.topChar);e.Bounded=i,e.bottom=function(n){return n.bottom},e.top=function(n){return n.top},e.boundedInt=o,e.boundedChar=u}(n),function(n){n.showIntImpl=function(n){return n.toString()},n.showNumberImpl=function(n){var e=n.toString();return isNaN(e+".0")?e:e+".0"},n.showCharImpl=function(n){var e=n.charCodeAt(0);if(e<32||127===e){switch(n){case"":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case"\n":return"'\\n'";case"\r":return"'\\r'";case"\t":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return"'"===n||"\\"===n?"'\\"+n+"'":"'"+n+"'"},n.showStringImpl=function(n){var e=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,(function(r,t){switch(r){case'"':case"\\":return"\\"+r;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var i=t+1,o=i<e&&n[i]>="0"&&n[i]<="9"?"\\&":"";return"\\"+r.charCodeAt(0).toString(10)+o}))+'"'},n.showArrayImpl=function(n){return function(e){for(var r=[],t=0,i=e.length;t<i;t++)r[t]=n(e[t]);return"["+r.join(",")+"]"}},n.cons=function(n){return function(e){return[n].concat(e)}},n.join=function(n){return function(e){return e.join(n)}}}(n["Data.Show"]=n["Data.Show"]||{}),function(n){n["Data.Show"]=n["Data.Show"]||{};var e=n["Data.Show"],r=n["Data.Show"],t=n["Data.Symbol"],i=n["Record.Unsafe"],o=n["Type.Proxy"],u=function(n){this.showRecordFields=n},a=function(n){this.show=n},c=new a(r.showStringImpl),l=new u((function(n){return function(n){return[]}})),s=function(n){return n.showRecordFields},f=new a(r.showNumberImpl),d=new a(r.showIntImpl),w=new a(r.showCharImpl),h=new a((function(n){if(n)return"true";if(!n)return"false";throw new Error("Failed pattern match at Data.Show (line 20, column 1 - line 22, column 23): "+[n.constructor.name])})),g=function(n){return n.show};e.Show=a,e.show=g,e.showBoolean=h,e.showInt=d,e.showNumber=f,e.showChar=w,e.showString=c,e.showArray=function(n){return new a(r.showArrayImpl(g(n)))},e.showRecord=function(n){return function(n){return new a((function(e){var t=s(n)(o.Proxy.value)(e);return 0===t.length?"{}":r.join(" ")(["{",r.join(", ")(t),"}"])}))}},e.showRecordFieldsNil=l,e.showRecordFieldsCons=function(n){return function(e){return function(a){return new u((function(u){return function(u){var c=s(e)(o.Proxy.value)(u),l=t.reflectSymbol(n)(o.Proxy.value),f=i.unsafeGet(l)(u);return r.cons(r.join(": ")([l,g(a)(f)]))(c)}}))}}}}(n),function(n){n["Data.Maybe"]=n["Data.Maybe"]||{};var e=n["Data.Maybe"],r=n["Control.Applicative"],t=n["Control.Apply"],i=n["Control.Bind"],o=n["Control.Category"],u=n["Data.Eq"],a=n["Data.Function"],c=n["Data.Functor"],l=n["Data.Show"],s=function(){function n(){}return n.value=new n,n}(),f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),d=function(n){return function(e){return function(r){if(r instanceof s)return n;if(r instanceof f)return e(r.value0);throw new Error("Failed pattern match at Data.Maybe (line 230, column 1 - line 230, column 51): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}},w=d(!0)(a.const(!1)),h=d(!1)(a.const(!0)),g=new c.Functor((function(n){return function(e){return e instanceof f?new f(n(e.value0)):s.value}})),v=new t.Apply((function(){return g}),(function(n){return function(e){if(n instanceof f)return c.map(g)(n.value0)(e);if(n instanceof s)return s.value;throw new Error("Failed pattern match at Data.Maybe (line 68, column 1 - line 70, column 30): "+[n.constructor.name,e.constructor.name])}})),m=new i.Bind((function(){return v}),(function(n){return function(e){if(n instanceof f)return e(n.value0);if(n instanceof s)return s.value;throw new Error("Failed pattern match at Data.Maybe (line 126, column 1 - line 128, column 28): "+[n.constructor.name,e.constructor.name])}})),p=new r.Applicative((function(){return v}),f.create);e.Nothing=s,e.Just=f,e.maybe=d,e.fromMaybe=function(n){return d(n)(o.identity(o.categoryFn))},e.isJust=h,e.isNothing=w,e.fromJust=function(n){return function(n){if(n instanceof f)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 281, column 1 - line 281, column 46): "+[n.constructor.name])}},e.functorMaybe=g,e.applicativeMaybe=p,e.bindMaybe=m,e.eqMaybe=function(n){return new u.Eq((function(e){return function(r){return e instanceof s&&r instanceof s||e instanceof f&&r instanceof f&&u.eq(n)(e.value0)(r.value0)}}))},e.showMaybe=function(n){return new l.Show((function(e){if(e instanceof f)return"(Just "+l.show(n)(e.value0)+")";if(e instanceof s)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 216, column 1 - line 218, column 28): "+[e.constructor.name])}))}}(n),function(n){n["Data.Enum"]=n["Data.Enum"]||{};var e=n["Data.Enum"],r=n["Data.Enum"],t=n["Data.Bounded"],i=n["Data.Maybe"],o=n["Data.Ord"],u=function(n,e,r){this.Ord0=n,this.pred=e,this.succ=r},a=function(n,e,r,t,i){this.Bounded0=n,this.Enum1=e,this.cardinality=r,this.fromEnum=t,this.toEnum=i},c=function(n){return n.toEnum},l=function(n){return n.fromEnum},s=function(n){return function(e){return function(r){return n(e(r)+1|0)}}},f=function(n){return function(e){return function(r){return n(e(r)-1|0)}}},d=function(n){return n>=t.bottom(t.boundedInt)&&n<=t.top(t.boundedInt)?new i.Just(r.fromCharCode(n)):i.Nothing.value},w=new u((function(){return o.ordChar}),f(d)(r.toCharCode),s(d)(r.toCharCode)),h=new a((function(){return t.boundedChar}),(function(){return w}),r.toCharCode(t.top(t.boundedChar))-r.toCharCode(t.bottom(t.boundedChar))|0,r.toCharCode,d);e.Enum=u,e.BoundedEnum=a,e.toEnum=c,e.fromEnum=l,e.toEnumWithDefaults=function(n){return function(e){return function(r){return function(o){var u=c(n)(o);if(u instanceof i.Just)return u.value0;if(u instanceof i.Nothing)return o<l(n)(t.bottom(n.Bounded0()))?e:r;throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[u.constructor.name])}}}},e.defaultSucc=s,e.defaultPred=f,e.boundedEnumChar=h}(n),function(n){n["Data.Char"]=n["Data.Char"]||{};var e=n["Data.Char"],r=n["Data.Enum"],t=r.fromEnum(r.boundedEnumChar),i=r.toEnum(r.boundedEnumChar);e.toCharCode=t,e.fromCharCode=i}(n),function(n){n["Control.Monad"]=n["Control.Monad"]||{};var e=n["Control.Monad"],r=n["Control.Applicative"],t=n["Control.Bind"];e.Monad=function(n,e){this.Applicative0=n,this.Bind1=e},e.unlessM=function(n){return function(e){return function(i){return t.bind(n.Bind1())(e)((function(e){return r.unless(n.Applicative0())(e)(i)}))}}},e.ap=function(n){return function(e){return function(i){return t.bind(n.Bind1())(e)((function(e){return t.bind(n.Bind1())(i)((function(t){return r.pure(n.Applicative0())(e(t))}))}))}}}}(n),function(n){n["Data.Either"]=n["Data.Either"]||{};var e=n["Data.Either"],r=n["Control.Applicative"],t=n["Control.Apply"],i=n["Control.Bind"],o=n["Control.Monad"],u=n["Data.Eq"],a=n["Data.Function"],c=n["Data.Functor"],l=n["Data.Maybe"],s=n["Data.Show"],f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=new c.Functor((function(n){return function(e){if(e instanceof f)return new f(e.value0);if(e instanceof d)return new d(n(e.value0));throw new Error("Failed pattern match at Data.Either (line 31, column 1 - line 31, column 52): "+[e.constructor.name])}})),h=function(n){return function(e){return function(r){if(r instanceof f)return n(r.value0);if(r instanceof d)return e(r.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}},g=h(a.const(l.Nothing.value))(l.Just.create),v=new t.Apply((function(){return w}),(function(n){return function(e){if(n instanceof f)return new f(n.value0);if(n instanceof d)return c.map(w)(n.value0)(e);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,e.constructor.name])}})),m=new i.Bind((function(){return v}),h((function(n){return function(e){return new f(n)}}))((function(n){return function(e){return e(n)}}))),p=new r.Applicative((function(){return v}),d.create),F=new o.Monad((function(){return p}),(function(){return m}));e.Left=f,e.Right=d,e.either=h,e.hush=g,e.functorEither=w,e.applicativeEither=p,e.bindEither=m,e.monadEither=F,e.showEither=function(n){return function(e){return new s.Show((function(r){if(r instanceof f)return"(Left "+s.show(n)(r.value0)+")";if(r instanceof d)return"(Right "+s.show(e)(r.value0)+")";throw new Error("Failed pattern match at Data.Either (line 173, column 1 - line 175, column 46): "+[r.constructor.name])}))}},e.eqEither=function(n){return function(e){return new u.Eq((function(r){return function(t){return r instanceof f&&t instanceof f?u.eq(n)(r.value0)(t.value0):r instanceof d&&t instanceof d&&u.eq(e)(r.value0)(t.value0)}}))}}}(n),function(n){n.intDegree=function(n){return Math.min(Math.abs(n),2147483647)},n.intDiv=function(n){return function(e){return 0===e?0:e>0?Math.floor(n/e):-Math.floor(n/-e)}},n.intMod=function(n){return function(e){if(0===e)return 0;var r=Math.abs(e);return(n%r+r)%r}}}(n["Data.EuclideanRing"]=n["Data.EuclideanRing"]||{}),function(n){n["Data.CommutativeRing"]=n["Data.CommutativeRing"]||{};var e=n["Data.CommutativeRing"],r=n["Data.Ring"],t=new function(n){this.Ring0=n}((function(){return r.ringInt}));e.commutativeRingInt=t}(n),function(n){n["Data.EuclideanRing"]=n["Data.EuclideanRing"]||{};var e=n["Data.EuclideanRing"],r=n["Data.EuclideanRing"],t=n["Data.CommutativeRing"],i=n["Data.Eq"],o=n["Data.Semiring"],u=function(n){return n.mod},a=new function(n,e,r,t){this.CommutativeRing0=n,this.degree=e,this.div=r,this.mod=t}((function(){return t.commutativeRingInt}),r.intDegree,r.intDiv,r.intMod);e.div=function(n){return n.div},e.mod=u,e.gcd=function(n){return function(e){return function(r){return function(t){var a,c=n,l=e,s=r,f=!1;function d(n,e,r,a){if(i.eq(n)(a)(o.zero(e.CommutativeRing0().Ring0().Semiring0())))return f=!0,r;c=n,l=e,s=a,t=u(e)(r)(a)}for(;!f;)a=d(c,l,s,t);return a}}}},e.euclideanRingInt=a}(n),function(n){n.foldrArray=function(n){return function(e){return function(r){for(var t=e,i=r.length-1;i>=0;i--)t=n(r[i])(t);return t}}},n.foldlArray=function(n){return function(e){return function(r){for(var t=e,i=r.length,o=0;o<i;o++)t=n(t)(r[o]);return t}}}}(n["Data.Foldable"]=n["Data.Foldable"]||{}),function(n){n.boolConj=function(n){return function(e){return n&&e}},n.boolDisj=function(n){return function(e){return n||e}},n.boolNot=function(n){return!n}}(n["Data.HeytingAlgebra"]=n["Data.HeytingAlgebra"]||{}),function(n){n["Data.HeytingAlgebra"]=n["Data.HeytingAlgebra"]||{};var e=n["Data.HeytingAlgebra"],r=n["Data.HeytingAlgebra"],t=function(n,e,r,t,i,o){this.conj=n,this.disj=e,this.ff=r,this.implies=t,this.not=i,this.tt=o},i=function(n){return n.not},o=function(n){return n.ff},u=function(n){return n.disj},a=new t(r.boolConj,r.boolDisj,!1,(function(n){return function(e){return u(a)(i(a)(n))(e)}}),r.boolNot,!0);e.ff=o,e.disj=u,e.not=i,e.heytingAlgebraBoolean=a,e.heytingAlgebraFunction=function(n){return new t((function(e){return function(r){return function(t){return n.conj(e(t))(r(t))}}}),(function(e){return function(r){return function(t){return u(n)(e(t))(r(t))}}}),(function(e){return o(n)}),(function(e){return function(r){return function(t){return n.implies(e(t))(r(t))}}}),(function(e){return function(r){return i(n)(e(r))}}),(function(e){return n.tt}))}}(n),function(n){n.concatString=function(n){return function(e){return n+e}},n.concatArray=function(n){return function(e){return 0===n.length?e:0===e.length?n:n.concat(e)}}}(n["Data.Semigroup"]=n["Data.Semigroup"]||{}),function(n){n["Data.Semigroup"]=n["Data.Semigroup"]||{};var e=n["Data.Semigroup"],r=n["Data.Semigroup"],t=n["Data.Symbol"],i=n["Record.Unsafe"],o=n["Type.Proxy"],u=function(n){this.appendRecord=n},a=function(n){this.append=n},c=new a(r.concatString),l=new u((function(n){return function(n){return function(n){return{}}}})),s=new a(r.concatArray),f=function(n){return n.appendRecord},d=function(n){return n.append};e.Semigroup=a,e.append=d,e.semigroupString=c,e.semigroupArray=s,e.semigroupRecord=function(n){return function(n){return new a(f(n)(o.Proxy.value))}},e.semigroupRecordNil=l,e.semigroupRecordCons=function(n){return function(e){return function(e){return function(r){return new u((function(u){return function(u){return function(a){var c=f(e)(o.Proxy.value)(u)(a),l=t.reflectSymbol(n)(o.Proxy.value),s=i.unsafeSet(l),w=i.unsafeGet(l);return s(d(r)(w(u))(w(a)))(c)}}}))}}}}}(n),function(n){n["Data.Monoid"]=n["Data.Monoid"]||{};var e=n["Data.Monoid"],r=n["Data.Boolean"],t=n["Data.EuclideanRing"],i=n["Data.Semigroup"],o=n["Data.Symbol"],u=n["Record.Unsafe"],a=n["Type.Proxy"],c=function(n,e){this.SemigroupRecord0=n,this.memptyRecord=e},l=function(n,e){this.Semigroup0=n,this.mempty=e},s=new l((function(){return i.semigroupString}),""),f=new c((function(){return i.semigroupRecordNil}),(function(n){return{}})),d=function(n){return n.memptyRecord},w=function(n){return n.mempty};e.Monoid=l,e.mempty=w,e.power=function(n){return function(e){var o=function(u){if(u<=0)return w(n);if(1===u)return e;if(0===t.mod(t.euclideanRingInt)(u)(2)){var a=o(t.div(t.euclideanRingInt)(u)(2));return i.append(n.Semigroup0())(a)(a)}if(r.otherwise){a=o(t.div(t.euclideanRingInt)(u)(2));return i.append(n.Semigroup0())(a)(i.append(n.Semigroup0())(a)(e))}throw new Error("Failed pattern match at Data.Monoid (line 86, column 3 - line 86, column 17): "+[u.constructor.name])};return o}},e.monoidString=s,e.monoidRecord=function(n){return function(n){return new l((function(){return i.semigroupRecord()(n.SemigroupRecord0())}),d(n)(a.Proxy.value))}},e.monoidRecordNil=f,e.monoidRecordCons=function(n){return function(e){return function(r){return function(r){return new c((function(){return i.semigroupRecordCons(n)()(r.SemigroupRecord0())(e.Semigroup0())}),(function(t){var i=d(r)(a.Proxy.value),c=o.reflectSymbol(n)(a.Proxy.value);return u.unsafeSet(c)(w(e))(i)}))}}}}}(n),function(n){n["Data.Monoid.Disj"]=n["Data.Monoid.Disj"]||{};var e=n["Data.Monoid.Disj"],r=n["Data.HeytingAlgebra"],t=n["Data.Monoid"],i=n["Data.Semigroup"];e.Disj=function(n){return n},e.monoidDisj=function(n){return new t.Monoid((function(){return function(n){return new i.Semigroup((function(e){return function(t){return r.disj(n)(e)(t)}}))}(n)}),r.ff(n))}}(n),function(n){n.unsafeCoerce=function(n){return n}}(n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{}),function(n){n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{};var e=n["Unsafe.Coerce"],r=n["Unsafe.Coerce"];e.unsafeCoerce=r.unsafeCoerce}(n),function(n){n["Safe.Coerce"]=n["Safe.Coerce"]||{};var e=n["Safe.Coerce"],r=n["Unsafe.Coerce"];e.coerce=function(n){return r.unsafeCoerce}}(n),function(n){n["Data.Newtype"]=n["Data.Newtype"]||{};var e=n["Data.Newtype"],r=n["Safe.Coerce"];e.unwrap=function(n){return r.coerce()},e.alaF=function(n){return function(n){return function(n){return function(n){return function(n){return r.coerce()}}}}}}(n),function(n){n["Data.Foldable"]=n["Data.Foldable"]||{};var e=n["Data.Foldable"],r=n["Data.Foldable"],t=n["Control.Applicative"],i=n["Control.Apply"],o=n["Control.Category"],u=n["Data.Eq"],a=n["Data.Function"],c=n["Data.HeytingAlgebra"],l=n["Data.Maybe"],s=n["Data.Monoid"],f=n["Data.Monoid.Disj"],d=n["Data.Newtype"],w=n["Data.Semigroup"],h=n["Data.Unit"],g=function(n,e,r){this.foldMap=n,this.foldl=e,this.foldr=r},v=function(n){return n.foldr},m=function(n){return function(e){return function(r){return v(e)((o=i.applySecond(n.Apply0()),function(n){return o(r(n))}))(t.pure(n)(h.unit));var o}}},p=function(n){return n.foldl},F=new g((function(n){return function(e){return function(r){if(r instanceof l.Nothing)return s.mempty(n);if(r instanceof l.Just)return e(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[e.constructor.name,r.constructor.name])}}}),(function(n){return function(e){return function(r){if(r instanceof l.Nothing)return e;if(r instanceof l.Just)return n(e)(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}}),(function(n){return function(e){return function(r){if(r instanceof l.Nothing)return e;if(r instanceof l.Just)return n(r.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}})),S=new g((function(n){return(e=S,function(n){return function(r){return v(e)((function(e){return function(t){return w.append(n.Semigroup0())(r(e))(t)}}))(s.mempty(n))}})(n);var e}),r.foldlArray,r.foldrArray),y=function(n){return n.foldMap};e.Foldable=g,e.foldr=v,e.foldl=p,e.foldMap=y,e.fold=function(n){return function(e){return y(n)(e)(o.identity(o.categoryFn))}},e.traverse_=m,e.for_=function(n){return function(e){return a.flip(m(n)(e))}},e.intercalate=function(n){return function(e){return function(r){return function(t){return p(n)((function(n){return function(t){return n.init?{init:!1,acc:t}:{init:!1,acc:w.append(e.Semigroup0())(n.acc)(w.append(e.Semigroup0())(r)(t))}}}))({init:!0,acc:s.mempty(e)})(t).acc}}}},e.elem=function(n){return function(e){var r=function(n){return function(e){return d.alaF()()()()(f.Disj)(y(n)(f.monoidDisj(e)))}}(n)(c.heytingAlgebraBoolean),t=u.eq(e);return function(n){return r(t(n))}}},e.find=function(n){return function(e){return p(n)((function(n){return function(r){return n instanceof l.Nothing&&e(r)?new l.Just(r):n}}))(l.Nothing.value)}},e.foldableArray=S,e.foldableMaybe=F}(n),function(n){n["Control.Alt"]=n["Control.Alt"]||{};var e=n["Control.Alt"];e.Alt=function(n,e){this.Functor0=n,this.alt=e},e.alt=function(n){return n.alt}}(n),function(n){n["Control.Plus"]=n["Control.Plus"]||{};var e=n["Control.Plus"];e.Plus=function(n,e){this.Alt0=n,this.empty=e},e.empty=function(n){return n.empty}}(n),function(n){n["Data.NonEmpty"]=n["Data.NonEmpty"]||{};var e=n["Data.NonEmpty"],r=n["Control.Plus"],t=n["Data.Eq"],i=n["Data.Foldable"],o=n["Data.Functor"],u=n["Data.Semigroup"],a=n["Data.Show"],c=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}();e.NonEmpty=c,e.singleton=function(n){return function(e){return new c(e,r.empty(n))}},e.showNonEmpty=function(n){return function(e){return new a.Show((function(r){return"(NonEmpty "+a.show(n)(r.value0)+" "+a.show(e)(r.value1)+")"}))}},e.eqNonEmpty=function(n){return function(e){return new t.Eq((function(r){return function(i){return t.eq(e)(r.value0)(i.value0)&&t.eq1(n)(e)(r.value1)(i.value1)}}))}},e.functorNonEmpty=function(n){return new o.Functor((function(e){return function(r){return new c(e(r.value0),o.map(n)(e)(r.value1))}}))},e.foldableNonEmpty=function(n){return new i.Foldable((function(e){return function(r){return function(t){return u.append(e.Semigroup0())(r(t.value0))(i.foldMap(n)(e)(r)(t.value1))}}}),(function(e){return function(r){return function(t){return i.foldl(n)(e)(e(r)(t.value0))(t.value1)}}}),(function(e){return function(r){return function(t){return e(t.value0)(i.foldr(n)(e)(r)(t.value1))}}}))}}(n),function(n){n.unfoldrArrayImpl=function(n){return function(e){return function(r){return function(t){return function(i){return function(o){for(var u=[],a=o;;){var c=i(a);if(n(c))return u;var l=e(c);u.push(r(l)),a=t(l)}}}}}}}}(n["Data.Unfoldable"]=n["Data.Unfoldable"]||{}),function(n){n["Data.Tuple"]=n["Data.Tuple"]||{};var e=n["Data.Tuple"],r=n["Data.Eq"],t=n["Data.Functor"],i=n["Data.Ord"],o=n["Data.Ordering"],u=n["Data.Show"],a=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),c=new t.Functor((function(n){return function(e){return new a(e.value0,n(e.value1))}}));e.Tuple=a,e.fst=function(n){return n.value0},e.snd=function(n){return n.value1},e.showTuple=function(n){return function(e){return new u.Show((function(r){return"(Tuple "+u.show(n)(r.value0)+" "+u.show(e)(r.value1)+")"}))}},e.ordTuple=function(n){return function(e){return new i.Ord((function(){return(t=n.Eq0(),function(n){return new r.Eq((function(e){return function(i){return r.eq(t)(e.value0)(i.value0)&&r.eq(n)(e.value1)(i.value1)}}))})(e.Eq0());var t}),(function(r){return function(t){var u=i.compare(n)(r.value0)(t.value0);return u instanceof o.LT?o.LT.value:u instanceof o.GT?o.GT.value:i.compare(e)(r.value1)(t.value1)}}))}},e.functorTuple=c}(n),function(n){n.unfoldr1ArrayImpl=function(n){return function(e){return function(r){return function(t){return function(i){return function(o){for(var u=[],a=o;;){var c=i(a);u.push(r(c));var l=t(c);if(n(l))return u;a=e(l)}}}}}}}}(n["Data.Unfoldable1"]=n["Data.Unfoldable1"]||{}),function(n){n["Data.Unfoldable1"]=n["Data.Unfoldable1"]||{};var e=n["Data.Unfoldable1"],r=n["Data.Unfoldable1"],t=n["Data.Maybe"],i=n["Data.Tuple"],o=function(n){this.unfoldr1=n},u=new o(r.unfoldr1ArrayImpl(t.isNothing)(t.fromJust())(i.fst)(i.snd));e.Unfoldable1=o,e.unfoldable1Array=u}(n),function(n){n["Data.Unfoldable"]=n["Data.Unfoldable"]||{};var e=n["Data.Unfoldable"],r=n["Data.Unfoldable"],t=n["Data.Function"],i=n["Data.Maybe"],o=n["Data.Tuple"],u=n["Data.Unfoldable1"],a=n["Data.Unit"],c=function(n,e){this.Unfoldable10=n,this.unfoldr=e},l=function(n){return n.unfoldr},s=new c((function(){return u.unfoldable1Array}),r.unfoldrArrayImpl(i.isNothing)(i.fromJust())(o.fst)(o.snd));e.Unfoldable=c,e.unfoldr=l,e.none=function(n){return l(n)(t.const(i.Nothing.value))(a.unit)},e.unfoldableArray=s}(n),function(n){n["Data.List.Types"]=n["Data.List.Types"]||{};var e,r=n["Data.List.Types"],t=n["Control.Alt"],i=n["Control.Applicative"],o=n["Control.Apply"],u=n["Control.Plus"],a=n["Data.Eq"],c=n["Data.Foldable"],l=n["Data.Function"],s=n["Data.Functor"],f=n["Data.Maybe"],d=n["Data.Monoid"],w=n["Data.NonEmpty"],h=n["Data.Semigroup"],g=n["Data.Show"],v=n["Data.Unfoldable"],m=n["Data.Unfoldable1"],p=function(){function n(){}return n.value=new n,n}(),F=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),S=function(n){return n},y=new s.Functor((function(n){var e;return e=p.value,function(r){var t,i=e,o=!1;function u(e,t){return t instanceof F&&t.value1 instanceof F&&t.value1.value1 instanceof F?(i=new F(t,e),void(r=t.value1.value1.value1)):(o=!0,(a=e,function(e){for(var r,t,i,o=a,u=!1;!u;)i=e,r=(t=o)instanceof F&&t.value0 instanceof F&&t.value0.value1 instanceof F&&t.value0.value1.value1 instanceof F?(o=t.value1,void(e=new F(n(t.value0.value0),new F(n(t.value0.value1.value0),new F(n(t.value0.value1.value1.value0),i))))):(u=!0,i);return r})((u=t)instanceof F&&u.value1 instanceof F&&u.value1.value1 instanceof p?new F(n(u.value0),new F(n(u.value1.value0),p.value)):u instanceof F&&u.value1 instanceof p?new F(n(u.value0),p.value):p.value));var u,a}for(;!o;)t=u(i,r);return t}})),b=w.functorNonEmpty(y),I=new c.Foldable((function(n){return function(e){return c.foldl(I)((function(r){var t=h.append(n.Semigroup0())(r);return function(n){return t(e(n))}}))(d.mempty(n))}}),(function(n){return function(e){return function(r){var t,i=e,o=!1;function u(e,t){if(t instanceof p)return o=!0,e;if(t instanceof F)return i=n(e)(t.value0),void(r=t.value1);throw new Error("Failed pattern match at Data.List.Types (line 112, column 12 - line 114, column 30): "+[t.constructor.name])}for(;!o;)t=u(i,r);return t}}}),(function(n){return function(e){var r,t=(r=p.value,function(n){var e,t=r,i=!1;function o(e,r){if(r instanceof p)return i=!0,e;if(r instanceof F)return t=new F(r.value0,e),void(n=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 108, column 7 - line 108, column 23): "+[e.constructor.name,r.constructor.name])}for(;!i;)e=o(t,n);return e}),i=c.foldl(I)(l.flip(n))(e);return function(n){return i(t(n))}}})),C=w.foldableNonEmpty(I),R=new h.Semigroup((function(n){return function(e){return c.foldr(I)(F.create)(e)(n)}})),E=new h.Semigroup((function(n){return function(e){return new w.NonEmpty(n.value0,h.append(R)(n.value1)(function(n){return new F(n.value0,n.value1)}(e)))}})),W=function(n){return new g.Show((function(e){return e instanceof p?"Nil":"("+c.intercalate(I)(d.monoidString)(" : ")(s.map(y)(g.show(n))(e))+" : Nil)"}))},P=new m.Unfoldable1((function(n){return function(e){var r;return(r=e,function(e){var t,i=r,o=!1;function u(r,t){var u=n(r);if(u.value1 instanceof f.Just)return i=u.value1.value0,void(e=new F(u.value0,t));if(u.value1 instanceof f.Nothing)return o=!0,c.foldl(I)(l.flip(F.create))(p.value)(new F(u.value0,t));throw new Error("Failed pattern match at Data.List.Types (line 136, column 22 - line 138, column 61): "+[u.constructor.name])}for(;!o;)t=u(i,e);return t})(p.value)}})),A=new v.Unfoldable((function(){return P}),(function(n){return function(e){var r;return(r=e,function(e){var t,i=r,o=!1;function u(r,t){var u=n(r);if(u instanceof f.Nothing)return o=!0,c.foldl(I)(l.flip(F.create))(p.value)(t);if(u instanceof f.Just)return i=u.value0.value1,void(e=new F(u.value0.value0,t));throw new Error("Failed pattern match at Data.List.Types (line 143, column 22 - line 145, column 52): "+[u.constructor.name])}for(;!o;)t=u(i,e);return t})(p.value)}})),D=new a.Eq1((function(n){return function(e){return function(r){var t;return(t=e,function(e){return function(r){for(var i,o,u,c,l=t,s=e,f=!1;!f;)o=l,u=s,i=(c=r)?o instanceof p&&u instanceof p?(f=!0,c):o instanceof F&&u instanceof F?(l=o.value1,s=u.value1,void(r=c&&a.eq(n)(u.value0)(o.value0))):(f=!0,!1):(f=!0,!1);return i}})(r)(!0)}}})),N=new o.Apply((function(){return y}),(function(n){return function(e){if(n instanceof p)return p.value;if(n instanceof F)return h.append(R)(s.map(y)(n.value0)(e))(o.apply(N)(n.value1)(e));throw new Error("Failed pattern match at Data.List.Types (line 158, column 1 - line 160, column 48): "+[n.constructor.name,e.constructor.name])}})),x=new o.Apply((function(){return b}),(function(n){return function(e){return new w.NonEmpty(n.value0(e.value0),h.append(R)(o.apply(N)(n.value1)(new F(e.value0,p.value)))(o.apply(N)(new F(n.value0,n.value1))(e.value1)))}})),M=new i.Applicative((function(){return N}),(function(n){return new F(n,p.value)})),q=new t.Alt((function(){return y}),h.append(R)),T=new u.Plus((function(){return q}),p.value),L=new i.Applicative((function(){return x}),(e=w.singleton(T),function(n){return e(n)}));r.Nil=p,r.Cons=F,r.NonEmptyList=S,r.showList=W,r.eqList=function(n){return new a.Eq(a.eq1(D)(n))},r.semigroupList=R,r.functorList=y,r.foldableList=I,r.unfoldableList=A,r.applicativeList=M,r.plusList=T,r.eqNonEmptyList=function(n){return w.eqNonEmpty(D)(n)},r.showNonEmptyList=function(n){return new g.Show((function(e){return"(NonEmptyList "+g.show(w.showNonEmpty(n)(W(n)))(e)+")"}))},r.functorNonEmptyList=b,r.applicativeNonEmptyList=L,r.semigroupNonEmptyList=E,r.foldableNonEmptyList=C}(n),function(n){n["Data.Ratio"]=n["Data.Ratio"]||{};var e=n["Data.Ratio"],r=n["Data.Eq"],t=n["Data.EuclideanRing"],i=n["Data.Ord"],o=n["Data.Semiring"],u=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}();e.reduce=function(n){return function(e){return function(r){return function(a){var c=t.gcd(n.Eq0())(e)(r)(a),l=t.div(e)(a)(c);return new u(o.mul(e.CommutativeRing0().Ring0().Semiring0())(t.div(e)(r)(c))(i.signum(n)(e.CommutativeRing0().Ring0())(l)),i.abs(n)(e.CommutativeRing0().Ring0())(l))}}}},e.numerator=function(n){return n.value0},e.denominator=function(n){return n.value1},e.eqRatio=function(n){return new r.Eq((function(e){return function(t){return r.eq(n)(e.value0)(t.value0)&&r.eq(n)(e.value1)(t.value1)}}))}}(n),function(n){n.split=function(n){return function(e){return e.split(n)}},n.toUpper=function(n){return n.toUpperCase()},n.joinWith=function(n){return function(e){return e.join(n)}}}(n["Data.String.Common"]=n["Data.String.Common"]||{}),function(n){n["Data.String.Common"]=n["Data.String.Common"]||{};var e=n["Data.String.Common"],r=n["Data.String.Common"];e.split=r.split,e.toUpper=r.toUpper,e.joinWith=r.joinWith}(n),function(n){n["Control.Alternative"]=n["Control.Alternative"]||{};n["Control.Alternative"].Alternative=function(n,e){this.Applicative0=n,this.Plus1=e}}(n),function(n){n["Data.Bifunctor"]=n["Data.Bifunctor"]||{};var e=n["Data.Bifunctor"],r=n["Control.Category"],t=n["Data.Either"],i=function(n){this.bimap=n},o=function(n){return n.bimap},u=new i((function(n){return function(e){return function(r){if(r instanceof t.Left)return new t.Left(n(r.value0));if(r instanceof t.Right)return new t.Right(e(r.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 32, column 1 - line 34, column 36): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}}));e.bimap=o,e.Bifunctor=i,e.lmap=function(n){return function(e){return o(n)(e)(r.identity(r.categoryFn))}},e.bifunctorEither=u}(n),function(n){n.pureE=function(n){return function(){return n}},n.bindE=function(n){return function(e){return function(){return e(n())()}}}}(n.Effect=n.Effect||{}),function(n){n.Effect=n.Effect||{};var e=n.Effect,r=n.Effect,t=n["Control.Applicative"],i=n["Control.Apply"],o=n["Control.Bind"],u=n["Control.Monad"],a=n["Data.Functor"],c=new u.Monad((function(){return f}),(function(){return l})),l=new o.Bind((function(){return s}),r.bindE),s=new i.Apply((function(){return d}),u.ap(c)),f=new t.Applicative((function(){return s}),r.pureE),d=new a.Functor(t.liftA1(f));e.functorEffect=d,e.applicativeEffect=f,e.bindEffect=l,e.monadEffect=c}(n),function(n){n.new=function(n){return function(){return{value:n}}},n.read=function(n){return function(){return n.value}},n.modifyImpl=function(n){return function(e){return function(){var r=n(e.value);return e.value=r.state,r.value}}},n.write=function(n){return function(e){return function(){e.value=n}}}}(n["Effect.Ref"]=n["Effect.Ref"]||{}),function(n){n["Effect.Ref"]=n["Effect.Ref"]||{};var e=n["Effect.Ref"],r=n["Effect.Ref"],t=n["Data.Functor"],i=n.Effect,o=r.modifyImpl;e["modify'"]=o,e.modify_=function(n){return function(e){return t.void(i.functorEffect)(function(n){return o((function(e){var r=n(e);return{state:r,value:r}}))}(n)(e))}},e.new=r.new,e.read=r.read,e.write=r.write}(n),function(n){n["Control.Monad.Rec.Class"]=n["Control.Monad.Rec.Class"]||{};var e=n["Control.Monad.Rec.Class"],r=n["Control.Bind"],t=n["Data.Bifunctor"],i=n["Data.Either"],o=n["Data.Functor"],u=n.Effect,a=n["Effect.Ref"],c=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(n,e){this.Monad0=n,this.tailRecM=e},f=function(n){return function(e){return function(e){var r,t=!1;function i(r){if(!(r instanceof c)){if(r instanceof l)return t=!0,r.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 93, column 3 - line 93, column 25): "+[r.constructor.name])}e=n(r.value0)}for(;!t;)r=i(e);return r}(n(e))}},d=new s((function(){return i.monadEither}),(function(n){return function(e){return f((function(e){if(e instanceof i.Left)return new l(new i.Left(e.value0));if(e instanceof i.Right&&e.value0 instanceof c)return new c(n(e.value0.value0));if(e instanceof i.Right&&e.value0 instanceof l)return new l(new i.Right(e.value0.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 121, column 7 - line 121, column 33): "+[e.constructor.name])}))(n(e))}})),w=new s((function(){return u.monadEffect}),(function(n){return function(e){var t=function(n){if(n instanceof l)return n.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 113, column 30 - line 113, column 44): "+[n.constructor.name])};return function(){var i=r.bindFlipped(u.bindEffect)(a.new)(n(e))();return function(){for(;!function(){var e=a.read(i)();if(e instanceof c){var r=n(e.value0)();return a.write(r)(i)(),!1}if(e instanceof l)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 104, column 22 - line 109, column 28): "+[e.constructor.name])}(););}(),o.map(u.functorEffect)(t)(a.read(i))()}}})),h=new t.Bifunctor((function(n){return function(e){return function(r){if(r instanceof c)return new c(n(r.value0));if(r instanceof l)return new l(e(r.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 29, column 1 - line 31, column 34): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}}));e.Loop=c,e.Done=l,e.MonadRec=s,e.tailRecM=function(n){return n.tailRecM},e.bifunctorStep=h,e.monadRecEffect=w,e.monadRecEither=d}(n),function(n){n["Text.Parsing.StringParser"]=n["Text.Parsing.StringParser"]||{};var e=n["Text.Parsing.StringParser"],r=n["Control.Alt"],t=n["Control.Alternative"],i=n["Control.Applicative"],o=n["Control.Apply"],u=n["Control.Bind"],a=n["Control.Monad"],c=n["Control.Monad.Rec.Class"],l=n["Control.Plus"],s=n["Data.Bifunctor"],f=n["Data.Boolean"],d=n["Data.Either"],w=n["Data.Functor"],h=new w.Functor((function(n){return function(e){var r=w.map(d.functorEither)((function(e){return{result:n(e.result),suffix:e.suffix}}));return function(n){return r(e(n))}}})),g=function(n){return function(e){return new d.Left({pos:e.pos,error:n})}},v=new o.Apply((function(){return h}),(function(n){return function(e){return function(r){return u.bind(d.bindEither)(n(r))((function(n){return u.bind(d.bindEither)(e(n.suffix))((function(e){return i.pure(d.applicativeEither)({result:n.result(e.result),suffix:e.suffix})}))}))}}})),m=new u.Bind((function(){return v}),(function(n){return function(e){return function(r){return u.bind(d.bindEither)(n(r))((function(n){return e(n.result)(n.suffix)}))}}})),p=new i.Applicative((function(){return v}),(function(n){return function(e){return new d.Right({result:n,suffix:e})}})),F=new a.Monad((function(){return p}),(function(){return m})),S=new c.MonadRec((function(){return F}),(function(n){return function(e){var r=function(n){if(n.result instanceof c.Loop)return new c.Loop({state:n.result.value0,str:n.suffix});if(n.result instanceof c.Done)return new c.Done({result:n.result.value0,suffix:n.suffix});throw new Error("Failed pattern match at Text.Parsing.StringParser (line 90, column 7 - line 90, column 70): "+[n.constructor.name])};return function(t){return c.tailRecM(c.monadRecEither)((function(e){return w.map(d.functorEither)(r)(n(e.state)(e.str))}))({state:e,str:t})}}})),y=new r.Alt((function(){return h}),(function(n){return function(e){return function(r){var t=n(r);if(t instanceof d.Left){if(r.pos===t.value0.pos)return e(r);if(f.otherwise)return new d.Left({error:t.value0.error,pos:t.value0.pos})}return t}}})),b=new l.Plus((function(){return y}),g("No alternative")),I=new t.Alternative((function(){return p}),(function(){return b}));e.runParser=function(n){return function(e){return w.map(d.functorEither)((function(n){return n.result}))(n({str:e,pos:0}))}},e.fail=g,e.try=function(n){return function(e){return s.lmap(s.bifunctorEither)((function(n){return{pos:e.pos,error:n.error}}))(n(e))}},e.functorParser=h,e.applyParser=v,e.applicativeParser=p,e.altParser=y,e.alternativeParser=I,e.bindParser=m,e.monadRecParser=S}(n),function(n){var e="function"==typeof Array.from,r="undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator],t="function"==typeof String.prototype.fromCodePoint,i="function"==typeof String.prototype.codePointAt;n._unsafeCodePointAt0=function(n){return i?function(n){return n.codePointAt(0)}:n},n._codePointAt=function(n){return function(e){return function(t){return function(i){return function(o){return function(u){var a=u.length;if(o<0||o>=a)return t;if(r)for(var c=u[Symbol.iterator](),l=o;;--l){var s=c.next();if(s.done)return t;if(0===l)return e(i(s.value))}return n(o)(u)}}}}}},n._singleton=function(n){return t?String.fromCodePoint:n},n._take=function(n){return function(e){return r?function(n){for(var r="",t=n[Symbol.iterator](),i=0;i<e;++i){var o=t.next();if(o.done)return r;r+=o.value}return r}:n(e)}},n._toCodePointArray=function(n){return function(r){return e?function(n){return Array.from(n,r)}:n}}}(n["Data.String.CodePoints"]=n["Data.String.CodePoints"]||{}),function(n){n.range=function(n){return function(e){for(var r=n>e?-1:1,t=new Array(r*(e-n)+1),i=n,o=0;i!==e;)t[o++]=i,i+=r;return t[o]=i,t}};n.replicate="function"==typeof Array.prototype.fill?function(n){return function(e){return n<1?[]:new Array(n).fill(e)}}:function(n){return function(e){for(var r=[],t=0,i=0;i<n;i++)r[t++]=e;return r}},n.fromFoldableImpl=function(){function n(n,e){this.head=n,this.tail=e}var e={};function r(e){return function(r){return new n(e,r)}}return function(n){return function(t){return function(n){for(var r=[],t=0,i=n;i!==e;)r[t++]=i.head,i=i.tail;return r}(n(r)(e)(t))}}}(),n.length=function(n){return n.length},n.unconsImpl=function(n){return function(e){return function(r){return 0===r.length?n({}):e(r[0])(r.slice(1))}}},n.indexImpl=function(n){return function(e){return function(r){return function(t){return t<0||t>=r.length?e:n(r[t])}}}},n.findIndexImpl=function(n){return function(e){return function(r){return function(t){for(var i=0,o=t.length;i<o;i++)if(r(t[i]))return n(i);return e}}}},n._deleteAt=function(n){return function(e){return function(r){return function(t){if(r<0||r>=t.length)return e;var i=t.slice();return i.splice(r,1),n(i)}}}},n.reverse=function(n){return n.slice().reverse()},n.filter=function(n){return function(e){return e.filter(n)}},n.sortByImpl=function(){function n(e,r,t,i,o,u){var a,c,l,s,f,d;for((a=o+(u-o>>1))-o>1&&n(e,r,i,t,o,a),u-a>1&&n(e,r,i,t,a,u),c=o,l=a,s=o;c<a&&l<u;)f=i[c],d=i[l],r(e(f)(d))>0?(t[s++]=d,++l):(t[s++]=f,++c);for(;c<a;)t[s++]=i[c++];for(;l<u;)t[s++]=i[l++]}return function(e){return function(r){return function(t){var i;return t.length<2?t:(i=t.slice(0),n(e,r,i,t.slice(0),0,t.length),i)}}}}(),n.zipWith=function(n){return function(e){return function(r){for(var t=e.length<r.length?e.length:r.length,i=new Array(t),o=0;o<t;o++)i[o]=n(e[o])(r[o]);return i}}},n.any=function(n){return function(e){for(var r=e.length,t=0;t<r;t++)if(n(e[t]))return!0;return!1}},n.all=function(n){return function(e){for(var r=e.length,t=0;t<r;t++)if(!n(e[t]))return!1;return!0}},n.unsafeIndexImpl=function(n){return function(e){return n[e]}}}(n["Data.Array"]=n["Data.Array"]||{}),function(n){n.pushAll=function(n){return function(e){return function(){return e.push.apply(e,n)}}},n.unsafeFreeze=function(n){return function(){return n}},n.thaw=function(n){return function(){return n.slice()}}}(n["Data.Array.ST"]=n["Data.Array.ST"]||{}),function(n){n["Data.Array.ST"]=n["Data.Array.ST"]||{};var e=n["Data.Array.ST"],r=n["Data.Array.ST"];e.withArray=function(n){return function(e){return function(){var t=r.thaw(e)();return n(t)(),r.unsafeFreeze(t)()}}},e.push=function(n){return r.pushAll([n])}}(n),function(n){n["Data.Array"]=n["Data.Array"]||{};var e,r,t=n["Data.Array"],i=n["Data.Array"],o=n["Control.Bind"],u=n["Control.Category"],a=n["Data.Array.ST"],c=n["Data.Eq"],l=n["Data.Foldable"],s=n["Data.Function"],f=n["Data.Functor"],d=n["Data.Maybe"],w=n["Data.Ord"],h=n["Data.Ordering"],g=n["Data.Semigroup"],v=i.unconsImpl(s.const(d.Nothing.value))((function(n){return function(n){return new d.Just(n)}})),m=function(n){return i.sortByImpl(n)((function(n){if(n instanceof h.GT)return 1;if(n instanceof h.EQ)return 0;if(n instanceof h.LT)return-1;throw new Error("Failed pattern match at Data.Array (line 831, column 31 - line 834, column 11): "+[n.constructor.name])}))},p=function(n){return[n]},F=i.indexImpl(d.Just.create)(d.Nothing.value),S=(l.foldr(l.foldableArray),i.findIndexImpl(d.Just.create)(d.Nothing.value)),y=i._deleteAt(d.Just.create)(d.Nothing.value),b=s.flip(o.bind(o.bindArray)),I=(e=u.identity(u.categoryFn),b((r=d.maybe([])(p),function(n){return r(e(n))})));t.fromFoldable=function(n){return i.fromFoldableImpl(l.foldr(n))},t.cons=function(n){return function(e){return g.append(g.semigroupArray)([n])(e)}},t.snoc=function(n){return function(e){return a.withArray(a.push(e))(n)()}},t.last=function(n){return F(n)(i.length(n)-1|0)},t.tail=v,t.elem=function(n){return function(e){return function(r){return d.isJust(function(n){return function(e){return S((function(r){return c.eq(n)(r)(e)}))}}(n)(e)(r))}}},t.find=function(n){return function(e){return f.map(d.functorMaybe)(i.unsafeIndexImpl(e))(S(n)(e))}},t.findIndex=S,t.concatMap=b,t.catMaybes=I,t.mapWithIndex=function(n){return function(e){return i.zipWith(n)(i.range(0)(i.length(e)-1|0))(e)}},t.sortBy=m,t.sortWith=function(n){return function(e){return m(w.comparing(n)(e))}},t.deleteBy=function(n){return function(e){return function(r){return 0===r.length?[]:d.maybe(r)((function(n){return d.fromJust()(y(n)(r))}))(S(n(e))(r))}}},t.replicate=i.replicate,t.length=i.length,t.reverse=i.reverse,t.filter=i.filter,t.any=i.any,t.all=i.all}(n),function(n){n.fromNumberImpl=function(n){return function(e){return function(r){return(0|r)===r?n(r):e}}},n.toNumber=function(n){return n},n.toStringAs=function(n){return function(e){return e.toString(n)}}}(n["Data.Int"]=n["Data.Int"]||{}),function(n){n["Data.Int"]=n["Data.Int"]||{};var e=n["Data.Int"],r=n["Data.Int"],t=n["Data.Maybe"],i=r.fromNumberImpl(t.Just.create)(t.Nothing.value);e.fromNumber=i,e.hexadecimal=16,e.toNumber=r.toNumber,e.toStringAs=r.toStringAs}(n),function(n){n.singleton=function(n){return n},n.length=function(n){return n.length},n.drop=function(n){return function(e){return e.substring(n)}}}(n["Data.String.CodeUnits"]=n["Data.String.CodeUnits"]||{}),function(n){n["Data.String.CodeUnits"]=n["Data.String.CodeUnits"]||{};var e=n["Data.String.CodeUnits"],r=n["Data.String.CodeUnits"];e.singleton=r.singleton,e.length=r.length,e.drop=r.drop}(n),function(n){n.charAt=function(n){return function(e){if(n>=0&&n<e.length)return e.charAt(n);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}}}(n["Data.String.Unsafe"]=n["Data.String.Unsafe"]||{}),function(n){n["Data.String.Unsafe"]=n["Data.String.Unsafe"]||{};var e=n["Data.String.Unsafe"],r=n["Data.String.Unsafe"];e.charAt=r.charAt}(n),function(n){n["Data.String.CodePoints"]=n["Data.String.CodePoints"]||{};var e,r,t=n["Data.String.CodePoints"],i=n["Data.String.CodePoints"],o=(n["Data.Array"],n["Data.Boolean"]),u=n["Data.Bounded"],a=n["Data.Enum"],c=n["Data.Eq"],l=n["Data.EuclideanRing"],s=n["Data.Functor"],f=n["Data.Int"],d=n["Data.Maybe"],w=n["Data.Ord"],h=n["Data.Show"],g=n["Data.String.CodeUnits"],v=n["Data.String.Common"],m=n["Data.String.Unsafe"],p=n["Data.Tuple"],F=n["Data.Unfoldable"],S=function(n){return function(e){return 65536+((1024*(n-55296|0)|0)+(e-56320|0)|0)|0}},y=new h.Show((function(n){return"(CodePoint 0x"+v.toUpper(f.toStringAs(f.hexadecimal)(n))+")"})),b=function(n){return 56320<=n&&n<=57343},I=function(n){return 55296<=n&&n<=56319},C=function(n){var e=g.length(n);if(0===e)return d.Nothing.value;if(1===e)return new d.Just({head:a.fromEnum(a.boundedEnumChar)(m.charAt(0)(n)),tail:""});var r=a.fromEnum(a.boundedEnumChar)(m.charAt(1)(n)),t=a.fromEnum(a.boundedEnumChar)(m.charAt(0)(n));return I(t)&&b(r)?new d.Just({head:S(t)(r),tail:g.drop(2)(n)}):new d.Just({head:t,tail:g.drop(1)(n)})},R=function(n){return s.map(d.functorMaybe)((function(n){return new p.Tuple(n.head,n.tail)}))(C(n))},E=i._unsafeCodePointAt0((function(n){var e=a.fromEnum(a.boundedEnumChar)(m.charAt(0)(n));if(I(e)&&g.length(n)>1){var r=a.fromEnum(a.boundedEnumChar)(m.charAt(1)(n));return b(r)?S(e)(r):e}return e})),W=(i._toCodePointArray((function(n){return F.unfoldr(F.unfoldableArray)(R)(n)}))(E),e=a.toEnumWithDefaults(a.boundedEnumChar)(u.bottom(u.boundedChar))(u.top(u.boundedChar)),function(n){return g.singleton(e(n))}),P=i._singleton((function(n){if(n<=65535)return W(n);var e=l.div(l.euclideanRingInt)(n-65536|0)(1024)+55296|0,r=l.mod(l.euclideanRingInt)(n-65536|0)(1024)+56320|0;return W(e)+W(r)})),A=function(n){return function(e){if(n<1)return"";var r=C(e);return r instanceof d.Just?P(r.value0.head)+A(n-1|0)(r.value0.tail):e}},D=(i._take(A),new c.Eq((function(n){return function(e){return n===e}}))),N=new w.Ord((function(){return D}),(function(n){return function(e){return w.compare(w.ordInt)(n)(e)}})),x=(r=a.fromEnum(a.boundedEnumChar),function(n){return r(n)}),M=function(n){return function(e){var r,t,i,o=n,u=!1;for(;!u;)t=o,i=void 0,r=(i=C(e))instanceof d.Just?0===t?(u=!0,new d.Just(i.value0.head)):(o=t-1|0,void(e=i.value0.tail)):(u=!0,d.Nothing.value);return r}},q=new u.Bounded((function(){return N}),0,1114111),T=new a.BoundedEnum((function(){return q}),(function(){return L}),1114112,(function(n){return n}),(function(n){if(n>=0&&n<=1114111)return new d.Just(n);if(o.otherwise)return d.Nothing.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[n.constructor.name])})),L=new a.Enum((function(){return N}),a.defaultPred(a.toEnum(T))(a.fromEnum(T)),a.defaultSucc(a.toEnum(T))(a.fromEnum(T)));t.codePointFromChar=x,t.singleton=P,t.codePointAt=function(n){return function(e){return n<0||0===n&&""===e?d.Nothing.value:0===n?new d.Just(E(e)):i._codePointAt(M)(d.Just.create)(d.Nothing.value)(E)(n)(e)}},t.showCodePoint=y,t.boundedEnumCodePoint=T}(n),function(n){n["Data.List"]=n["Data.List"]||{};var e,r,t=n["Data.List"],i=n["Control.Alt"],o=n["Control.Applicative"],u=n["Control.Bind"],a=n["Control.Monad.Rec.Class"],c=n["Data.Bifunctor"],l=n["Data.Foldable"],s=n["Data.Functor"],f=n["Data.List.Types"],d=n["Data.Maybe"],w=n["Data.Tuple"],h=n["Data.Unit"],g=(e=f.Nil.value,function(n){var r,t=e,i=!1;function o(e,r){if(r instanceof f.Nil)return i=!0,e;if(r instanceof f.Cons)return t=new f.Cons(r.value0,e),void(n=r.value1);throw new Error("Failed pattern match at Data.List (line 372, column 3 - line 372, column 19): "+[e.constructor.name,r.constructor.name])}for(;!i;)r=o(t,n);return r}),v=(r=w.Tuple.create,function(n){return function(e){var t;return g((t=n,function(n){return function(e){var i,o=t,u=n,a=!1;function c(n,t,i){if(n instanceof f.Nil)return a=!0,i;if(t instanceof f.Nil)return a=!0,i;if(n instanceof f.Cons&&t instanceof f.Cons)return o=n.value1,u=t.value1,void(e=new f.Cons(r(n.value0)(t.value0),i));throw new Error("Failed pattern match at Data.List (line 795, column 3 - line 795, column 21): "+[n.constructor.name,t.constructor.name,i.constructor.name])}for(;!a;)i=c(o,u,e);return i}})(e)(f.Nil.value))}}),m=l.foldl(f.foldableList)((function(n){return function(e){return n+1|0}}))(0);t.fromFoldable=function(n){return l.foldr(n)(f.Cons.create)(f.Nil.value)},t.manyRec=function(n){return function(e){return function(r){return a.tailRecM(n)((function(t){return u.bind(n.Monad0().Bind1())(i.alt(e.Plus1().Alt0())(s.map(e.Plus1().Alt0().Functor0())(a.Loop.create)(r))(o.pure(e.Applicative0())(new a.Done(h.unit))))((function(n){return o.pure(e.Applicative0())(c.bimap(a.bifunctorStep)((function(n){return new f.Cons(n,t)}))((function(n){return g(t)}))(n))}))}))(f.Nil.value)}}},t.null=function(n){return n instanceof f.Nil},t.length=m,t.head=function(n){if(n instanceof f.Nil)return d.Nothing.value;if(n instanceof f.Cons)return new d.Just(n.value0);throw new Error("Failed pattern match at Data.List (line 234, column 1 - line 234, column 22): "+[n.constructor.name])},t.reverse=g,t.zip=v}(n),function(n){n["Text.Parsing.StringParser.Combinators"]=n["Text.Parsing.StringParser.Combinators"]||{};var e=n["Text.Parsing.StringParser.Combinators"],r=n["Control.Alt"],t=n["Control.Applicative"],i=n["Control.Apply"],o=n["Data.Functor"],u=n["Data.List"],a=n["Data.NonEmpty"],c=n["Text.Parsing.StringParser"],l=u.manyRec(c.monadRecParser)(c.alternativeParser),s=function(n){return function(e){return new a.NonEmpty(n,e)}};e.many1=function(n){return i.apply(c.applyParser)(o.map(c.functorParser)(s)(n))(l(n))},e.withError=function(n){return function(e){return r.alt(c.altParser)(n)(c.fail(e))}},e.option=function(n){return function(e){return r.alt(c.altParser)(e)(t.pure(c.applicativeParser)(n))}}}(n),function(n){n["Text.Parsing.StringParser.CodePoints"]=n["Text.Parsing.StringParser.CodePoints"]||{};var e,r,t=n["Text.Parsing.StringParser.CodePoints"],i=n["Control.Applicative"],o=n["Control.Bind"],u=n["Data.Char"],a=n["Data.Either"],c=n["Data.Enum"],l=n["Data.Eq"],s=n["Data.Foldable"],f=n["Data.Function"],d=n["Data.Maybe"],w=n["Data.Show"],h=n["Data.String.CodePoints"],g=n["Text.Parsing.StringParser"],v=n["Text.Parsing.StringParser.Combinators"],m=(e=c.fromEnum(h.boundedEnumCodePoint),r=function(n){return u.fromCharCode(e(n))},function(n){var e=h.codePointAt(n.pos)(n.str);if(e instanceof d.Just){var t=r(e.value0);if(t instanceof d.Just)return new a.Right({result:t.value0,suffix:{str:n.str,pos:n.pos+1|0}});if(t instanceof d.Nothing)return new a.Left({pos:n.pos,error:"CodePoint "+w.show(h.showCodePoint)(e.value0)+" is not a character"});throw new Error("Failed pattern match at Text.Parsing.StringParser.CodePoints (line 53, column 16 - line 55, column 87): "+[t.constructor.name])}if(e instanceof d.Nothing)return new a.Left({pos:n.pos,error:"Unexpected EOF"});throw new Error("Failed pattern match at Text.Parsing.StringParser.CodePoints (line 52, column 3 - line 56, column 53): "+[e.constructor.name])}),p=g.try(o.bind(g.bindParser)(m)((function(n){return n>="0"&&n<="9"?i.pure(g.applicativeParser)(n):g.fail("Character "+w.show(w.showChar)(n)+" is not a digit")}))),F=function(n){return g.try(o.bind(g.bindParser)(m)((function(e){return n(e)?i.pure(g.applicativeParser)(e):g.fail("Character "+w.show(w.showChar)(e)+" did not satisfy predicate")})))};t.anyDigit=p,t.char=function(n){return v.withError(F((function(e){return e===n})))("Could not match character "+w.show(w.showChar)(n))},t.oneOf=function(n){var e=f.flip(s.elem(n)(l.eqChar));return function(n){return F(e(n))}}}(n),function(n){n.Common=n.Common||{};var e=n.Common,r=n["Control.Applicative"],t=n["Control.Bind"],i=n["Data.Boolean"],o=n["Data.Char"],u=n["Data.Either"],a=n["Data.Eq"],c=n["Data.EuclideanRing"],l=n["Data.Foldable"],s=n["Data.List.Types"],f=n["Data.Maybe"],d=n["Data.Ord"],w=n["Data.Ratio"],h=n["Data.Show"],g=n["Data.String.Common"],v=n["Data.Symbol"],m=n["Text.Parsing.StringParser"],p=n["Text.Parsing.StringParser.CodePoints"],F=n["Text.Parsing.StringParser.Combinators"],S=new h.Show((function(n){return h.show(h.showInt)(n.m)+"."+h.show(h.showInt)(n.b)+"."+h.show(h.showInt)(w.numerator(n.s))+"/"+h.show(h.showInt)(w.denominator(n.s))})),y=a.eqRec()(a.eqRowCons(a.eqRowCons(a.eqRowCons(a.eqRowNil)()(new v.IsSymbol((function(){return"s"})))(w.eqRatio(a.eqInt)))()(new v.IsSymbol((function(){return"m"})))(a.eqInt))()(new v.IsSymbol((function(){return"b"})))(a.eqInt)),b=o.toCharCode("0"),I=t.bind(m.bindParser)(F.option("+")(p.char("-")))((function(n){var e="-"===n?-1:1;return t.bind(m.bindParser)(F.many1(p.anyDigit))((function(n){return r.pure(m.applicativeParser)(e*l.foldl(s.foldableNonEmptyList)((function(n){return function(e){return(10*n|0)+function(n){return o.toCharCode(n)-b|0}(e)|0}}))(0)(n)|0)}))})),C=t.bind(m.bindParser)(I)((function(n){return t.bind(m.bindParser)(F.option(1)(t.bind(m.bindParser)(p.char("/"))((function(){return I}))))((function(e){return r.pure(m.applicativeParser)(w.reduce(d.ordInt)(c.euclideanRingInt)(n)(e))}))}));e.parseTime=function(n){return f.maybe(new u.Left(n))(u.Right.create)(function(n){var e=g.split(".")(n);return 3===e.length?t.bind(f.bindMaybe)(u.hush(m.runParser(I)(e[0])))((function(n){return t.bind(f.bindMaybe)(u.hush(m.runParser(I)(e[1])))((function(i){return t.bind(f.bindMaybe)(u.hush(m.runParser(C)(e[2])))((function(e){return r.pure(f.applicativeMaybe)({m:n,b:i,s:e})}))}))})):function(e){if(i.otherwise)return f.Nothing.value;throw new Error("Failed pattern match at Common (line 54, column 1 - line 54, column 32): "+[n.constructor.name])}()}(n))},e.eqMBS=y,e.showMBS=S}(n),function(n){n["Data.Generic.Rep"]=n["Data.Generic.Rep"]||{};var e=n["Data.Generic.Rep"],r=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),i=function(){function n(){}return n.value=new n,n}();e.Generic=function(n,e){this.from=n,this.to=e},e.from=function(n){return n.from},e.NoArguments=i,e.Inl=r,e.Inr=t}(n),function(n){n["Control.Monad.Error.Class"]=n["Control.Monad.Error.Class"]||{};var e=n["Control.Monad.Error.Class"],r=n["Control.Applicative"],t=n["Data.Either"],i=n["Data.Functor"];e.throwError=function(n){return n.throwError},e.MonadThrow=function(n,e){this.Monad0=n,this.throwError=e},e.MonadError=function(n,e){this.MonadThrow0=n,this.catchError=e},e.try=function(n){return function(e){return n.catchError(i.map(n.MonadThrow0().Monad0().Bind1().Apply0().Functor0())(t.Right.create)(e))((o=r.pure(n.MonadThrow0().Monad0().Applicative0()),function(n){return o(t.Left.create(n))}));var o}}}(n),function(n){n["Control.Monad.Except.Trans"]=n["Control.Monad.Except.Trans"]||{};var e=n["Control.Monad.Except.Trans"],r=n["Control.Alt"],t=n["Control.Applicative"],i=n["Control.Apply"],o=n["Control.Bind"],u=n["Control.Monad"],a=n["Control.Monad.Error.Class"],c=n["Data.Either"],l=n["Data.Functor"],s=n["Data.Semigroup"],f=function(n){return n},d=function(n){return function(e){return n(e)}},w=function(n){return new l.Functor((function(e){return d(l.map(n)(l.map(c.functorEither)(e)))}))},h=function(n){return new u.Monad((function(){return m(n)}),(function(){return g(n)}))},g=function(n){return new o.Bind((function(){return v(n)}),(function(e){return function(r){return o.bind(n.Bind1())(e)(c.either((i=t.pure(n.Applicative0()),function(n){return i(c.Left.create(n))}))((function(n){return r(n)})));var i}}))},v=function(n){return new i.Apply((function(){return w(n.Bind1().Apply0().Functor0())}),u.ap(h(n)))},m=function(n){return new t.Applicative((function(){return v(n)}),(e=t.pure(n.Applicative0()),function(n){return e(c.Right.create(n))}));var e};e.ExceptT=f,e.runExceptT=function(n){return n},e.withExceptT=function(n){return function(e){return function(r){var t;return l.map(n)((t=e,function(n){if(n instanceof c.Right)return new c.Right(n.value0);if(n instanceof c.Left)return new c.Left(t(n.value0));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 43, column 3 - line 43, column 32): "+[t.constructor.name,n.constructor.name])}))(r)}}},e.mapExceptT=d,e.functorExceptT=w,e.applicativeExceptT=m,e.bindExceptT=g,e.altExceptT=function(n){return function(e){return new r.Alt((function(){return w(e.Bind1().Apply0().Functor0())}),(function(r){return function(i){return o.bind(e.Bind1())(r)((function(r){if(r instanceof c.Right)return t.pure(e.Applicative0())(new c.Right(r.value0));if(r instanceof c.Left)return o.bind(e.Bind1())(i)((function(i){if(i instanceof c.Right)return t.pure(e.Applicative0())(new c.Right(i.value0));if(i instanceof c.Left)return t.pure(e.Applicative0())(new c.Left(s.append(n)(r.value0)(i.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): "+[i.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): "+[r.constructor.name])}))}}))}},e.monadThrowExceptT=function(n){return new a.MonadThrow((function(){return h(n)}),(e=t.pure(n.Applicative0()),function(n){return e(c.Left.create(n))}));var e}}(n),function(n){n["Data.Group"]=n["Data.Group"]||{};var e=n["Data.Group"];e.ginverse=function(n){return n.ginverse},e.Group=function(n,e){this.Monoid0=n,this.ginverse=e}}(n),function(n){n["Data.Identity"]=n["Data.Identity"]||{};var e=n["Data.Identity"],r=n["Control.Applicative"],t=n["Control.Apply"],i=n["Control.Bind"],o=n["Control.Monad"],u=function(n){return n},a=new n["Data.Functor"].Functor((function(n){return function(e){return n(e)}})),c=new t.Apply((function(){return a}),(function(n){return function(e){return n(e)}})),l=new i.Bind((function(){return c}),(function(n){return function(e){return e(n)}})),s=new r.Applicative((function(){return c}),u),f=new o.Monad((function(){return s}),(function(){return l}));e.Identity=u,e.functorIdentity=a,e.applicativeIdentity=s,e.monadIdentity=f}(n),function(n){n._parseJSON=JSON.parse,n._undefined=void 0,n._unsafeStringify=JSON.stringify}(n["Simple.JSON"]=n["Simple.JSON"]||{}),function(n){n["Control.Monad.Except"]=n["Control.Monad.Except"]||{};var e,r=n["Control.Monad.Except"],t=n["Control.Monad.Except.Trans"],i=n["Data.Identity"],o=n["Data.Newtype"],u=t.withExceptT(i.functorIdentity),a=(e=o.unwrap(),function(n){return e(t.runExceptT(n))});r.runExcept=a,r.withExcept=u}(n),function(n){n.mapWithIndexArray=function(n){return function(e){for(var r=e.length,t=Array(r),i=0;i<r;i++)t[i]=n(i)(e[i]);return t}}}(n["Data.FunctorWithIndex"]=n["Data.FunctorWithIndex"]||{}),function(n){n["Data.FunctorWithIndex"]=n["Data.FunctorWithIndex"]||{};var e=n["Data.FunctorWithIndex"],r=n["Data.FunctorWithIndex"],t=n["Data.Functor"],i=new function(n,e){this.Functor0=n,this.mapWithIndex=e}((function(){return t.functorArray}),r.mapWithIndexArray);e.mapWithIndex=function(n){return n.mapWithIndex},e.functorWithIndexArray=i}(n),function(n){n["Data.FoldableWithIndex"]=n["Data.FoldableWithIndex"]||{};var e=n["Data.FoldableWithIndex"],r=n["Data.Foldable"],t=n["Data.FunctorWithIndex"],i=n["Data.Monoid"],o=n["Data.Semigroup"],u=n["Data.Tuple"],a=new function(n,e,r,t){this.Foldable0=n,this.foldMapWithIndex=e,this.foldlWithIndex=r,this.foldrWithIndex=t}((function(){return r.foldableArray}),(function(n){return(e=a,function(n){return function(r){return e.foldrWithIndex((function(e){return function(t){return function(i){return o.append(n.Semigroup0())(r(e)(t))(i)}}}))(i.mempty(n))}})(n);var e}),(function(n){return function(e){var i=r.foldl(r.foldableArray)((function(e){return function(r){return n(r.value0)(e)(r.value1)}}))(e),o=t.mapWithIndex(t.functorWithIndexArray)(u.Tuple.create);return function(n){return i(o(n))}}}),(function(n){return function(e){var i=r.foldr(r.foldableArray)((function(e){return function(r){return n(e.value0)(e.value1)(r)}}))(e),o=t.mapWithIndex(t.functorWithIndexArray)(u.Tuple.create);return function(n){return i(o(n))}}}));e.foldableWithIndexArray=a}(n),function(n){n.traverseArrayImpl=function(){function n(n){return[n]}function e(n){return function(e){return[n,e]}}function r(n){return function(e){return function(r){return[n,e,r]}}}function t(n){return function(e){return n.concat(e)}}return function(i){return function(o){return function(u){return function(a){return function(c){return function l(s,f){switch(f-s){case 0:return u([]);case 1:return o(n)(a(c[s]));case 2:return i(o(e)(a(c[s])))(a(c[s+1]));case 3:return i(i(o(r)(a(c[s])))(a(c[s+1])))(a(c[s+2]));default:var d=s+2*Math.floor((f-s)/4);return i(o(t)(l(s,d)))(l(d,f))}}(0,c.length)}}}}}}()}(n["Data.Traversable"]=n["Data.Traversable"]||{}),function(n){n["Data.Traversable.Accum.Internal"]=n["Data.Traversable.Accum.Internal"]||{};var e=n["Data.Traversable.Accum.Internal"],r=n["Control.Applicative"],t=n["Control.Apply"],i=n["Data.Functor"],o=function(n){return n},u=new i.Functor((function(n){return function(e){return function(r){var t=e(r);return{accum:t.accum,value:n(t.value)}}}})),a=new t.Apply((function(){return u}),(function(n){return function(e){return function(r){var t=n(r),i=e(t.accum);return{accum:i.accum,value:t.value(i.value)}}}})),c=new r.Applicative((function(){return a}),(function(n){return function(e){return{accum:e,value:n}}}));e.stateL=o,e.applicativeStateL=c}(n),function(n){n["Data.Traversable"]=n["Data.Traversable"]||{};var e=n["Data.Traversable"],r=n["Data.Traversable"],t=n["Control.Applicative"],i=n["Control.Apply"],o=n["Control.Category"],u=n["Data.Foldable"],a=n["Data.Functor"],c=n["Data.Traversable.Accum.Internal"],l=function(n){return n.traverse},s=new function(n,e,r,t){this.Foldable1=n,this.Functor0=e,this.sequence=r,this.traverse=t}((function(){return u.foldableArray}),(function(){return a.functorArray}),(function(n){return(e=s,function(n){return l(e)(n)(o.identity(o.categoryFn))})(n);var e}),(function(n){return r.traverseArrayImpl(i.apply(n.Apply0()))(a.map(n.Apply0().Functor0()))(t.pure(n))}));e.sequence=function(n){return n.sequence},e.for=function(n){return function(e){return function(r){return function(t){return l(e)(n)(t)(r)}}}},e.scanl=function(n){return function(e){return function(r){return function(t){return function(n){return function(e){return function(r){return function(t){return c.stateL(l(n)(c.applicativeStateL)((function(n){return function(r){return e(r)(n)}}))(t))(r)}}}}(n)((function(n){return function(r){var t=e(n)(r);return{accum:t,value:t}}}))(r)(t).value}}}},e.traversableArray=s}(n),function(n){n["Data.TraversableWithIndex"]=n["Data.TraversableWithIndex"]||{};var e=n["Data.TraversableWithIndex"],r=n["Data.FoldableWithIndex"],t=n["Data.FunctorWithIndex"],i=n["Data.Traversable"],o=new function(n,e,r,t){this.FoldableWithIndex1=n,this.FunctorWithIndex0=e,this.Traversable2=r,this.traverseWithIndex=t}((function(){return r.foldableWithIndexArray}),(function(){return t.functorWithIndexArray}),(function(){return i.traversableArray}),(function(n){return(e=o,function(n){return function(r){var o=i.sequence(e.Traversable2())(n),u=t.mapWithIndex(e.FunctorWithIndex0())(r);return function(n){return o(u(n))}}})(n);var e}));e.traverseWithIndex=function(n){return n.traverseWithIndex},e.traversableWithIndexArray=o}(n),function(n){n._unsafePartial=function(n){return n()}}(n["Partial.Unsafe"]=n["Partial.Unsafe"]||{}),function(n){n._crashWith=function(n){throw new Error(n)}}(n.Partial=n.Partial||{}),function(n){n.Partial=n.Partial||{};var e=n.Partial,r=n.Partial;e.crashWith=function(n){return r._crashWith}}(n),function(n){n["Partial.Unsafe"]=n["Partial.Unsafe"]||{};var e=n["Partial.Unsafe"],r=n["Partial.Unsafe"],t=n.Partial,i=r._unsafePartial;e.unsafeCrashWith=function(n){return i((function(e){return t.crashWith()(n)}))}}(n),function(n){n["Data.Variant"]=n["Data.Variant"]||{};var e=n["Data.Variant"],r=n["Data.Symbol"],t=n["Partial.Unsafe"];e.inj=function(n){return function(n){return function(e){return function(t){return{type:r.reflectSymbol(n)(e),value:t}}}}},e.on=function(n){return function(n){return function(e){return function(t){return function(i){return function(o){return o.type===r.reflectSymbol(n)(e)?t(o.value):i(o)}}}}}},e.case_=function(n){return t.unsafeCrashWith("Data.Variant: pattern match failure ["+n.type+"]")}}(n),function(n){n.error=function(n){return new Error(n)},n.message=function(n){return n.message},n.throwException=function(n){return function(){throw n}},n.catchException=function(n){return function(e){return function(){try{return e()}catch(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)?n(e)():n(new Error(e.toString()))()}}}}}(n["Effect.Exception"]=n["Effect.Exception"]||{}),function(n){n["Effect.Exception"]=n["Effect.Exception"]||{};var e=n["Effect.Exception"],r=n["Effect.Exception"],t=n["Control.Applicative"],i=n["Data.Either"],o=n["Data.Functor"],u=n.Effect;e.throw=function(n){return r.throwException(r.error(n))},e.try=function(n){return r.catchException((e=t.pure(u.applicativeEffect),function(n){return e(i.Left.create(n))}))(o.map(u.functorEffect)(i.Right.create)(n));var e},e.error=r.error,e.message=r.message,e.throwException=r.throwException}(n),function(n){n.runEffectFn1=function(n){return function(e){return function(){return n(e)}}}}(n["Effect.Uncurried"]=n["Effect.Uncurried"]||{}),function(n){n["Effect.Uncurried"]=n["Effect.Uncurried"]||{};var e=n["Effect.Uncurried"],r=n["Effect.Uncurried"];e.runEffectFn1=r.runEffectFn1}(n),function(n){n.unsafePerformEffect=function(n){return n()}}(n["Effect.Unsafe"]=n["Effect.Unsafe"]||{}),function(n){n["Effect.Unsafe"]=n["Effect.Unsafe"]||{};var e=n["Effect.Unsafe"],r=n["Effect.Unsafe"];e.unsafePerformEffect=r.unsafePerformEffect}(n),function(n){n.typeOf=function(n){return typeof n},n.tagOf=function(n){return Object.prototype.toString.call(n).slice(8,-1)},n.isNull=function(n){return null===n},n.isUndefined=function(n){return void 0===n},n.isArray=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)}}(n.Foreign=n.Foreign||{}),function(n){n["Data.List.NonEmpty"]=n["Data.List.NonEmpty"]||{};var e,r=n["Data.List.NonEmpty"],t=n["Data.List"],i=n["Data.List.Types"],o=n["Data.NonEmpty"],u=(e=o.singleton(i.plusList),function(n){return i.NonEmptyList(e(n))});r.singleton=u,r.length=function(n){return 1+t.length(n.value1)|0},r.cons=function(n){return function(e){return new o.NonEmpty(n,new i.Cons(e.value0,e.value1))}}}(n),function(n){n.Foreign=n.Foreign||{};var e=n.Foreign,r=n.Foreign,t=n["Control.Applicative"],i=n["Control.Monad.Error.Class"],o=n["Control.Monad.Except.Trans"],u=n["Data.Boolean"],a=n["Data.Either"],c=n["Data.Eq"],l=n["Data.Function"],s=n["Data.Functor"],f=n["Data.Int"],d=n["Data.List.NonEmpty"],w=n["Data.Maybe"],h=n["Data.Show"],g=n["Unsafe.Coerce"],v=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),m=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),p=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),F=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),S=g.unsafeCoerce,y=g.unsafeCoerce,b=new h.Show((function(n){if(n instanceof v)return"(ForeignError "+h.show(h.showString)(n.value0)+")";if(n instanceof p)return"(ErrorAtIndex "+h.show(h.showInt)(n.value0)+" "+h.show(b)(n.value1)+")";if(n instanceof F)return"(ErrorAtProperty "+h.show(h.showString)(n.value0)+" "+h.show(b)(n.value1)+")";if(n instanceof m)return"(TypeMismatch "+h.show(h.showString)(n.value0)+" "+h.show(h.showString)(n.value1)+")";throw new Error("Failed pattern match at Foreign (line 64, column 1 - line 68, column 89): "+[n.constructor.name])})),I=function(n){if(n instanceof v)return n.value0;if(n instanceof p)return"Error at array index "+h.show(h.showInt)(n.value0)+": "+I(n.value1);if(n instanceof F)return"Error at property "+h.show(h.showString)(n.value0)+": "+I(n.value1);if(n instanceof m)return"Type mismatch: expected "+n.value0+", found "+n.value1;throw new Error("Failed pattern match at Foreign (line 73, column 1 - line 73, column 45): "+[n.constructor.name])},C=function(n){var e=i.throwError(o.monadThrowExceptT(n));return function(n){return e(d.singleton(n))}},R=function(n){return function(e){return function(i){if(r.tagOf(i)===e)return t.pure(o.applicativeExceptT(n))(y(i));if(u.otherwise)return C(n)(new m(e,r.tagOf(i)));throw new Error("Failed pattern match at Foreign (line 110, column 1 - line 110, column 71): "+[e.constructor.name,i.constructor.name])}}},E=new c.Eq((function(n){return function(e){return n instanceof v&&e instanceof v?n.value0===e.value0:n instanceof m&&e instanceof m?n.value0===e.value0&&n.value1===e.value1:(n instanceof p&&e instanceof p||n instanceof F&&e instanceof F)&&n.value0===e.value0&&c.eq(E)(n.value1)(e.value1)}}));e.ForeignError=v,e.TypeMismatch=m,e.ErrorAtIndex=p,e.ErrorAtProperty=F,e.renderForeignError=I,e.unsafeToForeign=S,e.readString=function(n){return R(n)("String")},e.readBoolean=function(n){return R(n)("Boolean")},e.readInt=function(n){return function(e){var i,u=a.Left.create(d.singleton(new m("Int",r.tagOf(e)))),c=(i=w.maybe(u)(t.pure(a.applicativeEither)),function(n){return i(f.fromNumber(n))});return o.mapExceptT(s.map(n.Bind1().Apply0().Functor0())(a.either(l.const(u))(c)))(function(n){return R(n)("Number")}(n)(e))}},e.readArray=function(n){return function(e){if(r.isArray(e))return t.pure(o.applicativeExceptT(n))(y(e));if(u.otherwise)return C(n)(new m("array",r.tagOf(e)));throw new Error("Failed pattern match at Foreign (line 151, column 1 - line 151, column 66): "+[e.constructor.name])}},e.fail=C,e.eqForeignError=E,e.showForeignError=b,e.typeOf=r.typeOf,e.isNull=r.isNull,e.isUndefined=r.isUndefined}(n),function(n){n.unsafeReadPropImpl=function(n,e,r,t){return null==t?n:e(t[r])}}(n["Foreign.Index"]=n["Foreign.Index"]||{}),function(n){n["Foreign.Index"]=n["Foreign.Index"]||{};var e=n["Foreign.Index"],r=n["Foreign.Index"],t=n["Control.Applicative"],i=n["Control.Monad.Except.Trans"],o=n.Foreign;e.readProp=function(n){return function(n){return function(e){return function(u){return r.unsafeReadPropImpl(o.fail(n)(new o.TypeMismatch("object",o.typeOf(u))),t.pure(i.applicativeExceptT(n)),e,u)}}}(n)}}(n),function(n){n.Record=n.Record||{};var e=n.Record,r=n["Data.Symbol"],t=n["Record.Unsafe"];e.get=function(n){return function(e){return function(e){return function(i){return t.unsafeGet(r.reflectSymbol(n)(e))(i)}}}}}(n),function(n){n.copyRecord=function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},n.unsafeInsert=function(n){return function(e){return function(r){return r[n]=e,r}}}}(n["Record.Builder"]=n["Record.Builder"]||{}),function(n){n["Record.Builder"]=n["Record.Builder"]||{};var e=n["Record.Builder"],r=n["Record.Builder"],t=n["Control.Category"],i=n["Control.Semigroupoid"],o=n["Data.Symbol"],u=i.semigroupoidFn,a=t.categoryFn;e.build=function(n){return function(e){return n(r.copyRecord(e))}},e.insert=function(n){return function(n){return function(n){return function(e){return function(t){return function(i){return r.unsafeInsert(o.reflectSymbol(n)(e))(t)(i)}}}}}},e.semigroupoidBuilder=u,e.categoryBuilder=a}(n),function(n){n["Simple.JSON"]=n["Simple.JSON"]||{};var e,r,t,i=n["Simple.JSON"],o=n["Simple.JSON"],u=n["Control.Alt"],a=n["Control.Applicative"],c=n["Control.Apply"],l=n["Control.Bind"],s=n["Control.Category"],f=n["Control.Monad.Except"],d=n["Control.Monad.Except.Trans"],w=n["Control.Semigroupoid"],h=n["Data.Bifunctor"],g=n["Data.Either"],v=n["Data.Function"],m=n["Data.Functor"],p=n["Data.Identity"],F=n["Data.List.Types"],S=n["Data.Maybe"],y=n["Data.Semigroup"],b=n["Data.Symbol"],I=n["Data.TraversableWithIndex"],C=n["Data.Variant"],R=n["Effect.Exception"],E=n["Effect.Uncurried"],W=n["Effect.Unsafe"],P=n.Foreign,A=n["Foreign.Index"],D=n["Partial.Unsafe"],N=n.Record,x=n["Record.Builder"],M=n["Type.Proxy"],q=function(n){this.writeVariantImpl=n},T=function(n){this.writeImplFields=n},L=function(n){this.writeImpl=n},H=function(n){this.readVariantImpl=n},O=function(n){this.getFields=n},J=function(n){this.readImpl=n},_=function(n){return n.writeVariantImpl},U=function(n){return n.writeImplFields},k=function(n){return n.writeImpl},B=new L(P.unsafeToForeign),V=new L(P.unsafeToForeign),z=new L(P.unsafeToForeign),G=o._undefined,Q=new H((function(n){return function(n){return P.fail(p.monadIdentity)(new P.ForeignError("Unable to match any variant member."))}})),j=function(n){return n.readVariantImpl},K=new J(P.readString(p.monadIdentity)),X=new J(P.readInt(p.monadIdentity)),Y=function(n){return n.readImpl},Z=new J(a.pure(d.applicativeExceptT(p.monadIdentity))),$=new O((function(n){return function(n){return a.pure(d.applicativeExceptT(p.monadIdentity))(s.identity(x.categoryBuilder))}})),nn=new J(P.readBoolean(p.monadIdentity)),en=(r=h.lmap(h.bifunctorEither)((e=a.pure(F.applicativeNonEmptyList),function(n){return e(P.ForeignError.create(R.message(n)))})),t=E.runEffectFn1(o._parseJSON),function(n){return d.ExceptT(p.Identity(r(W.unsafePerformEffect(R.try(t(n))))))}),rn=new q((function(n){return function(n){return D.unsafeCrashWith("Variant was not able to be writen row WriteForeign.")}})),tn=new T((function(n){return function(n){return s.identity(x.categoryBuilder)}})),on=function(n){return n.getFields},un=function(n){return function(n){return new J((function(e){return m.map(d.functorExceptT(p.functorIdentity))(v.flip(x.build)({}))(on(n)(M.Proxy.value)(e))}))}},an=function(n){return function(e){return function(r){return function(t){return d.ExceptT(c.apply(e.Apply0())(m.map(e.Apply0().Functor0())(function(n){return function(e){return function(r){if(e instanceof g.Left&&r instanceof g.Right)return new g.Left(e.value0);if(e instanceof g.Left&&r instanceof g.Left)return new g.Left(y.append(n)(e.value0)(r.value0));if(e instanceof g.Right&&r instanceof g.Left)return new g.Left(r.value0);if(e instanceof g.Right&&r instanceof g.Right)return new g.Right(e.value0(r.value0));throw new Error("Failed pattern match at Simple.JSON (line 241, column 1 - line 241, column 90): "+[e.constructor.name,r.constructor.name])}}}(n))(d.runExceptT(r)))(d.runExceptT(t)))}}}},cn=function(n){return function(e){return function(r){return function(t){return function(t){return new O((function(t){return function(t){var i=on(r)(M.Proxy.value)(t),o=b.reflectSymbol(n)(b.SProxy.value),u=f.withExcept(m.map(F.functorNonEmptyList)(P.ErrorAtProperty.create(o))),c=l.bind(d.bindExceptT(p.monadIdentity))(u(l.bindFlipped(d.bindExceptT(p.monadIdentity))(Y(e))(A.readProp(p.monadIdentity)(o)(t))))((function(e){return a.pure(d.applicativeExceptT(p.monadIdentity))(x.insert()()(n)(b.SProxy.value)(e))}));return an(F.semigroupNonEmptyList)(p.applicativeIdentity)(m.map(d.functorExceptT(p.functorIdentity))(w.compose(x.semigroupoidBuilder))(c))(i)}}))}}}}};i.readJSON=function(n){var e=l.composeKleisliFlipped(d.bindExceptT(p.monadIdentity))(Y(n))(en);return function(n){return f.runExcept(e(n))}},i.writeJSON=function(n){var e=k(n);return function(n){return o._unsafeStringify(e(n))}},i.ReadForeign=J,i.readImpl=Y,i.WriteForeign=L,i.writeImpl=k,i.readInt=X,i.readString=K,i.readBoolean=nn,i.readArray=function(n){return new J(l.composeKleisliFlipped(d.bindExceptT(p.monadIdentity))(I.traverseWithIndex(I.traversableWithIndexArray)(d.applicativeExceptT(p.monadIdentity))((function(e){return function(r){return f.withExcept(m.map(F.functorNonEmptyList)(P.ErrorAtIndex.create(e)))(Y(n)(r))}})))(P.readArray(p.monadIdentity)))},i.readMaybe=function(n){return new J((e=Y(n),function(n){return P.isNull(n)||P.isUndefined(n)?a.pure(d.applicativeExceptT(p.monadIdentity))(S.Nothing.value):m.map(d.functorExceptT(p.functorIdentity))(S.Just.create)(e(n))}));var e},i.readRecord=un,i.readFieldsCons=cn,i.readFieldsNil=$,i.readForeignVariant=function(n){return function(n){return new J((function(e){return j(n)(M.Proxy.value)(e)}))}},i.readVariantNil=Q,i.readVariantCons=function(n){return function(e){return function(r){return function(r){return new H((function(t){return function(t){var i=b.reflectSymbol(n)(b.SProxy.value);return u.alt(d.altExceptT(F.semigroupNonEmptyList)(p.monadIdentity))(l.bind(d.bindExceptT(p.monadIdentity))(Y(un()(cn(new b.IsSymbol((function(){return"type"})))(K)(cn(new b.IsSymbol((function(){return"value"})))(Z)($)()())()()))(t))((function(r){return r.type===i?l.bind(d.bindExceptT(p.monadIdentity))(Y(e)(r.value))((function(e){return a.pure(d.applicativeExceptT(p.monadIdentity))(C.inj()(n)(b.SProxy.value)(e))})):P.fail(p.monadIdentity)(P.ForeignError.create("Did not match variant tag "+i))})))(j(r)(M.Proxy.value)(t))}}))}}}},i.writeForeignString=B,i.writeForeignInt=V,i.writeForeignBoolean=z,i.writeForeignArray=function(n){return new L((function(e){return P.unsafeToForeign(m.map(m.functorArray)(k(n))(e))}))},i.writeForeignMaybe=function(n){return new L(S.maybe(G)(k(n)))},i.recordWriteForeign=function(n){return function(n){return new L((function(e){var r=U(n)(M.Proxy.value)(e);return P.unsafeToForeign(x.build(r)({}))}))}},i.consWriteForeignFields=function(n){return function(e){return function(r){return function(t){return function(t){return function(t){return new T((function(t){return function(t){var i=U(r)(M.Proxy.value)(t),o=k(e)(N.get(n)()(b.SProxy.value)(t));return w.compose(x.semigroupoidBuilder)(x.insert()()(n)(b.SProxy.value)(o))(i)}}))}}}}}},i.nilWriteForeignFields=tn,i.writeForeignVariant=function(n){return function(n){return new L((function(e){return _(n)(M.Proxy.value)(e)}))}},i.nilWriteForeignVariant=rn,i.consWriteForeignVariant=function(n){return function(e){return function(r){return function(r){return new q((function(t){return function(t){return C.on()(n)(b.SProxy.value)((function(r){return P.unsafeToForeign({type:b.reflectSymbol(n)(b.SProxy.value),value:k(e)(r)})}))(_(r)(M.Proxy.value))(t)}}))}}}}}(n),function(n){n["Data.Pitches.Class"]=n["Data.Pitches.Class"]||{};var e=n["Data.Pitches.Class"],r=n["Control.Monad.Except.Trans"],t=n["Data.Functor"],i=n["Data.Group"],o=n["Data.Identity"],u=n["Data.Semigroup"],a=n["Data.Show"],c=n["Simple.JSON"],l=function(n){return n},s=function(n){this.parseNotation=n},f=function(n){return n.ic},d=new t.Functor((function(n){return function(e){return n(e)}})),w=function(n){return i.ginverse(n.Group0())};e.Interval=function(n,e,r,t){this.Group0=n,this.direction=e,this.iabs=r,this.octave=t},e.direction=function(n){return n.direction},e.iabs=function(n){return n.iabs},e.down=w,e.HasIntervalClass=function(n,e,r){this.Interval0=n,this.Interval1=e,this.ic=r},e.ic=f,e.pc=function(n){return t.map(d)(f(n))},e.Diatonic=function(n,e){this.Interval0=n,this.isStep=e},e.isStep=function(n){return n.isStep},e.parseNotation=function(n){return n.parseNotation},e.Pitch=l,e.toInterval=function(n){return function(n){return n}},e.pto=function(n){return function(e){return function(r){return u.append(n.Group0().Monoid0().Semigroup0())(r)(w(n)(e))}}},e.ShowPitch=function(n){this.showPitch=n},e.ParsePitchNotation=function(n){this.parsePitchNotation=n},e.WriteForeignPitch=function(n){this.writeImplPitch=n},e.ReadForeignPitch=function(n){this.readImplPitch=n},e.eqPitch=function(n){return n},e.ordPitch=function(n){return n},e.showPitchInst=function(n){return new a.Show((function(e){return n.showPitch(e)}))},e.parsenotationPitch=function(n){return new s(n.parsePitchNotation)},e.writeForeignPitch=function(n){return new c.WriteForeign((function(e){return n.writeImplPitch(e)}))},e.readForeignPitch=function(n){return new c.ReadForeign((function(e){return t.map(r.functorExceptT(o.functorIdentity))(l)(n.readImplPitch(e))}))}}(n),function(n){n["Data.Pitches.Internal"]=n["Data.Pitches.Internal"]||{};var e=n["Data.Pitches.Internal"],r=n["Control.Applicative"],t=n["Control.Bind"],i=n["Control.Monad.Except.Trans"],o=n["Data.Char"],u=n["Data.Foldable"],a=n["Data.Identity"],c=n["Data.List.Types"],l=n["Data.Maybe"],s=n["Data.Pitches.Class"],f=n.Foreign,d=n["Simple.JSON"],w=n["Text.Parsing.StringParser"],h=n["Text.Parsing.StringParser.CodePoints"],g=n["Text.Parsing.StringParser.Combinators"],v=o.toCharCode("0"),m=t.bind(w.bindParser)(g.option("+")(h.char("-")))((function(n){var e="-"===n?-1:1;return t.bind(w.bindParser)(g.many1(h.anyDigit))((function(n){return r.pure(w.applicativeParser)(e*u.foldl(c.foldableNonEmptyList)((function(n){return function(e){return(10*n|0)+function(n){return o.toCharCode(n)-v|0}(e)|0}}))(0)(n)|0)}))}));e.parseInt=m,e.readJSONviaParse=function(n){return function(e){return function(o){return t.bind(i.bindExceptT(a.monadIdentity))(d.readImpl(d.readString)(o))((function(t){var o=s.parseNotation(n)(t);if(o instanceof l.Nothing)return f.fail(a.monadIdentity)(f.ForeignError.create("Cannot parse "+t+" as "+e+"!"));if(o instanceof l.Just)return r.pure(i.applicativeExceptT(a.monadIdentity))(o.value0);throw new Error("Failed pattern match at Data.Pitches.Internal (line 36, column 3 - line 38, column 21): "+[o.constructor.name])}))}}}}(n),function(n){n["Data.Pitches.Spelled"]=n["Data.Pitches.Spelled"]||{};var e,r,t,i,o=n["Data.Pitches.Spelled"],u=n["Control.Alt"],a=n["Control.Applicative"],c=n["Control.Bind"],l=n["Control.Monad.Except.Trans"],s=n["Data.Boolean"],f=n["Data.Char"],d=n["Data.Either"],w=n["Data.Eq"],h=n["Data.EuclideanRing"],g=n["Data.Foldable"],v=n["Data.Functor"],m=n["Data.Group"],p=n["Data.Identity"],F=n["Data.List.NonEmpty"],S=n["Data.Maybe"],y=n["Data.Monoid"],b=n["Data.Ord"],I=n["Data.Ordering"],C=n["Data.Pitches.Class"],R=n["Data.Pitches.Internal"],E=n["Data.Ring"],W=n["Data.Semigroup"],P=n["Data.Show"],A=n["Data.String.CodePoints"],D=n["Simple.JSON"],N=n["Text.Parsing.StringParser"],x=n["Text.Parsing.StringParser.CodePoints"],M=n["Text.Parsing.StringParser.Combinators"],q=function(n,e,r,t,i,o,u){this.alteration=n,this.degree=e,this.diasteps=r,this.fifths=t,this.generic=i,this.internalOctaves=o,this.octaves=u},T=function(n){return function(e){return{fifths:n,octaves:e}}},L=function(n){return n},H=new W.Semigroup((function(n){return function(e){return T(n.fifths+e.fifths|0)(n.octaves+e.octaves|0)}})),O=new W.Semigroup((function(n){return function(e){return L(n+e|0)}})),J=(r=function(n){return M.many1(x.char(n))},t=v.map(N.functorParser)(F.length)(u.alt(N.altParser)(r("♯"))(r("#"))),i=v.map(N.functorParser)((e=E.negate(E.ringInt),function(n){return e(F.length(n))}))(u.alt(N.altParser)(r("♭"))(r("b"))),M.option(0)(u.alt(N.altParser)(t)(i))),_=function(n){return n.octaves},U=new y.Monoid((function(){return H}),T(0)(0)),k=new y.Monoid((function(){return O}),L(0)),B=new m.Group((function(){return U}),(function(n){return T(0|-n.fifths)(0|-n.octaves)})),V=new m.Group((function(){return k}),(function(n){return L(0|-n)})),z=function(n){return h.mod(h.euclideanRingInt)(4*n|0)(7)},G=new q((function(n){return h.div(h.euclideanRingInt)(n+1|0)(7)}),(function(n){return z(n)}),(function(n){return z(n)}),(function(n){return n}),(function(n){return z(n)}),(function(n){return 0}),(function(n){return 0})),Q=function(n){return n.fifths},j=new w.Eq((function(n){return function(e){return n.fifths===e.fifths&&n.octaves===e.octaves}})),K=new w.Eq((function(n){return function(e){return n===e}})),X=function(n){return n.diasteps},Y=new C.Interval((function(){return V}),(function(n){var e=X(G)(n);return 0===e?I.EQ.value:e<4?I.GT.value:I.LT.value}),(function(n){if(w.eq(I.eqOrdering)(C.direction(Y)(n))(I.LT.value))return C.down(Y)(n);if(s.otherwise)return n;throw new Error("Failed pattern match at Data.Pitches.Spelled (line 295, column 1 - line 302, column 20): "+[n.constructor.name])}),L(0)),Z=function(n){return n.degree},$=new C.Diatonic((function(){return Y}),(function(n){var e=Z(G)(n);return 0===e||1===e||6===e})),nn=new q((function(n){return h.div(h.euclideanRingInt)(Q(nn)(C.iabs(en)(n))+1|0)(7)}),(function(n){return z(n.fifths)}),(function(n){return(4*n.fifths|0)+(7*n.octaves|0)|0}),(function(n){return n.fifths}),(function(n){if(w.eq(I.eqOrdering)(C.direction(en)(n))(I.LT.value))return 0|-Z(nn)(C.down(en)(n));if(s.otherwise)return Z(nn)(n);throw new Error("Failed pattern match at Data.Pitches.Spelled (line 170, column 1 - line 179, column 47): "+[n.constructor.name])}),(function(n){return n.octaves}),(function(n){return n.octaves+h.div(h.euclideanRingInt)(4*n.fifths|0)(7)|0})),en=new C.Interval((function(){return B}),(function(n){return b.compare(b.ordInt)(X(nn)(n))(0)}),(function(n){if(w.eq(I.eqOrdering)(C.direction(en)(n))(I.LT.value))return C.down(en)(n);if(s.otherwise)return n;throw new Error("Failed pattern match at Data.Pitches.Spelled (line 193, column 1 - line 198, column 20): "+[n.constructor.name])}),T(0)(1)),rn=new C.HasIntervalClass((function(){return en}),(function(){return Y}),(function(n){return L(n.fifths)})),tn=f.toCharCode("A"),on=c.bind(N.bindParser)(x.oneOf(g.foldableArray)(["A","B","C","D","E","F","G"]))((function(n){var e=h.mod(h.euclideanRingInt)((f.toCharCode(n)-tn|0)-2|0)(7);return c.bind(N.bindParser)(J)((function(n){return a.pure(N.applicativeParser)((h.mod(h.euclideanRingInt)(1+(2*e|0)|0)(7)-1|0)+(7*n|0)|0)}))})),un=new C.ParsePitchNotation((function(n){var e=c.bind(N.bindParser)(on)((function(n){return c.bind(N.bindParser)(R.parseInt)((function(e){return a.pure(N.applicativeParser)(function(n){return function(e){return C.Pitch(T(n)(e))}}(n)(e-h.div(h.euclideanRingInt)(4*n|0)(7)|0))}))}));return d.hush(N.runParser(e)(n))})),an=new C.ReadForeignPitch((function(n){return v.map(l.functorExceptT(p.functorIdentity))(C.toInterval(en))(R.readJSONviaParse(C.parsenotationPitch(un))("spelled pitch")(n))})),cn=function(n){return n.alteration},ln=new b.Ord((function(){return j}),(function(n){return function(e){return b.compare(b.ordArray(b.ordInt))([X(nn)(n),cn(nn)(n)])([X(nn)(e),cn(nn)(e)])}})),sn=function(n){return function(e){return function(r){return new q((function(n){return cn(r)(C.ic(e)(n))}),(function(e){return Z(n)(e)}),(function(e){return X(n)(e)}),(function(e){return Q(n)(e)}),(function(e){return n.generic(e)}),(function(e){return n.internalOctaves(e)}),(function(e){return _(n)(e)}))}}},fn=new C.ShowPitch((function(n){var e,r,t=(e=cn(sn(nn)(rn)(G))(n),function(n){return function(r){if(0===e)return"";if(e>0)return y.power(y.monoidString)(n)(e);if(s.otherwise)return y.power(y.monoidString)(r)(b.abs(b.ordInt)(E.ringInt)(e));throw new Error("Failed pattern match at Data.Pitches.Spelled (line 86, column 1 - line 86, column 44): "+[e.constructor.name,n.constructor.name,r.constructor.name])}})("♯")("♭");return(r=sn(nn)(rn)(G),function(n){return A.singleton(A.codePointFromChar(S.fromMaybe("X")(f.fromCharCode(tn+h.mod(h.euclideanRingInt)(Z(r)(n)+2|0)(7)|0))))})(n)+(t+P.show(P.showInt)(_(sn(nn)(rn)(G))(n)))})),dn=new C.WriteForeignPitch((function(n){return D.writeImpl(D.writeForeignString)(P.show(C.showPitchInst(fn))(n))}));o.eqSInterval=j,o.ordSInterval=ln,o.intervalSInterval=en,o.hasintervalclassSInterval=rn,o.eqSIC=K,o.intervalSIC=Y,o.diatonicSIC=$,o.showpitchSInterval=fn,o.writeForeignSPitch=dn,o.readForeignSPitch=an,o.parsenotationSPitch=un}(n),function(n){n.intercalate=function(n){return function(e){var r=e.length;if(0===r)return"";for(var t=e[0],i=1;i<r;i++)t=t+n+e[i];return t}}}(n["Data.Show.Generic"]=n["Data.Show.Generic"]||{}),function(n){n["Data.Show.Generic"]=n["Data.Show.Generic"]||{};var e=n["Data.Show.Generic"],r=n["Data.Show.Generic"],t=n["Data.Generic.Rep"],i=n["Data.Semigroup"],o=n["Data.Show"],u=n["Data.Symbol"],a=n["Type.Proxy"],c=function(n){this.genericShowArgs=n},l=function(n){this["genericShow'"]=n},s=new c((function(n){return[]})),f=function(n){return n["genericShow'"]};e.genericShow=function(n){return function(e){return function(r){return f(e)(t.from(n)(r))}}},e.genericShowArgsNoArguments=s,e.genericShowSum=function(n){return function(e){return new l((function(r){if(r instanceof t.Inl)return f(n)(r.value0);if(r instanceof t.Inr)return f(e)(r.value0);throw new Error("Failed pattern match at Data.Show.Generic (line 26, column 1 - line 28, column 40): "+[r.constructor.name])}))}},e.genericShowConstructor=function(n){return function(e){return new l((function(t){var o=u.reflectSymbol(e)(a.Proxy.value),c=n.genericShowArgs(t);return 0===c.length?o:"("+r.intercalate(" ")(i.append(i.semigroupArray)([o])(c))+")"}))}},e.genericShowArgsArgument=function(n){return new c((function(e){return[o.show(n)(e)]}))}}(n),function(n){n["Data.Map.Internal"]=n["Data.Map.Internal"]||{};var e=n["Data.Map.Internal"],r=n["Control.Applicative"],t=n["Data.Foldable"],i=n["Data.Function"],o=n["Data.List.Types"],u=n["Data.Maybe"],a=n["Data.Ord"],c=n["Data.Ordering"],l=n["Data.Semigroup"],s=n["Data.Show"],f=n["Data.Tuple"],d=n["Data.Unfoldable"],w=function(){function n(){}return n.value=new n,n}(),h=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(i){return new n(e,r,t,i)}}}},n}(),g=function(){function n(n,e,r,t,i,o,u){this.value0=n,this.value1=e,this.value2=r,this.value3=t,this.value4=i,this.value5=o,this.value6=u}return n.create=function(e){return function(r){return function(t){return function(i){return function(o){return function(u){return function(a){return new n(e,r,t,i,o,u,a)}}}}}}},n}(),v=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),m=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),p=function(){function n(n,e,r,t,i,o){this.value0=n,this.value1=e,this.value2=r,this.value3=t,this.value4=i,this.value5=o}return n.create=function(e){return function(r){return function(t){return function(i){return function(o){return function(u){return new n(e,r,t,i,o,u)}}}}}},n}(),F=function(){function n(n,e,r,t,i,o){this.value0=n,this.value1=e,this.value2=r,this.value3=t,this.value4=i,this.value5=o}return n.create=function(e){return function(r){return function(t){return function(i){return function(o){return function(u){return new n(e,r,t,i,o,u)}}}}}},n}(),S=function(){function n(n,e,r,t,i,o){this.value0=n,this.value1=e,this.value2=r,this.value3=t,this.value4=i,this.value5=o}return n.create=function(e){return function(r){return function(t){return function(i){return function(o){return function(u){return new n(e,r,t,i,o,u)}}}}}},n}(),y=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(i){return new n(e,r,t,i)}}}},n}(),b=function(n){if(n instanceof w)return o.Nil.value;if(n instanceof h)return l.append(o.semigroupList)(b(n.value0))(l.append(o.semigroupList)(r.pure(o.applicativeList)(n.value2))(b(n.value3)));if(n instanceof g)return l.append(o.semigroupList)(b(n.value0))(l.append(o.semigroupList)(r.pure(o.applicativeList)(n.value2))(l.append(o.semigroupList)(b(n.value3))(l.append(o.semigroupList)(r.pure(o.applicativeList)(n.value5))(b(n.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 626, column 1 - line 626, column 40): "+[n.constructor.name])},I=function(n){return function(e){return new h(w.value,n,e,w.value)}},C=function(n){return function(e){return d.unfoldr(n)((function(n){var e,r=!1;function t(e){if(e instanceof o.Nil)return r=!0,u.Nothing.value;if(e instanceof o.Cons){if(e.value0 instanceof w)return void(n=e.value1);if(e.value0 instanceof h&&e.value0.value0 instanceof w&&e.value0.value3 instanceof w)return r=!0,u.Just.create(new f.Tuple(new f.Tuple(e.value0.value1,e.value0.value2),e.value1));if(e.value0 instanceof h&&e.value0.value0 instanceof w)return r=!0,u.Just.create(new f.Tuple(new f.Tuple(e.value0.value1,e.value0.value2),new o.Cons(e.value0.value3,e.value1)));if(e.value0 instanceof h)return void(n=new o.Cons(e.value0.value0,new o.Cons(I(e.value0.value1)(e.value0.value2),new o.Cons(e.value0.value3,e.value1))));if(e.value0 instanceof g)return void(n=new o.Cons(e.value0.value0,new o.Cons(I(e.value0.value1)(e.value0.value2),new o.Cons(e.value0.value3,new o.Cons(I(e.value0.value4)(e.value0.value5),new o.Cons(e.value0.value6,e.value1))))));throw new Error("Failed pattern match at Data.Map.Internal (line 591, column 18 - line 600, column 71): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 590, column 3 - line 590, column 19): "+[e.constructor.name])}for(;!r;)e=t(n);return e}))(new o.Cons(e,o.Nil.value))}},R=C(d.unfoldableArray),E=function(n){return function(e){var r=a.compare(n);return function(n){var t,i=!1;function o(t){if(t instanceof w)return i=!0,u.Nothing.value;if(t instanceof h){var o=r(e)(t.value1);return o instanceof c.EQ?(i=!0,new u.Just(t.value2)):o instanceof c.LT?void(n=t.value0):void(n=t.value3)}if(t instanceof g){var a=r(e)(t.value1);if(a instanceof c.EQ)return i=!0,new u.Just(t.value2);var l=r(e)(t.value4);return l instanceof c.EQ?(i=!0,new u.Just(t.value5)):a instanceof c.LT?void(n=t.value0):l instanceof c.GT?void(n=t.value6):void(n=t.value3)}throw new Error("Failed pattern match at Data.Map.Internal (line 211, column 5 - line 211, column 22): "+[t.constructor.name])}for(;!i;)t=o(n);return t}}},W=function(n){return function(e){return function(r){var t,i=n,u=e,a=!1;function c(n,e,t){if(e instanceof o.Nil)return a=!0,t;if(e instanceof o.Cons){if(e.value0 instanceof v)return i=n,u=e.value1,void(r=new h(t,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof m)return i=n,u=e.value1,void(r=new h(e.value0.value0,e.value0.value1,e.value0.value2,t));if(e.value0 instanceof p)return i=n,u=e.value1,void(r=new g(t,e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F)return i=n,u=e.value1,void(r=new g(e.value0.value0,e.value0.value1,e.value0.value2,t,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof S)return i=n,u=e.value1,void(r=new g(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5,t));throw new Error("Failed pattern match at Data.Map.Internal (line 432, column 3 - line 437, column 88): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 429, column 1 - line 429, column 80): "+[e.constructor.name,t.constructor.name])}for(;!a;)t=c(i,u,r);return t}}},P=function(n){return function(e){return function(r){var t,i=a.compare(n);return t=o.Nil.value,function(u){var a,l=t,s=!1;function f(t,a){if(a instanceof w)return s=!0,function(e){return function(r){var t,i=e,u=!1;function a(e,t){if(e instanceof o.Nil)return u=!0,new h(t.value0,t.value1,t.value2,t.value3);if(e instanceof o.Cons){if(e.value0 instanceof v)return u=!0,W(n)(e.value1)(new g(t.value0,t.value1,t.value2,t.value3,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof m)return u=!0,W(n)(e.value1)(new g(e.value0.value0,e.value0.value1,e.value0.value2,t.value0,t.value1,t.value2,t.value3));if(e.value0 instanceof p)return i=e.value1,void(r=new y(new h(t.value0,t.value1,t.value2,t.value3),e.value0.value0,e.value0.value1,new h(e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5)));if(e.value0 instanceof F)return i=e.value1,void(r=new y(new h(e.value0.value0,e.value0.value1,e.value0.value2,t.value0),t.value1,t.value2,new h(t.value3,e.value0.value3,e.value0.value4,e.value0.value5)));if(e.value0 instanceof S)return i=e.value1,void(r=new y(new h(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3),e.value0.value4,e.value0.value5,new h(t.value0,t.value1,t.value2,t.value3)));throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 5 - line 473, column 108): "+[e.value0.constructor.name,t.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 465, column 3 - line 465, column 56): "+[e.constructor.name,t.constructor.name])}for(;!u;)t=a(i,r);return t}}(t)(new y(w.value,e,r,w.value));if(a instanceof h){var f=i(e)(a.value1);return f instanceof c.EQ?(s=!0,W(n)(t)(new h(a.value0,e,r,a.value3))):f instanceof c.LT?(l=new o.Cons(new v(a.value1,a.value2,a.value3),t),void(u=a.value0)):(l=new o.Cons(new m(a.value0,a.value1,a.value2),t),void(u=a.value3))}if(a instanceof g){var d=i(e)(a.value1);if(d instanceof c.EQ)return s=!0,W(n)(t)(new g(a.value0,e,r,a.value3,a.value4,a.value5,a.value6));var b=i(e)(a.value4);return b instanceof c.EQ?(s=!0,W(n)(t)(new g(a.value0,a.value1,a.value2,a.value3,e,r,a.value6))):d instanceof c.LT?(l=new o.Cons(new p(a.value1,a.value2,a.value3,a.value4,a.value5,a.value6),t),void(u=a.value0)):d instanceof c.GT&&b instanceof c.LT?(l=new o.Cons(new F(a.value0,a.value1,a.value2,a.value4,a.value5,a.value6),t),void(u=a.value3)):(l=new o.Cons(new S(a.value0,a.value1,a.value2,a.value3,a.value4,a.value5),t),void(u=a.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 448, column 3 - line 448, column 55): "+[t.constructor.name,a.constructor.name])}for(;!s;)a=f(l,u);return a}}}},A=function(n){return function(e){var r,t=function(e){return function(r){var t,i=e,u=!1;function a(e,t){if(e instanceof o.Nil)return u=!0,t;if(e instanceof o.Cons){if(e.value0 instanceof v&&e.value0.value2 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new h(w.value,e.value0.value0,e.value0.value1,w.value));if(e.value0 instanceof m&&e.value0.value0 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new h(w.value,e.value0.value1,e.value0.value2,w.value));if(e.value0 instanceof v&&e.value0.value2 instanceof h)return i=e.value1,void(r=new g(t,e.value0.value0,e.value0.value1,e.value0.value2.value0,e.value0.value2.value1,e.value0.value2.value2,e.value0.value2.value3));if(e.value0 instanceof m&&e.value0.value0 instanceof h)return i=e.value1,void(r=new g(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3,e.value0.value1,e.value0.value2,t));if(e.value0 instanceof v&&e.value0.value2 instanceof g)return u=!0,W(n)(e.value1)(new h(new h(t,e.value0.value0,e.value0.value1,e.value0.value2.value0),e.value0.value2.value1,e.value0.value2.value2,new h(e.value0.value2.value3,e.value0.value2.value4,e.value0.value2.value5,e.value0.value2.value6)));if(e.value0 instanceof m&&e.value0.value0 instanceof g)return u=!0,W(n)(e.value1)(new h(new h(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3),e.value0.value0.value4,e.value0.value0.value5,new h(e.value0.value0.value6,e.value0.value1,e.value0.value2,t)));if(e.value0 instanceof p&&e.value0.value2 instanceof w&&e.value0.value5 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new g(w.value,e.value0.value0,e.value0.value1,w.value,e.value0.value3,e.value0.value4,w.value));if(e.value0 instanceof F&&e.value0.value0 instanceof w&&e.value0.value5 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new g(w.value,e.value0.value1,e.value0.value2,w.value,e.value0.value3,e.value0.value4,w.value));if(e.value0 instanceof S&&e.value0.value0 instanceof w&&e.value0.value3 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new g(w.value,e.value0.value1,e.value0.value2,w.value,e.value0.value4,e.value0.value5,w.value));if(e.value0 instanceof p&&e.value0.value2 instanceof h)return u=!0,W(n)(e.value1)(new h(new g(t,e.value0.value0,e.value0.value1,e.value0.value2.value0,e.value0.value2.value1,e.value0.value2.value2,e.value0.value2.value3),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F&&e.value0.value0 instanceof h)return u=!0,W(n)(e.value1)(new h(new g(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3,e.value0.value1,e.value0.value2,t),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F&&e.value0.value5 instanceof h)return u=!0,W(n)(e.value1)(new h(e.value0.value0,e.value0.value1,e.value0.value2,new g(t,e.value0.value3,e.value0.value4,e.value0.value5.value0,e.value0.value5.value1,e.value0.value5.value2,e.value0.value5.value3)));if(e.value0 instanceof S&&e.value0.value3 instanceof h)return u=!0,W(n)(e.value1)(new h(e.value0.value0,e.value0.value1,e.value0.value2,new g(e.value0.value3.value0,e.value0.value3.value1,e.value0.value3.value2,e.value0.value3.value3,e.value0.value4,e.value0.value5,t)));if(e.value0 instanceof p&&e.value0.value2 instanceof g)return u=!0,W(n)(e.value1)(new g(new h(t,e.value0.value0,e.value0.value1,e.value0.value2.value0),e.value0.value2.value1,e.value0.value2.value2,new h(e.value0.value2.value3,e.value0.value2.value4,e.value0.value2.value5,e.value0.value2.value6),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F&&e.value0.value0 instanceof g)return u=!0,W(n)(e.value1)(new g(new h(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3),e.value0.value0.value4,e.value0.value0.value5,new h(e.value0.value0.value6,e.value0.value1,e.value0.value2,t),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F&&e.value0.value5 instanceof g)return u=!0,W(n)(e.value1)(new g(e.value0.value0,e.value0.value1,e.value0.value2,new h(t,e.value0.value3,e.value0.value4,e.value0.value5.value0),e.value0.value5.value1,e.value0.value5.value2,new h(e.value0.value5.value3,e.value0.value5.value4,e.value0.value5.value5,e.value0.value5.value6)));if(e.value0 instanceof S&&e.value0.value3 instanceof g)return u=!0,W(n)(e.value1)(new g(e.value0.value0,e.value0.value1,e.value0.value2,new h(e.value0.value3.value0,e.value0.value3.value1,e.value0.value3.value2,e.value0.value3.value3),e.value0.value3.value4,e.value0.value3.value5,new h(e.value0.value3.value6,e.value0.value4,e.value0.value5,t)));throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 9 - line 542, column 136): "+[e.value0.constructor.name,t.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 522, column 5 - line 542, column 136): "+[e.constructor.name])}for(;!u;)t=a(i,r);return t}},i=function(n){return function(e){var r,i=n,u=!1;function a(n,r){if(r instanceof h&&r.value0 instanceof w&&r.value3 instanceof w)return u=!0,t(n)(w.value);if(r instanceof h)return i=new o.Cons(new m(r.value0,r.value1,r.value2),n),void(e=r.value3);if(r instanceof g&&r.value0 instanceof w&&r.value3 instanceof w&&r.value6 instanceof w)return u=!0,t(new o.Cons(new m(w.value,r.value1,r.value2),n))(w.value);if(r instanceof g)return i=new o.Cons(new S(r.value0,r.value1,r.value2,r.value3,r.value4,r.value5),n),void(e=r.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 554, column 5 - line 558, column 107): "+[r.constructor.name])}for(;!u;)r=a(i,e);return r}},l=function(n){var e,r=!1;function t(e){if(e instanceof h&&e.value3 instanceof w)return r=!0,{key:e.value1,value:e.value2};if(e instanceof h)n=e.value3;else{if(e instanceof g&&e.value6 instanceof w)return r=!0,{key:e.value4,value:e.value5};if(!(e instanceof g))throw new Error("Failed pattern match at Data.Map.Internal (line 545, column 33 - line 549, column 45): "+[e.constructor.name]);n=e.value6}}for(;!r;)e=t(n);return e},s=a.compare(n);return r=o.Nil.value,function(a){var d,y=r,b=!1;function I(r,d){if(d instanceof w)return b=!0,u.Nothing.value;if(d instanceof h){var I=s(e)(d.value1);if(d.value3 instanceof w&&I instanceof c.EQ)return b=!0,new u.Just(new f.Tuple(d.value2,t(r)(w.value)));if(I instanceof c.EQ){var C=l(d.value0);return b=!0,new u.Just(new f.Tuple(d.value2,i(new o.Cons(new v(C.key,C.value,d.value3),r))(d.value0)))}return I instanceof c.LT?(y=new o.Cons(new v(d.value1,d.value2,d.value3),r),void(a=d.value0)):(y=new o.Cons(new m(d.value0,d.value1,d.value2),r),void(a=d.value3))}if(d instanceof g){var R=d.value0 instanceof w&&d.value3 instanceof w&&d.value6 instanceof w,E=(I=s(e)(d.value4),s(e)(d.value1));return R&&E instanceof c.EQ?(b=!0,new u.Just(new f.Tuple(d.value2,W(n)(r)(new h(w.value,d.value4,d.value5,w.value))))):R&&I instanceof c.EQ?(b=!0,new u.Just(new f.Tuple(d.value5,W(n)(r)(new h(w.value,d.value1,d.value2,w.value))))):E instanceof c.EQ?(C=l(d.value0),b=!0,new u.Just(new f.Tuple(d.value2,i(new o.Cons(new p(C.key,C.value,d.value3,d.value4,d.value5,d.value6),r))(d.value0)))):I instanceof c.EQ?(C=l(d.value3),b=!0,new u.Just(new f.Tuple(d.value5,i(new o.Cons(new F(d.value0,d.value1,d.value2,C.key,C.value,d.value6),r))(d.value3)))):E instanceof c.LT?(y=new o.Cons(new p(d.value1,d.value2,d.value3,d.value4,d.value5,d.value6),r),void(a=d.value0)):E instanceof c.GT&&I instanceof c.LT?(y=new o.Cons(new F(d.value0,d.value1,d.value2,d.value4,d.value5,d.value6),r),void(a=d.value3)):(y=new o.Cons(new S(d.value0,d.value1,d.value2,d.value3,d.value4,d.value5),r),void(a=d.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 34 - line 518, column 80): "+[d.constructor.name])}for(;!b;)d=I(y,a);return d}}},D=new t.Foldable((function(n){return function(e){return function(r){return t.foldMap(o.foldableList)(n)(e)(b(r))}}}),(function(n){return function(e){return function(r){return t.foldl(o.foldableList)(n)(e)(b(r))}}}),(function(n){return function(e){return function(r){return t.foldr(o.foldableList)(n)(e)(b(r))}}})),N=w.value,x=function(n){return function(e){return function(r){return u.maybe(r)(f.snd)(A(n)(e)(r))}}},M=function(n){return function(e){return function(r){return function(t){var i=e(E(n)(r)(t));if(i instanceof u.Nothing)return x(n)(r)(t);if(i instanceof u.Just)return P(n)(r)(i.value0)(t);throw new Error("Failed pattern match at Data.Map.Internal (line 563, column 15 - line 565, column 25): "+[i.constructor.name])}}}},q=function(n){return function(e){return function(r){return function(i){return t.foldl(o.foldableList)((function(r){return function(t){return M(n)((i=u.maybe(t.value1)(e(t.value1)),function(n){return u.Just.create(i(n))}))(t.value0)(r);var i}}))(i)(C(o.unfoldableList)(r))}}}};e.empty=N,e.isEmpty=function(n){return n instanceof w},e.singleton=I,e.insert=P,e.insertWith=function(n){return function(e){return function(r){return function(t){return M(n)((o=u.maybe(t)(i.flip(e)(t)),function(n){return u.Just.create(o(n))}))(r);var o}}}},e.lookup=E,e.fromFoldable=function(n){return function(e){return t.foldl(e)((function(e){return function(r){return P(n)(r.value0)(r.value1)(e)}}))(N)}},e.fromFoldableWith=function(n){return function(e){return function(r){return t.foldl(e)((function(e){return function(t){return M(n)(function(n){return function(e){if(e instanceof u.Just)return u.Just.create(r(n)(e.value0));if(e instanceof u.Nothing)return new u.Just(n);throw new Error("Failed pattern match at Data.Map.Internal (line 580, column 3 - line 580, column 38): "+[n.constructor.name,e.constructor.name])}}(t.value1))(t.value0)(e)}}))(N)}}},e.toUnfoldable=C,e.delete=x,e.pop=A,e.member=function(n){return function(e){return function(r){return u.isJust(E(n)(e)(r))}}},e.alter=M,e.values=b,e.union=function(n){return q(n)(i.const)},e.unionWith=q,e.showMap=function(n){return function(e){return new s.Show((function(r){return"(fromFoldable "+s.show(s.showArray(f.showTuple(n)(e)))(R(r))+")"}))}},e.foldableMap=D}(n),function(n){n.Model=n.Model||{};var e,r=n.Model,t=n["Control.Alt"],i=n["Control.Applicative"],o=n["Control.Bind"],u=n["Control.Monad.Except.Trans"],a=n["Data.Array"],c=n["Data.Boolean"],l=n["Data.Either"],s=n["Data.Eq"],f=n["Data.Foldable"],d=n["Data.Functor"],w=n["Data.Generic.Rep"],h=n["Data.Identity"],g=n["Data.Int"],v=n["Data.List"],m=n["Data.List.Types"],p=n["Data.Map.Internal"],F=n["Data.Maybe"],S=n["Data.Ord"],y=n["Data.Ordering"],b=n["Data.Pitches.Class"],I=n["Data.Pitches.Spelled"],C=n["Data.Semigroup"],R=n["Data.Semiring"],E=n["Data.Show"],W=n["Data.Show.Generic"],P=n["Data.Symbol"],A=n["Data.Traversable"],D=n["Data.Tuple"],N=n["Data.Unfoldable"],x=n["Data.Unit"],M=n.Foreign,q=n["Simple.JSON"],T=function(){function n(){}return n.value=new n,n}(),L=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),H=function(){function n(){}return n.value=new n,n}(),O=function(){function n(){}return n.value=new n,n}(),J=function(){function n(){}return n.value=new n,n}(),_=function(){function n(){}return n.value=new n,n}(),U=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),k=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),B=function(){function n(){}return n.value=new n,n}(),V=function(){function n(){}return n.value=new n,n}(),z=function(){function n(){}return n.value=new n,n}(),G=function(){function n(){}return n.value=new n,n}(),Q=function(){function n(){}return n.value=new n,n}(),j=function(){function n(){}return n.value=new n,n}(),K=function(){function n(){}return n.value=new n,n}(),X=function(){function n(){}return n.value=new n,n}(),Y=function(){function n(){}return n.value=new n,n}(),Z=function(){function n(){}return n.value=new n,n}(),$=function(){function n(){}return n.value=new n,n}(),nn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),en=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),rn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),tn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),on=function(){function n(){}return n.value=new n,n}(),un=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),an=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),cn=q.writeForeignInt,ln=q.writeForeignInt,sn=function(n){return function(e){if(e.notes instanceof L){var r=function(n){var r=function(e){if(c.otherwise)return[];throw new Error("Failed pattern match at Model (line 610, column 1 - line 610, column 56): "+[n.constructor.name])};if(n.left instanceof L){var t=a.find((function(e){return e.note.id===n.left.value0.id}))(e.notes.value0);return t instanceof F.Just&&t.value0.expl instanceof nn?[{left:new L(t.value0.expl.value0),right:n.right}]:r()}return r()};return l.Right.create({regular:a.concatMap(r)(n.regular),passing:a.concatMap(r)(n.passing)})}return function(r){if(c.otherwise)return new l.Left("The current reduction is invalid: Trying to vert a Start or Stop slice.");throw new Error("Failed pattern match at Model (line 610, column 1 - line 610, column 56): "+[n.constructor.name,e.constructor.name])}()}},fn=function(n){return function(e){if(e.notes instanceof L){var r=function(n){var r=function(e){if(c.otherwise)return[];throw new Error("Failed pattern match at Model (line 595, column 1 - line 595, column 55): "+[n.constructor.name])};if(n.right instanceof L){var t=a.find((function(e){return e.note.id===n.right.value0.id}))(e.notes.value0);return t instanceof F.Just&&t.value0.expl instanceof nn?[{left:n.left,right:new L(t.value0.expl.value0)}]:r()}return r()};return l.Right.create({regular:a.concatMap(r)(n.regular),passing:a.concatMap(r)(n.passing)})}return function(r){if(c.otherwise)return new l.Left("The current reduction is invalid: Trying to vert a Start or Stop slice.");throw new Error("Failed pattern match at Model (line 595, column 1 - line 595, column 55): "+[n.constructor.name,e.constructor.name])}()}},dn=function(n){return function(e){return function(r){var t=d.map(d.functorArray)((function(n){return n.note}))(r);return{id:e,is2nd:!1,edges:{regular:a.catMaybes(d.map(d.functorArray)((function(n){return d.map(F.functorMaybe)((function(e){return{left:new L(n),right:new L(e)}}))(f.find(f.foldableArray)((function(e){return s.eq(b.eqPitch(I.eqSInterval))(e.pitch)(n.pitch)}))(t))}))(n)),passing:[]}}}}},wn={id:0,notes:T.value,x:0,parents:_.value},hn=function(n){var e={seg:F.Nothing.value,ties:[],i:0},r=A.scanl(A.traversableArray)((function(n){return function(e){var r,t=d.map(d.functorArray)((function(n){return n.note}))(a.filter((function(n){return n.hold}))(e.notes));return{seg:new F.Just({trans:dn(n.ties)(n.i)(e.notes),rslice:(r=e.notes,function(n){return{id:n,notes:L.create(d.map(d.functorArray)((function(n){return{note:n.note,expl:Z.value}}))(a.sortBy((function(n){return function(e){return y.invert(S.compare(b.ordPitch(I.ordSInterval))(n.note.pitch)(e.note.pitch))}}))(r))),x:g.toNumber(n),parents:_.value}})(n.i+1|0),op:on.value}),ties:t,i:n.i+1|0}}}))(e)(n),t=F.maybe(0)((function(n){return n.i}))(a.last(r)),i={trans:dn([])(t)([]),rslice:{id:t+1|0,notes:H.value,x:g.toNumber(t+1|0),parents:_.value},op:on.value},o=C.append(C.semigroupArray)(a.catMaybes(d.map(d.functorArray)((function(n){return n.seg}))(r)))([i]);return{start:wn,segments:v.fromFoldable(f.foldableArray)(o),nextSliceId:t+2|0,nextTransId:t+1|0}},gn=new E.Show((function(n){return"t"+E.show(E.showInt)(n)})),vn=function(n){return new E.Show((function(e){if(e instanceof T)return"⋊";if(e instanceof H)return"⋉";if(e instanceof L)return E.show(n)(e.value0);throw new Error("Failed pattern match at Model (line 247, column 1 - line 250, column 26): "+[e.constructor.name])}))},mn=new E.Show((function(n){return"s"+E.show(E.showInt)(n)})),pn=q.readInt,Fn=q.readInt,Sn=S.ordInt,yn=S.ordInt,bn=function(n){return n.left instanceof L&&n.right instanceof L&&s.eq(b.eqPitch(I.eqSInterval))(n.left.value0.pitch)(n.right.value0.pitch)},In=function(n){return n+1|0},Cn=function(n){return n+1|0},Rn=function(n){if(n.notes instanceof T)return[];if(n.notes instanceof H)return[];if(n.notes instanceof L)return n.notes.value0;throw new Error("Failed pattern match at Model (line 348, column 23 - line 351, column 23): "+[n.notes.constructor.name])},En=new w.Generic((function(n){if(n instanceof O)return new w.Inl(w.NoArguments.value);if(n instanceof J)return new w.Inr(w.NoArguments.value);throw new Error("Failed pattern match at Model (line 47, column 1 - line 47, column 64): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return O.value;if(n instanceof w.Inr)return J.value;throw new Error("Failed pattern match at Model (line 47, column 1 - line 47, column 64): "+[n.constructor.name])})),Wn=new E.Show((function(n){return W.genericShow(En)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"RightRepeat"}))))(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"RightNeighbor"})))))(n)})),Pn=new w.Generic((function(n){if(n instanceof _)return new w.Inl(w.NoArguments.value);if(n instanceof U)return new w.Inr(new w.Inl(n.value0));if(n instanceof k)return new w.Inr(new w.Inr(n.value0));throw new Error("Failed pattern match at Model (line 329, column 1 - line 329, column 56): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return _.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inl)return new U(n.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr)return new k(n.value0.value0);throw new Error("Failed pattern match at Model (line 329, column 1 - line 329, column 56): "+[n.constructor.name])})),An=function(n){return new E.Show((function(e){return W.genericShow(Pn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"NoParents"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(n))(new P.IsSymbol((function(){return"VertParent"}))))(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(n))(n))))(new P.IsSymbol((function(){return"MergeParents"}))))))(e)}))},Dn=new w.Generic((function(n){if(n instanceof on)return new w.Inl(w.NoArguments.value);if(n instanceof un)return new w.Inr(new w.Inl(n.value0));if(n instanceof an)return new w.Inr(new w.Inr(n.value0));throw new Error("Failed pattern match at Model (line 372, column 1 - line 372, column 42): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return on.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inl)return new un(n.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr)return new an(n.value0.value0);throw new Error("Failed pattern match at Model (line 372, column 1 - line 372, column 42): "+[n.constructor.name])})),Nn=new w.Generic((function(n){if(n instanceof Z)return new w.Inl(w.NoArguments.value);if(n instanceof $)return new w.Inr(new w.Inl(w.NoArguments.value));if(n instanceof nn)return new w.Inr(new w.Inr(new w.Inl(n.value0)));if(n instanceof en)return new w.Inr(new w.Inr(new w.Inr(new w.Inl(n.value0))));if(n instanceof rn)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inl(n.value0)))));if(n instanceof tn)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inr(n.value0)))));throw new Error("Failed pattern match at Model (line 89, column 1 - line 89, column 68): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return Z.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inl)return $.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inl)return new nn(n.value0.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inl)return new en(n.value0.value0.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inl)return new rn(n.value0.value0.value0.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inr)return new tn(n.value0.value0.value0.value0.value0);throw new Error("Failed pattern match at Model (line 89, column 1 - line 89, column 68): "+[n.constructor.name])})),xn=new w.Generic((function(n){if(n instanceof B)return new w.Inl(w.NoArguments.value);if(n instanceof V)return new w.Inr(w.NoArguments.value);throw new Error("Failed pattern match at Model (line 58, column 1 - line 58, column 62): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return B.value;if(n instanceof w.Inr)return V.value;throw new Error("Failed pattern match at Model (line 58, column 1 - line 58, column 62): "+[n.constructor.name])})),Mn=new E.Show((function(n){return W.genericShow(xn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"LeftRepeat"}))))(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"LeftNeighbor"})))))(n)})),qn=new w.Generic((function(n){if(n instanceof z)return new w.Inl(w.NoArguments.value);if(n instanceof G)return new w.Inr(new w.Inl(w.NoArguments.value));if(n instanceof Q)return new w.Inr(new w.Inr(new w.Inl(w.NoArguments.value)));if(n instanceof j)return new w.Inr(new w.Inr(new w.Inr(new w.Inl(w.NoArguments.value))));if(n instanceof K)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inl(w.NoArguments.value)))));if(n instanceof X)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inl(w.NoArguments.value))))));if(n instanceof Y)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inr(w.NoArguments.value))))));throw new Error("Failed pattern match at Model (line 74, column 1 - line 74, column 66): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return z.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inl)return G.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inl)return Q.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inl)return j.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inl)return K.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0.value0 instanceof w.Inl)return X.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0.value0 instanceof w.Inr)return Y.value;throw new Error("Failed pattern match at Model (line 74, column 1 - line 74, column 66): "+[n.constructor.name])})),Tn=new E.Show((function(n){return W.genericShow(qn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"FullNeighbor"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"FullRepeat"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"LeftRepeatOfRight"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"RightRepeatOfLeft"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"PassingMid"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"PassingLeft"}))))(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"PassingRight"}))))))))))(n)})),Ln=new E.Show((function(n){return W.genericShow(Nn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"NoExpl"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"RootExpl"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(new P.IsSymbol((function(){return"HoriExpl"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"leftParent"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"orn"})))(E.showRecordFieldsNil)(F.showMaybe(Wn)))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))(new P.IsSymbol((function(){return"RightExpl"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"orn"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rightParent"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(F.showMaybe(Mn)))))(new P.IsSymbol((function(){return"LeftExpl"}))))(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"leftParent"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"orn"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rightParent"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(F.showMaybe(Tn)))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))(new P.IsSymbol((function(){return"DoubleExpl"})))))))))(n)})),Hn=new E.Show((function(n){return W.genericShow(Dn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"Freeze"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childr"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(Hn))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rslice"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(mn)))(vn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(mn))))(Hn))))))(new P.IsSymbol((function(){return"Split"}))))(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childm"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childr"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(Hn))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rslice"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(mn)))(vn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(mn))))(Hn))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rslice"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(vn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(mn)))(vn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(mn))))(Hn))))))(new P.IsSymbol((function(){return"Hori"}))))))(n)})),On=new d.Functor((function(n){return function(e){if(e instanceof T)return T.value;if(e instanceof L)return new L(n(e.value0));if(e instanceof H)return H.value;throw new Error("Failed pattern match at Model (line 243, column 1 - line 243, column 54): "+[e.constructor.name])}})),Jn=function(n){return{trans:n.trans,rslice:{id:n.rslice.id,notes:d.map(On)(d.map(d.functorArray)((function(n){return{expl:Z.value,note:n.note}})))(n.rslice.notes),x:n.rslice.x,parents:n.rslice.parents},op:n.op}},_n=function(n){return function(e){if(s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(e.pitch)))return new F.Just(O.value);if(b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch))))return new F.Just(J.value);if(c.otherwise)return F.Nothing.value;throw new Error("Failed pattern match at Model (line 132, column 1 - line 132, column 54): "+[n.constructor.name,e.constructor.name])}},Un=function(n){return function(e){if(s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(e.pitch)))return new F.Just(B.value);if(b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch))))return new F.Just(V.value);if(c.otherwise)return F.Nothing.value;throw new Error("Failed pattern match at Model (line 126, column 1 - line 126, column 52): "+[n.constructor.name,e.constructor.name])}},kn=function(n){return function(e){return function(r){var t=function(t){var i=function(t){var i=function(t){var i=function(t){var i;if((i=I.intervalSIC,function(n){return function(e){return function(r){return function(t){var o=b.direction(i)(b.pto(i)(e)(t)),u=b.direction(i)(b.pto(i)(r)(t)),a=b.direction(i)(b.pto(i)(e)(r));return s.notEq(b.eqPitch(n))(e)(r)&&s.notEq(b.eqPitch(n))(r)(t)&&s.notEq(b.eqPitch(n))(e)(t)&&s.eq(y.eqOrdering)(a)(o)&&s.eq(y.eqOrdering)(u)(o)}}}})(I.eqSIC)(b.pc(I.hasintervalclassSInterval)(e.pitch))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(r.pitch)))return b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch)))?b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(r.pitch)))?new F.Just(K.value):new F.Just(X.value):b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(r.pitch)))?new F.Just(Y.value):F.Nothing.value;if(c.otherwise)return F.Nothing.value;throw new Error("Failed pattern match at Model (line 147, column 1 - line 147, column 64): "+[n.constructor.name,e.constructor.name,r.constructor.name])};return s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(e.pitch))(b.pc(I.hasintervalclassSInterval)(r.pitch))&&b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch)))?new F.Just(z.value):i()};return s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(r.pitch))&&b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch)))?new F.Just(Q.value):i()};return s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(e.pitch))&&b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(r.pitch)))?new F.Just(j.value):i()};return s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(e.pitch))&&s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(r.pitch))?new F.Just(G.value):t()}}},Bn=s.eqInt,Vn=function(n){return new s.Eq((function(e){return function(r){return e instanceof T&&r instanceof T||(e instanceof L&&r instanceof L?s.eq(n)(e.value0)(r.value0):e instanceof H&&r instanceof H)}}))},zn=s.eqInt,Gn=new s.Eq((function(n){return function(e){return n instanceof O&&e instanceof O||n instanceof J&&e instanceof J}})),Qn=function(n){return new s.Eq((function(e){return function(r){return e instanceof _&&r instanceof _||(e instanceof U&&r instanceof U?s.eq(n)(e.value0)(r.value0):e instanceof k&&r instanceof k&&(s.eq(n)(e.value0.left)(r.value0.left)&&s.eq(n)(e.value0.right)(r.value0.right)))}}))},jn=new s.Eq((function(n){return function(e){return n instanceof B&&e instanceof B||n instanceof V&&e instanceof V}})),Kn=new s.Eq((function(n){return function(e){return n instanceof z&&e instanceof z||(n instanceof G&&e instanceof G||(n instanceof Q&&e instanceof Q||(n instanceof j&&e instanceof j||(n instanceof K&&e instanceof K||(n instanceof X&&e instanceof X||n instanceof Y&&e instanceof Y)))))}})),Xn=new s.Eq((function(n){return function(e){return n instanceof Z&&e instanceof Z||(n instanceof $&&e instanceof $||(n instanceof nn&&e instanceof nn?n.value0.id===e.value0.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.pitch)(e.value0.pitch):n instanceof en&&e instanceof en?n.value0.leftParent.id===e.value0.leftParent.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.leftParent.pitch)(e.value0.leftParent.pitch)&&s.eq(F.eqMaybe(Gn))(n.value0.orn)(e.value0.orn):n instanceof rn&&e instanceof rn?s.eq(F.eqMaybe(jn))(n.value0.orn)(e.value0.orn)&&n.value0.rightParent.id===e.value0.rightParent.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.rightParent.pitch)(e.value0.rightParent.pitch):n instanceof tn&&e instanceof tn&&(n.value0.leftParent.id===e.value0.leftParent.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.leftParent.pitch)(e.value0.leftParent.pitch)&&s.eq(F.eqMaybe(Kn))(n.value0.orn)(e.value0.orn)&&n.value0.rightParent.id===e.value0.rightParent.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.rightParent.pitch)(e.value0.rightParent.pitch))))}})),Yn=new s.Eq((function(n){return function(e){return n instanceof on&&e instanceof on||(n instanceof un&&e instanceof un?s.eq(Yn)(n.value0.childl.op)(e.value0.childl.op)&&s.eq(zn)(n.value0.childl.rslice.id)(e.value0.childl.rslice.id)&&s.eq(Vn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(n.value0.childl.rslice.notes)(e.value0.childl.rslice.notes)&&s.eq(Qn(zn))(n.value0.childl.rslice.parents)(e.value0.childl.rslice.parents)&&n.value0.childl.rslice.x===e.value0.childl.rslice.x&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childl.trans.edges.passing)(e.value0.childl.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childl.trans.edges.regular)(e.value0.childl.trans.edges.regular)&&s.eq(Bn)(n.value0.childl.trans.id)(e.value0.childl.trans.id)&&n.value0.childl.trans.is2nd===e.value0.childl.trans.is2nd&&s.eq(Yn)(n.value0.childr.op)(e.value0.childr.op)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childr.trans.edges.passing)(e.value0.childr.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childr.trans.edges.regular)(e.value0.childr.trans.edges.regular)&&s.eq(Bn)(n.value0.childr.trans.id)(e.value0.childr.trans.id)&&n.value0.childr.trans.is2nd===e.value0.childr.trans.is2nd:n instanceof an&&e instanceof an&&(s.eq(Yn)(n.value0.childl.op)(e.value0.childl.op)&&s.eq(zn)(n.value0.childl.rslice.id)(e.value0.childl.rslice.id)&&s.eq(Vn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(n.value0.childl.rslice.notes)(e.value0.childl.rslice.notes)&&s.eq(Qn(zn))(n.value0.childl.rslice.parents)(e.value0.childl.rslice.parents)&&n.value0.childl.rslice.x===e.value0.childl.rslice.x&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childl.trans.edges.passing)(e.value0.childl.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childl.trans.edges.regular)(e.value0.childl.trans.edges.regular)&&s.eq(Bn)(n.value0.childl.trans.id)(e.value0.childl.trans.id)&&n.value0.childl.trans.is2nd===e.value0.childl.trans.is2nd&&s.eq(Yn)(n.value0.childm.op)(e.value0.childm.op)&&s.eq(zn)(n.value0.childm.rslice.id)(e.value0.childm.rslice.id)&&s.eq(Vn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(n.value0.childm.rslice.notes)(e.value0.childm.rslice.notes)&&s.eq(Qn(zn))(n.value0.childm.rslice.parents)(e.value0.childm.rslice.parents)&&n.value0.childm.rslice.x===e.value0.childm.rslice.x&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childm.trans.edges.passing)(e.value0.childm.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childm.trans.edges.regular)(e.value0.childm.trans.edges.regular)&&s.eq(Bn)(n.value0.childm.trans.id)(e.value0.childm.trans.id)&&n.value0.childm.trans.is2nd===e.value0.childm.trans.is2nd&&s.eq(Yn)(n.value0.childr.op)(e.value0.childr.op)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childr.trans.edges.passing)(e.value0.childr.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Vn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childr.trans.edges.regular)(e.value0.childr.trans.edges.regular)&&s.eq(Bn)(n.value0.childr.trans.id)(e.value0.childr.trans.id)&&n.value0.childr.trans.is2nd===e.value0.childr.trans.is2nd))}})),Zn=function(n){return function(e){var r,t;if(n instanceof _)return{trans:e.trans,rslice:{id:e.rslice.id,notes:e.rslice.notes,x:e.rslice.x,parents:_.value},op:e.op};if(n instanceof U)return{trans:e.trans,rslice:{id:e.rslice.id,notes:d.map(On)(d.map(d.functorArray)((r=n.value0,function(n){var e=a.filter((function(e){return s.eq(b.eqPitch(I.eqSInterval))(e.note.pitch)(n.note.pitch)}))(Rn(r));return 1===e.length?{expl:new nn(e[0].note),note:n.note}:n})))(e.rslice.notes),x:e.rslice.x,parents:new U(n.value0.id)},op:e.op};if(n instanceof k)return{trans:e.trans,rslice:{id:e.rslice.id,notes:d.map(On)(d.map(d.functorArray)((t=n.value0.left,function(n){return function(e){var r=function(r){var u=function(r){if(c.otherwise)return e;throw new Error("Failed pattern match at Model (line 537, column 1 - line 537, column 50): "+[t.constructor.name,n.constructor.name,e.constructor.name])};if(t.notes instanceof L){if(n.notes instanceof L){var l=a.catMaybes(o.bind(o.bindArray)(t.notes.value0)((function(n){return i.pure(i.applicativeArray)(o.bind(F.bindMaybe)(_n(e.note.pitch)(n.note))((function(e){return i.pure(F.applicativeMaybe)(new en({orn:new F.Just(e),leftParent:n.note}))})))}))),s=a.catMaybes(o.bind(o.bindArray)(n.notes.value0)((function(n){return i.pure(i.applicativeArray)(o.bind(F.bindMaybe)(Un(e.note.pitch)(n.note))((function(e){return i.pure(F.applicativeMaybe)(new rn({orn:new F.Just(e),rightParent:n.note}))})))}))),f=a.catMaybes(o.bind(o.bindArray)(t.notes.value0)((function(r){return o.bind(o.bindArray)(n.notes.value0)((function(n){return i.pure(i.applicativeArray)(o.bind(F.bindMaybe)(kn(e.note.pitch)(r.note)(n.note))((function(e){return i.pure(F.applicativeMaybe)(new tn({orn:new F.Just(e),leftParent:r.note,rightParent:n.note}))})))}))})));if(1===f.length)return{note:e.note,expl:f[0]};var d=C.append(C.semigroupArray)(s)(l);return 1===d.length?{note:e.note,expl:d[0]}:e}return u()}return u()};return s.eq(Vn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(t.notes)(T.value)&&s.eq(Vn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(n.notes)(H.value)?{note:e.note,expl:$.value}:r()}})(n.value0.right)))(e.rslice.notes),x:e.rslice.x,parents:new k({left:n.value0.left.id,right:n.value0.right.id})},op:e.op};throw new Error("Failed pattern match at Model (line 538, column 20 - line 553, column 8): "+[n.constructor.name])}},$n={regular:[],passing:[]},ne=(e=function(n){return function(e){return C.append(C.semigroupRecord()(C.semigroupRecordCons(new P.IsSymbol((function(){return"passing"})))()(C.semigroupRecordCons(new P.IsSymbol((function(){return"regular"})))()(C.semigroupRecordNil)(C.semigroupArray))(C.semigroupArray)))(n)(function(n){if(n instanceof tn){var e={left:new L(n.value0.leftParent),right:new L(n.value0.rightParent)};return n.value0.orn instanceof F.Just&&n.value0.orn.value0 instanceof K||n.value0.orn instanceof F.Just&&n.value0.orn.value0 instanceof X||n.value0.orn instanceof F.Just&&n.value0.orn.value0 instanceof Y?{regular:$n.regular,passing:[e]}:{regular:[e],passing:$n.passing}}return n instanceof $?{regular:[{left:T.value,right:H.value}],passing:$n.passing}:$n}(e))}},function(n){return n.notes instanceof L?f.foldl(f.foldableArray)(e)({regular:[],passing:[]})(d.map(d.functorArray)((function(n){return n.expl}))(n.notes.value0)):$n}),ee=function(n){return function(e){return function(r){var t=function(r){return function(i){if(i instanceof m.Nil)return new l.Left("not found");if(i instanceof m.Cons){var o=n(i);if(o instanceof F.Just)return d.map(l.functorEither)((function(n){return C.append(m.semigroupList)(n)(o.value0.value1)}))(e(r)(o.value0.value0));if(o instanceof F.Nothing)return d.map(l.functorEither)(m.Cons.create(i.value0))(t(i.value0.rslice)(i.value1));throw new Error("Failed pattern match at Model (line 533, column 39 - line 535, column 47): "+[o.constructor.name])}throw new Error("Failed pattern match at Model (line 530, column 3 - line 530, column 62): "+[r.constructor.name,i.constructor.name])}};return t(r.start)(r.segments)}}},re=function(n){return{trans:n.trans,op:n.op}},te=function(n){return function(e){return{trans:n.trans,op:n.op,rslice:e}}};r.RightRepeat=O,r.RightNeighbor=J,r.LeftRepeat=B,r.LeftNeighbor=V,r.FullNeighbor=z,r.FullRepeat=G,r.LeftRepeatOfRight=Q,r.RightRepeatOfLeft=j,r.PassingMid=K,r.PassingLeft=X,r.PassingRight=Y,r.NoExpl=Z,r.RootExpl=$,r.HoriExpl=nn,r.RightExpl=en,r.LeftExpl=rn,r.DoubleExpl=tn,r.parentEdges=ne,r.findLeftOrn=Un,r.findRightOrn=_n,r.findDoubleOrn=kn,r.setLeftExplParent=function(n){return function(e){return function(r){if(e instanceof F.Just)return r instanceof Z||r instanceof en?F.Just.create(new en({orn:_n(n)(e.value0),leftParent:e.value0})):r instanceof rn||r instanceof tn?F.Just.create(new tn({orn:kn(n)(e.value0)(r.value0.rightParent),leftParent:e.value0,rightParent:r.value0.rightParent})):F.Nothing.value;if(e instanceof F.Nothing)return r instanceof rn?F.Just.create(new rn(r.value0)):r instanceof tn?F.Just.create(new rn({orn:Un(n)(r.value0.rightParent),rightParent:r.value0.rightParent})):r instanceof nn?F.Nothing.value:new F.Just(Z.value);throw new Error("Failed pattern match at Model (line 160, column 48 - line 183, column 21): "+[e.constructor.name])}}},r.setRightExplParent=function(n){return function(e){return function(r){if(e instanceof F.Just)return r instanceof Z||r instanceof rn?F.Just.create(new rn({orn:Un(n)(e.value0),rightParent:e.value0})):r instanceof en||r instanceof tn?F.Just.create(new tn({orn:kn(n)(r.value0.leftParent)(e.value0),leftParent:r.value0.leftParent,rightParent:e.value0})):F.Nothing.value;if(e instanceof F.Nothing)return r instanceof en?F.Just.create(new en(r.value0)):r instanceof tn?F.Just.create(new en({orn:_n(n)(r.value0.leftParent),leftParent:r.value0.leftParent})):r instanceof nn?F.Nothing.value:new F.Just(Z.value);throw new Error("Failed pattern match at Model (line 186, column 50 - line 209, column 21): "+[e.constructor.name])}}},r.setHoriExplParent=function(n){return function(n){return function(e){if(n instanceof F.Just)return e instanceof Z||e instanceof nn?F.Just.create(new nn(n.value0)):F.Nothing.value;if(n instanceof F.Nothing)return e instanceof nn||e instanceof Z?new F.Just(Z.value):F.Nothing.value;throw new Error("Failed pattern match at Model (line 212, column 44 - line 220, column 17): "+[n.constructor.name])}}},r.explHasParent=function(n){return function(e){if(e instanceof Z)return!1;if(e instanceof $)return!1;if(e instanceof nn)return e.value0.id===n;if(e instanceof en)return e.value0.leftParent.id===n;if(e instanceof rn)return e.value0.rightParent.id===n;if(e instanceof tn)return e.value0.leftParent.id===n||e.value0.rightParent.id===n;throw new Error("Failed pattern match at Model (line 223, column 20 - line 229, column 88): "+[e.constructor.name])}},r.Start=T,r.Inner=L,r.Stop=H,r.isRepeatingEdge=bn,r.incS=Cn,r.incT=In,r.NoParents=_,r.VertParent=U,r.MergeParents=k,r.getParents=function(n){if(n instanceof _)return[];if(n instanceof U)return[n.value0];if(n instanceof k)return[n.value0.left,n.value0.right];throw new Error("Failed pattern match at Model (line 335, column 14 - line 338, column 50): "+[n.constructor.name])},r.getInnerNotes=Rn,r.transEdges=function(n){return C.append(C.semigroupArray)(n.edges.regular)(n.edges.passing)},r.Freeze=on,r.Split=un,r.Hori=an,r.attachSegment=te,r.detachSegment=re,r.loadPiece=function(n){return{piece:n,reduction:hn(n)}},r.vertEdgesLeft=fn,r.vertEdgesRight=sn,r.mergeAtSlice=function(n){return function(e){var r=ee((function(e){return e instanceof m.Cons&&e.value1 instanceof m.Cons&&s.eq(zn)(e.value0.rslice.id)(n)?new F.Just(new D.Tuple({seg1:e.value0,seg2:e.value1.value0},e.value1.value1)):F.Nothing.value}))((function(n){return function(r){return l.Right.create(new m.Cons((t=e.reduction.nextTransId,function(n){return function(e){return function(r){var i=new k({left:n,right:r.rslice}),o=Zn(i)(e),u=new un({childl:o,childr:re(r)});return{trans:{id:t,edges:ne(o.rslice),is2nd:e.trans.is2nd},rslice:r.rslice,op:u}}}})(n)(r.seg1)(r.seg2),m.Nil.value));var t}}))(e.reduction);if(r instanceof l.Right)return new l.Right({reduction:{segments:r.value0,nextTransId:In(e.reduction.nextTransId),nextSliceId:e.reduction.nextSliceId,start:e.reduction.start},piece:e.piece});if(r instanceof l.Left)return new l.Left(r.value0);throw new Error("Failed pattern match at Model (line 641, column 30 - line 643, column 23): "+[r.constructor.name])}},r.vertAtMid=function(n){return function(e){var r=function(n){return function(e){return function(t){return function(u){return function(a){return function(s){return function(f){var w=function(w){if(c.otherwise){var h=function(n){return function(e){return o.bind(l.bindEither)(sn(e.trans.edges)(n.rslice))((function(n){return i.pure(l.applicativeEither)({trans:{edges:n,id:s.trans.id,is2nd:s.trans.is2nd},op:s.op,rslice:s.rslice})}))}};if(a.op instanceof on)return new l.Right({"segl'":a,"segr'":s,"tail'":f,leftover:new F.Just(0)});if(a.op instanceof un)return o.bind(l.bindEither)(r(n)(e)(t)(a.op.value0.childl.rslice)(te(a.op.value0.childr)(a.rslice))(s)(f))((function(c){return o.bind(l.bindEither)(0===n?a.op.value0.childl.rslice.parents instanceof k?l.Right.create(Zn(new k({left:u,right:e}))(Jn(a.op.value0.childl))):new l.Left("invalid derivation structure: non-merge parents on merge slice"):i.pure(l.applicativeEither)(a.op.value0.childl))((function(s){if(c.leftover instanceof F.Nothing)return i.pure(l.applicativeEither)({"segl'":{op:new un({childl:s,childr:re(c["segl'"])}),trans:{edges:ne(s.rslice),id:a.trans.id,is2nd:a.trans.is2nd},rslice:a.rslice},"segr'":c["segr'"],"tail'":c["tail'"],leftover:F.Nothing.value});if(c.leftover instanceof F.Just)return o.bind(l.bindEither)(r(1+(n+c.leftover.value0|0)|0)(e)(t)(u)(s)(c["segl'"])(new m.Cons(c["segr'"],c["tail'"])))((function(n){if(n["tail'"]instanceof m.Cons){var e={op:new un({childl:n["segl'"],childr:re(n["segr'"])}),rslice:a.rslice,trans:a.trans};return i.pure(l.applicativeEither)({"segl'":e,"segr'":n["tail'"].value0,"tail'":n["tail'"].value1,leftover:d.map(F.functorMaybe)((function(n){return n+1|0}))(n.leftover)})}return new l.Left("Returned tail too short (splitLeft). This is a bug!")}));throw new Error("Failed pattern match at Model (line 785, column 9 - line 805, column 78): "+[c.leftover.constructor.name])}))}));if(a.op instanceof an){if(s.op instanceof an)return new l.Left("Not a leftmost derivation (Hori right of Hori)!");if(s.op instanceof un)return o.bind(l.bindEither)(r(n)(e)(t)(u)(a)(s.op.value0.childl)(new m.Cons(te(s.op.value0.childr)(s.rslice),f)))((function(n){if(n["tail'"]instanceof m.Cons){var e=new un({childl:n["segr'"],childr:re(n["tail'"].value0)});return i.pure(l.applicativeEither)({"segl'":n["segl'"],"segr'":{op:e,rslice:s.rslice,trans:s.trans},"tail'":n["tail'"].value1,leftover:n.leftover})}return new l.Left("Returned tail too short (splitRight). This is a bug!")}));if(s.op instanceof on){if(f instanceof m.Nil)return new l.Left("Tail too short (hori). This is a bug!");if(f instanceof m.Cons)return o.bind(l.bindEither)(r(n-1|0)(e)(t)(a.op.value0.childm.rslice)(te(a.op.value0.childr)(a.rslice))(f.value0)(f.value1))((function(c){var s=new m.Cons(c["segr'"],c["tail'"]);if(c.leftover instanceof F.Nothing){var f=new an({childl:a.op.value0.childl,childm:a.op.value0.childm,childr:re(c["segl'"])});return o.bind(l.bindEither)(h(a.op.value0.childm)(c["segl'"]))((function(n){return i.pure(l.applicativeEither)({"segl'":{op:f,rslice:a.rslice,trans:a.trans},"segr'":n,"tail'":s,leftover:F.Nothing.value})}))}if(c.leftover instanceof F.Just)return o.bind(l.bindEither)(r(n+c.leftover.value0|0)(e)(t)(a.op.value0.childl.rslice)(a.op.value0.childm)(c["segl'"])(s))((function(c){if(c.leftover instanceof F.Nothing){var s=new an({childl:a.op.value0.childl,childm:c["segl'"],childr:re(c["segr'"])});return o.bind(l.bindEither)(h(c["segl'"])(c["segr'"]))((function(n){return i.pure(l.applicativeEither)({"segl'":{op:s,rslice:a.rslice,trans:a.trans},"segr'":n,"tail'":c["tail'"],leftover:F.Nothing.value})}))}if(c.leftover instanceof F.Just)return o.bind(l.bindEither)(r((n+1|0)+c.leftover.value0|0)(e)(t)(u)(a.op.value0.childl)(c["segl'"])(new m.Cons(c["segr'"],c["tail'"])))((function(n){if(n["tail'"]instanceof m.Nil)return new l.Left("Returned tail too short (hori). This is a bug!");if(n["tail'"]instanceof m.Cons){var e=new an({childl:n["segl'"],childm:n["segr'"],childr:re(n["tail'"].value0)});return o.bind(l.bindEither)(h(n["segr'"])(n["tail'"].value0))((function(r){return i.pure(l.applicativeEither)({"segl'":{op:e,rslice:a.rslice,trans:a.trans},"segr'":r,"tail'":n["tail'"].value1,leftover:d.map(F.functorMaybe)((function(n){return n+2|0}))(n.leftover)})}))}throw new Error("Failed pattern match at Model (line 848, column 21 - line 854, column 115): "+[n["tail'"].constructor.name])}));throw new Error("Failed pattern match at Model (line 838, column 17 - line 854, column 115): "+[c.leftover.constructor.name])}));throw new Error("Failed pattern match at Model (line 828, column 13 - line 854, column 115): "+[c.leftover.constructor.name])}));throw new Error("Failed pattern match at Model (line 820, column 19 - line 854, column 115): "+[f.constructor.name])}throw new Error("Failed pattern match at Model (line 807, column 42 - line 854, column 115): "+[s.op.constructor.name])}throw new Error("Failed pattern match at Model (line 770, column 19 - line 854, column 115): "+[a.op.constructor.name])}throw new Error("Failed pattern match at Model (line 695, column 1 - line 695, column 53): "+[n.constructor.name,e.constructor.name,t.constructor.name,u.constructor.name,a.constructor.name,s.constructor.name,f.constructor.name])};return 0===n&&!a.trans.is2nd?o.bind(l.bindEither)(t(re(a)))((function(n){return i.pure(l.applicativeEither)({"segl'":te(n)(a.rslice),"segr'":s,"tail'":f,leftover:F.Nothing.value})})):w()}}}}}}},t=function(n){return function(e){return function(t){return function(u){return function(a){return function(c){return function(s){return o.bind(l.bindEither)(r(n)(e)(t)(u)(a)(c)(s))((function(r){return i.pure(l.applicativeEither)(function(){if(r.leftover instanceof F.Nothing)return{"seg'":r["segl'"],"tail'":new m.Cons(r["segr'"],r["tail'"]),dangling:F.Nothing.value};if(r.leftover instanceof F.Just)return{"seg'":r["segl'"],"tail'":new m.Cons(r["segr'"],r["tail'"]),dangling:new F.Just({dist:(n+1|0)+r.leftover.value0|0,mkLeftParent:t,topSlice:e})};throw new Error("Failed pattern match at Model (line 747, column 10 - line 749, column 120): "+[r.leftover.constructor.name])}())}))}}}}}}},u=function(r){return function(d){if(d instanceof m.Cons&&d.value1 instanceof m.Cons&&d.value1.value1 instanceof m.Cons){if(s.eq(Bn)(d.value1.value0.trans.id)(n))return o.bind(l.bindEither)(function(n){return function(e){return function(r){return function(t){return function(u){if(r.rslice.notes instanceof L&&t.rslice.notes instanceof L){if(!a.all(bn)(t.trans.edges.regular))return new l.Left("Middle transition of a vert must only contain repetition and passing edges!");if(c.otherwise){var s=function(n){return f.foldl(f.foldableArray)((function(n){return function(e){return p.insertWith(b.ordPitch(I.ordSInterval))(R.add(R.semiringInt))(e.note.pitch)(1)(n)}}))(p.empty)(n)},d={notes:L.create((g=p.unionWith(b.ordPitch(I.ordSInterval))(S.max(S.ordInt))(s(r.rslice.notes.value0))(s(t.rslice.notes.value0)),v=a.reverse(a.concatMap((function(n){return a.replicate(n.value1)(n.value0)}))(p.toUnfoldable(N.unfoldableArray)(g))),a.mapWithIndex((function(n){return function(r){return{note:{pitch:r,id:"note"+E.show(mn)(e)+"."+E.show(E.showInt)(n)},expl:Z.value}}}))(v))),id:e,x:(r.rslice.x+t.rslice.x)/2,parents:_.value},w=Zn(new U(d))(t),h=function(e){var t=Zn(new U(d))(te(e)(r.rslice));return o.bind(l.bindEither)(fn(e.trans.edges)(t.rslice))((function(e){return i.pure(l.applicativeEither)({trans:{id:n,is2nd:!1,edges:e},op:new an({childl:t,childm:w,childr:re(u)})})}))};return o.bind(l.bindEither)(sn(u.trans.edges)(w.rslice))((function(e){var r={trans:{id:In(n),is2nd:!0,edges:e},rslice:u.rslice,op:on.value};return i.pure(l.applicativeEither)({mkLeftParent:h,rightParent:r,topSlice:d})}))}}var g,v;return new l.Left("Cannot vert an outer slice!")}}}}}(e.reduction.nextTransId)(e.reduction.nextSliceId)(d.value0)(d.value1.value0)(d.value1.value1.value0))((function(n){return t(0)(n.topSlice)(n.mkLeftParent)(r)({trans:d.value0.trans,rslice:n.topSlice,op:d.value0.op})(n.rightParent)(d.value1.value1.value1)}));if(c.otherwise)return o.bind(l.bindEither)(u(d.value0.rslice)(d.value1))((function(n){if(n.dangling instanceof F.Nothing)return new l.Right({"seg'":d.value0,"tail'":new m.Cons(n["seg'"],n["tail'"]),dangling:F.Nothing.value});if(n.dangling instanceof F.Just)return t(n.dangling.value0.dist)(n.dangling.value0.topSlice)(n.dangling.value0.mkLeftParent)(r)(d.value0)(n["seg'"])(n["tail'"]);throw new Error("Failed pattern match at Model (line 727, column 7 - line 729, column 108): "+[n.dangling.constructor.name])}))}return l.Left.create("Cannot hori at "+E.show(gn)(n))}},w=u(e.reduction.start)(e.reduction.segments);if(w instanceof l.Right){if(w.value0.dangling instanceof F.Nothing)return new l.Right({reduction:{segments:new m.Cons(w.value0["seg'"],w.value0["tail'"]),nextTransId:In(In(e.reduction.nextTransId)),nextSliceId:Cn(e.reduction.nextSliceId),start:e.reduction.start},piece:e.piece});if(w.value0.dangling instanceof F.Just)return new l.Left("Failed to insert hori!");throw new Error("Failed pattern match at Model (line 697, column 38 - line 707, column 47): "+[w.value0.dangling.constructor.name])}if(w instanceof l.Left)return new l.Left(w.value0);throw new Error("Failed pattern match at Model (line 696, column 27 - line 708, column 23): "+[w.constructor.name])}},r.undoMergeAtTrans=function(n){return function(e){var r=ee((function(e){return e instanceof m.Cons&&s.eq(Bn)(e.value0.trans.id)(n)?new F.Just(new D.Tuple(e.value0,e.value1)):F.Nothing.value}))((function(n){return function(n){return n.op instanceof un?l.Right.create(new m.Cons(Jn(Zn(_.value)(n.op.value0.childl)),new m.Cons(te(n.op.value0.childr)(n.rslice),m.Nil.value))):new l.Left("Operation is not a split!")}}))(e.reduction);if(r instanceof l.Right)return new l.Right({reduction:{segments:r.value0,nextSliceId:e.reduction.nextSliceId,nextTransId:e.reduction.nextTransId,start:e.reduction.start},piece:e.piece});if(r instanceof l.Left)return new l.Left(r.value0);throw new Error("Failed pattern match at Model (line 862, column 34 - line 864, column 23): "+[r.constructor.name])}},r.undoVertAtSlice=function(n){return function(e){var r=ee((function(e){return e instanceof m.Cons&&e.value1 instanceof m.Cons&&s.eq(zn)(e.value0.rslice.id)(n)?new F.Just(new D.Tuple({pl:e.value0,pr:e.value1.value0},e.value1.value1)):F.Nothing.value}))((function(n){return function(n){return n.pl.op instanceof an?l.Right.create(new m.Cons(Jn(Zn(_.value)(n.pl.op.value0.childl)),new m.Cons(Jn(Zn(_.value)(n.pl.op.value0.childm)),new m.Cons(te(n.pl.op.value0.childr)(n.pr.rslice),m.Nil.value)))):new l.Left("Operation is not a hori!")}}))(e.reduction);if(r instanceof l.Right)return new l.Right({reduction:{segments:r.value0,nextSliceId:e.reduction.nextSliceId,nextTransId:e.reduction.nextTransId,start:e.reduction.start},piece:e.piece});if(r instanceof l.Left)return new l.Left(r.value0);throw new Error("Failed pattern match at Model (line 880, column 33 - line 882, column 23): "+[r.constructor.name])}},r.noteSetExplanation=function(n){return function(e){return function(r){var t=function(e){return a.any((function(e){return e.note.id===n}))(Rn(e))},u=(l.Left.create("Note "+n+" not found"),function(r){return function(a){if(a.op instanceof on){if(r instanceof m.Nil)return l.Right.create({"seg'":a,rUp:m.Nil.value});if(r instanceof m.Cons)return l.Right.create({"seg'":function(){var n={};for(var e in a)({}).hasOwnProperty.call(a,e)&&(n[e]=a[e]);return n.trans={edges:r.value0,id:a.trans.id,is2nd:a.trans.is2nd},n}(),rUp:r.value1});throw new Error("Failed pattern match at Model (line 925, column 15 - line 927, column 86): "+[r.constructor.name])}if(a.op instanceof un)return o.bind(l.bindEither)(c(r)(a.op.value0.childl))((function(n){return o.bind(l.bindEither)(u(n.rUp)(a.op.value0.childr))((function(r){var u=function(){var e={};for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e.op=new un({childl:n["seg'"],childr:r["seg'"]}),e}();return o.bind(l.bindEither)(t(a.op.value0.childl.rslice)?function(n){return!(n instanceof nn)}(e)?i.pure(l.applicativeEither)(function(){var e={};for(var r in u)({}).hasOwnProperty.call(u,r)&&(e[r]=u[r]);return e.trans={edges:ne(n["seg'"].rslice),id:u.trans.id,is2nd:u.trans.is2nd},e}()):new l.Left("Cannot explain a split note with a hori."):i.pure(l.applicativeEither)(u))((function(n){return i.pure(l.applicativeEither)({"seg'":n,rUp:r.rUp})}))}))}));if(a.op instanceof an)return o.bind(l.bindEither)(c(r)(a.op.value0.childl))((function(r){return o.bind(l.bindEither)(c(r.rUp)(a.op.value0.childm))((function(c){return o.bind(l.bindEither)(u(c.rUp)(a.op.value0.childr))((function(u){return o.bind(l.bindEither)(fn(r["seg'"].trans.edges)(r["seg'"].rslice))((function(s){return o.bind(l.bindEither)(sn(u["seg'"].trans.edges)(c["seg'"].rslice))((function(f){return o.discard(o.discardUnit)(l.bindEither)(!t(a.op.value0.childl.rslice)&&!t(a.op.value0.childm.rslice)||function(n){return n instanceof Z||n instanceof nn}(e)?i.pure(l.applicativeEither)(x.unit):l.Left.create("Cannot explain a hori note with a split. noteId = "+E.show(E.showString)(n)+", childl.rslice = "+E.show(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(mn)))(vn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(mn)))(a.op.value0.childl.rslice)+", childm.rslice = "+E.show(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(mn)))(vn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(mn)))(a.op.value0.childm.rslice)))((function(){return i.pure(l.applicativeEither)({"seg'":function(){var n={};for(var e in a)({}).hasOwnProperty.call(a,e)&&(n[e]=a[e]);return n.op=new an({childl:r["seg'"],childm:c["seg'"],childr:u["seg'"]}),n.trans={edges:s,id:a.trans.id,is2nd:a.trans.is2nd},n}(),rUp:new m.Cons(f,u.rUp)})}))}))}))}))}))}));throw new Error("Failed pattern match at Model (line 924, column 31 - line 965, column 12): "+[a.op.constructor.name])}}),c=function(r){return function(i){var o,a=t(i.rslice)?{id:(o=i.rslice).id,notes:d.map(On)(d.map(d.functorArray)((function(r){return r.note.id===n?{expl:e,note:r.note}:r})))(o.notes),x:o.x,parents:o.parents}:i.rslice;return d.map(l.functorEither)((function(n){return{"seg'":{rslice:a,op:n["seg'"].op,trans:n["seg'"].trans},rUp:n.rUp}}))(u(r)(i))}},s=function(n){return function(e){if(e instanceof m.Nil)return new l.Right(m.Nil.value);if(e instanceof m.Cons)return o.bind(l.bindEither)(c(n)(e.value0))((function(n){return o.bind(l.bindEither)(s(n.rUp)(e.value1))((function(e){return i.pure(l.applicativeEither)(new m.Cons(n["seg'"],e))}))}));throw new Error("Failed pattern match at Model (line 911, column 28 - line 916, column 29): "+[e.constructor.name])}},f=s(m.Nil.value)(r.reduction.segments);if(f instanceof l.Right)return new l.Right({reduction:{segments:f.value0,nextSliceId:r.reduction.nextSliceId,nextTransId:r.reduction.nextTransId,start:r.reduction.start},piece:r.piece});if(f instanceof l.Left)return new l.Left(f.value0);throw new Error("Failed pattern match at Model (line 898, column 40 - line 900, column 23): "+[f.constructor.name])}}},r.eqRightOrnament=Gn,r.showRightOrnament=Wn,r.eqLeftOrnament=jn,r.showLeftOrnament=Mn,r.eqDoubleOrnament=Kn,r.showDoubleOrnament=Tn,r.eqNoteExplanation=Xn,r.showNoteExplanation=Ln,r.eqStartStop=Vn,r.functorStartStop=On,r.ordStartStop=function(n){return new S.Ord((function(){return Vn(n.Eq0())}),(function(e){return function(r){if(e instanceof T&&r instanceof T)return y.EQ.value;if(e instanceof T)return y.LT.value;if(r instanceof T)return y.GT.value;if(e instanceof L&&r instanceof L)return S.compare(n)(e.value0)(r.value0);if(e instanceof L)return y.LT.value;if(r instanceof L)return y.GT.value;if(e instanceof H&&r instanceof H)return y.EQ.value;throw new Error("Failed pattern match at Model (line 245, column 1 - line 245, column 61): "+[e.constructor.name,r.constructor.name])}}))},r.showStartStop=vn,r.writeForeignStartStop=function(n){return new q.WriteForeign((function(e){if(e instanceof T)return q.writeImpl(q.writeForeignString)("start");if(e instanceof H)return q.writeImpl(q.writeForeignString)("stop");if(e instanceof L)return q.writeImpl(n)(e.value0);throw new Error("Failed pattern match at Model (line 253, column 15 - line 256, column 27): "+[e.constructor.name])}))},r.readForeignStartStop=function(n){return new q.ReadForeign((function(e){var r=o.bind(u.bindExceptT(h.monadIdentity))(q.readImpl(q.readString)(e))((function(n){return"start"===n?i.pure(u.applicativeExceptT(h.monadIdentity))(T.value):"stop"===n?i.pure(u.applicativeExceptT(h.monadIdentity))(H.value):M.fail(h.monadIdentity)(new M.ForeignError("StartStop is neither Start nor Stop!"))}));return t.alt(u.altExceptT(m.semigroupNonEmptyList)(h.monadIdentity))(r)(d.map(u.functorExceptT(h.functorIdentity))(L.create)(q.readImpl(n)(e)))}))},r.showSliceId=mn,r.eqSliceId=zn,r.ordSliceId=yn,r.readForeignSliceId=Fn,r.writeForeignSliceId=ln,r.showTransId=gn,r.eqTransId=Bn,r.ordTransId=Sn,r.readForeignTransId=pn,r.writeForeignTransId=cn,r.eqParents=Qn,r.showParents=An,r.eqOp=Yn,r.showOp=Hn}(n),function(n){n.CommonApp=n.CommonApp||{};var e=n.CommonApp,r=n["Data.Boolean"],t=n["Data.Eq"],i=n["Data.Generic.Rep"],o=n["Data.Maybe"],u=n["Data.Pitches.Class"],a=n["Data.Pitches.Spelled"],c=n["Data.Show"],l=n["Data.Show.Generic"],s=n["Data.Symbol"],f=n.Model,d=function(){function n(){}return n.value=new n,n}(),w=function(){function n(){}return n.value=new n,n}(),h=function(){function n(){}return n.value=new n,n}(),g=function(){function n(){}return n.value=new n,n}(),v=function(){function n(){}return n.value=new n,n}(),m=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),p=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),F=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),S=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),y=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),b=function(){function n(){}return n.value=new n,n}(),I=function(){function n(){}return n.value=new n,n}(),C=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),R=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),E=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),W=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),P=function(){function n(){}return n.value=new n,n}(),A=function(){function n(){}return n.value=new n,n}(),D=function(){function n(){}return n.value=new n,n}(),N=function(){function n(){}return n.value=new n,n}(),x=function(){function n(){}return n.value=new n,n}(),M=function(){function n(){}return n.value=new n,n}(),q=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),T=new i.Generic((function(n){if(n instanceof v)return new i.Inl(i.NoArguments.value);if(n instanceof m)return new i.Inr(new i.Inl(n.value0));if(n instanceof p)return new i.Inr(new i.Inr(new i.Inl(n.value0)));if(n instanceof F)return new i.Inr(new i.Inr(new i.Inr(n.value0)));throw new Error("Failed pattern match at CommonApp (line 19, column 1 - line 19, column 61): "+[n.constructor.name])}),(function(n){if(n instanceof i.Inl)return v.value;if(n instanceof i.Inr&&n.value0 instanceof i.Inl)return new m(n.value0.value0);if(n instanceof i.Inr&&n.value0 instanceof i.Inr&&n.value0.value0 instanceof i.Inl)return new p(n.value0.value0.value0);if(n instanceof i.Inr&&n.value0 instanceof i.Inr&&n.value0.value0 instanceof i.Inr)return new F(n.value0.value0.value0);throw new Error("Failed pattern match at CommonApp (line 19, column 1 - line 19, column 61): "+[n.constructor.name])})),L=new c.Show((function(n){return l.genericShow(T)(l.genericShowSum(l.genericShowConstructor(l.genericShowArgsNoArguments)(new s.IsSymbol((function(){return"SelNone"}))))(l.genericShowSum(l.genericShowConstructor(l.genericShowArgsArgument(f.showSliceId))(new s.IsSymbol((function(){return"SelSlice"}))))(l.genericShowSum(l.genericShowConstructor(l.genericShowArgsArgument(f.showTransId))(new s.IsSymbol((function(){return"SelTrans"}))))(l.genericShowConstructor(l.genericShowArgsArgument(c.showRecord()(c.showRecordFieldsCons(new s.IsSymbol((function(){return"expl"})))(c.showRecordFieldsCons(new s.IsSymbol((function(){return"note"})))(c.showRecordFieldsCons(new s.IsSymbol((function(){return"parents"})))(c.showRecordFieldsNil)(f.showParents(f.showSliceId)))(c.showRecord()(c.showRecordFieldsCons(new s.IsSymbol((function(){return"id"})))(c.showRecordFieldsCons(new s.IsSymbol((function(){return"pitch"})))(c.showRecordFieldsNil)(u.showPitchInst(a.showpitchSInterval)))(c.showString))))(f.showNoteExplanation))))(new s.IsSymbol((function(){return"SelNote"})))))))(n)})),H=new t.Eq((function(n){return function(e){return n instanceof d&&e instanceof d||(n instanceof w&&e instanceof w||(n instanceof h&&e instanceof h||n instanceof g&&e instanceof g))}})),O=new t.Eq((function(n){return function(e){return n instanceof v&&e instanceof v||(n instanceof m&&e instanceof m?t.eq(f.eqSliceId)(n.value0)(e.value0):n instanceof p&&e instanceof p?t.eq(f.eqTransId)(n.value0)(e.value0):n instanceof F&&e instanceof F&&(t.eq(f.eqNoteExplanation)(n.value0.expl)(e.value0.expl)&&n.value0.note.id===e.value0.note.id&&t.eq(u.eqPitch(a.eqSInterval))(n.value0.note.pitch)(e.value0.note.pitch)&&t.eq(f.eqParents(f.eqSliceId))(n.value0.parents)(e.value0.parents)))}}));e.SelNone=v,e.SelSlice=m,e.SelTrans=p,e.SelNote=F,e.getSelSlice=function(n){return n instanceof m?new o.Just(n.value0):o.Nothing.value},e.getSelTrans=function(n){return n instanceof p?new o.Just(n.value0):o.Nothing.value},e.noteIsSelected=function(n){return function(e){return n instanceof F&&e instanceof f.Inner&&n.value0.note.id===e.value0.id}},e.outerSelected=function(n){return n instanceof m||n instanceof p},e.addParentToNote=function(n){return function(e){return function(i){if(n instanceof F){var u=function(e){return new q({noteId:n.value0.note.id,expl:e})},a=function(a){var c=function(a){if(n.value0.parents instanceof f.MergeParents&&r.otherwise)return b.value;var c=function(e){if(n.value0.parents instanceof f.VertParent&&r.otherwise)return b.value;if(n.value0.parents instanceof f.NoParents)return b.value;throw new Error("Failed pattern match at CommonApp (line 60, column 1 - line 60, column 63): "+[n.value0.parents.constructor.name])};if(n.value0.parents instanceof f.VertParent){if(t.eq(f.eqSliceId)(e)(n.value0.parents.value0)){var l=f.setHoriExplParent(n.value0.note.pitch)(new o.Just(i))(n.value0.expl);return l instanceof o.Just?u(l.value0):c()}return c()}return c()};if(n.value0.parents instanceof f.MergeParents){if(t.eq(f.eqSliceId)(e)(n.value0.parents.value0.right)){var l=f.setRightExplParent(n.value0.note.pitch)(new o.Just(i))(n.value0.expl);return l instanceof o.Just?u(l.value0):c()}return c()}return c()};if(n.value0.parents instanceof f.MergeParents){if(t.eq(f.eqSliceId)(e)(n.value0.parents.value0.left)){var c=f.setLeftExplParent(n.value0.note.pitch)(new o.Just(i))(n.value0.expl);return c instanceof o.Just?u(c.value0):a()}return a()}return a()}return function(t){if(r.otherwise)return b.value;throw new Error("Failed pattern match at CommonApp (line 60, column 1 - line 60, column 63): "+[n.constructor.name,e.constructor.name,i.constructor.name])}()}}},e.removeParent=function(n){return function(e){return function(r){return o.maybe(b.value)((function(e){return new q({noteId:n.id,expl:e})}))(r(n.pitch)(o.Nothing.value)(e))}}},e.HelpTab=d,e.ImportTab=w,e.ExportTab=h,e.DebugTab=g,e.ImportPiece=S,e.ImportModel=y,e.NoOp=b,e.Init=I,e.HandleImport=C,e.SwitchTab=R,e.HandleKey=E,e.Select=W,e.MergeAtSelected=P,e.VertAtSelected=A,e.UnMergeAtSelected=D,e.UnVertAtSelected=N,e.CombineAny=x,e.RemoveAny=M,e.SetNoteExplanation=q,e.eqOuterSelection=O,e.showOuterSelection=L,e.eqTab=H}(n),function(n){n["Control.Applicative.Free"]=n["Control.Applicative.Free"]||{};var e=n["Control.Applicative.Free"],r=n["Control.Applicative"],t=n["Control.Apply"],i=n["Control.Category"],o=n["Data.Either"],u=n["Data.Functor"],a=n["Data.List.NonEmpty"],c=n["Data.List.Types"],l=n["Data.NonEmpty"],s=n["Data.Tuple"],f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),h=function(n){return function(e){return new w(n,e)}},g=d.create,v=function(n){return function(e){return function(r){return function(i){var u,a=n,f=e,d=r,w=!1;function h(n,e,r,u){if(e instanceof c.Nil)return w=!0,new o.Left(u);if(e instanceof c.Cons){var h=t.apply(n.Apply0())(e.value0.func)(u);if(1===e.value0.count)return e.value1 instanceof c.Nil?(w=!0,new o.Left(h)):(a=n,f=e.value1,d=r,void(i=h));if(r instanceof c.Nil)return w=!0,new o.Left(h);if(r instanceof c.Cons)return w=!0,o.Right.create(new s.Tuple(new c.Cons({func:h,count:e.value0.count-1|0},e.value1),new l.NonEmpty(r.value0,r.value1)));throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): "+[r.constructor.name])}throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): "+[e.constructor.name])}for(;!w;)u=h(a,f,d,i);return u}}}},m=new u.Functor((function(n){return function(e){return h(new f(n))(e)}})),p=function(n){return function(e){return function(t){return function(t){var i,u=!1;function h(i){if(i.value1.value0 instanceof f){if((h=v(n)(i.value0)(i.value1.value1)(r.pure(n)(i.value1.value0.value0)))instanceof o.Left)return u=!0,h.value0;if(h instanceof o.Right)return void(t=h.value0);throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): "+[h.constructor.name])}if(i.value1.value0 instanceof d){var h;if((h=v(n)(i.value0)(i.value1.value1)(e(i.value1.value0.value0)))instanceof o.Left)return u=!0,h.value0;if(h instanceof o.Right)return void(t=h.value0);throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): "+[h.constructor.name])}var g;if(!(i.value1.value0 instanceof w))throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): "+[i.value1.value0.constructor.name]);var m=new l.NonEmpty(i.value1.value0.value1,i.value1.value1);t=(g=n,function(n){return function(e){return function(t){return function(i){return function(o){var u,l=g,h=n,v=e,m=t,p=i,F=!1;function S(n,e,t,i,u,g){if(u instanceof f)return F=!0,new s.Tuple(new c.Cons({func:r.pure(n)(u.value0),count:g},e),t);if(u instanceof d)return F=!0,new s.Tuple(new c.Cons({func:i(u.value0),count:g},e),t);if(u instanceof w)return l=n,h=e,v=a.cons(u.value1)(t),m=i,p=u.value0,void(o=g+1|0);throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): "+[u.constructor.name])}for(;!F;)u=S(l,h,v,m,p,o);return u}}}}})(i.value0)(m)(e)(i.value1.value0.value0)(1)}for(;!u;)i=h(t);return i}(new s.Tuple(c.Nil.value,a.singleton(t)))}}},F=new t.Apply((function(){return m}),(function(n){return function(e){return h(n)(e)}})),S=new r.Applicative((function(){return F}),f.create);e.retractFreeAp=function(n){return p(n)(i.identity(i.categoryFn))},e.hoistFreeAp=function(n){return p(S)((function(e){return g(n(e))}))}}(n),function(n){var e=function(){var n={},e="Pure",r="Throw",t="Catch",i="Sync",o="Async",u="Bind",a="Bracket",c="Fork",l="Sequential",s="Map",f="Apply",d="Alt",w="Cons",h="Resume",g="Release",v="Finalizer",m="Finalized",p="Forked";function F(n,e,r,t){this.tag=n,this._1=e,this._2=r,this._3=t}function S(n){var e=function(e,r,t){return new F(n,e,r,t)};return e.tag=n,e}function y(n){return new F(e,void 0)}function b(n){try{n()}catch(n){setTimeout((function(){throw n}),0)}}function I(n,e,r){try{return e(r())}catch(e){return n(e)}}function C(n,e,r){try{return e(r)()}catch(e){return r(n(e))(),y}}var R=function(){var n=1024,e=0,r=0,t=new Array(n),i=!1;function o(){var o;for(i=!0;0!==e;)e--,o=t[r],t[r]=void 0,r=(r+1)%n,o();i=!1}return{isDraining:function(){return i},enqueue:function(u){var a;e===n&&(a=i,o(),i=a),t[(r+e)%n]=u,e++,i||o()}}}();function E(n,s,f){var d=0,p=0,S=f,y=null,W=null,A=null,D=null,N=null,x=0,M=0,q=null,T=!0;function L(f){for(var M,H,O;;)switch(M=null,H=null,O=null,p){case 2:p=1;try{S=A(S),null===D?A=null:(A=D._1,D=D._2)}catch(e){p=5,y=n.left(e),S=null}break;case 3:n.isLeft(S)?(p=5,y=S,S=null):null===A?p=5:(p=2,S=n.fromRight(S));break;case 1:switch(S.tag){case u:A&&(D=new F(w,A,D)),A=S._2,p=1,S=S._1;break;case e:null===A?(p=5,S=n.right(S._1)):(p=2,S=S._1);break;case i:p=3,S=I(n.left,n.right,S._1);break;case o:return p=4,void(S=C(n.left,S._1,(function(n){return function(){d===f&&(d++,R.enqueue((function(){d===f+1&&(p=3,S=n,L(d))})))}})));case r:p=5,y=n.left(S._1),S=null;break;case t:N=new F(w,S,null===A?N:new F(w,new F(h,A,D),N,W),W),A=null,D=null,p=1,S=S._1;break;case a:x++,N=new F(w,S,null===A?N:new F(w,new F(h,A,D),N,W),W),A=null,D=null,p=1,S=S._1;break;case c:p=3,M=E(n,s,S._2),s&&s.register(M),S._1&&M.run(),S=n.right(M);break;case l:p=1,S=P(n,s,S._1)}break;case 5:if(A=null,D=null,null===N)p=6,S=W||y||S;else switch(M=N._3,O=N._1,N=N._2,O.tag){case t:W&&W!==M&&0===x?p=5:y&&(p=1,S=O._2(n.fromLeft(y)),y=null);break;case h:W&&W!==M&&0===x||y?p=5:(A=O._1,D=O._2,p=2,S=n.fromRight(S));break;case a:x--,null===y&&(H=n.fromRight(S),N=new F(w,new F(g,O._2,H),N,M),(W===M||x>0)&&(p=1,S=O._3(H)));break;case g:N=new F(w,new F(m,S,y),N,W),p=1,S=W&&W!==M&&0===x?O._1.killed(n.fromLeft(W))(O._2):y?O._1.failed(n.fromLeft(y))(O._2):O._1.completed(n.fromRight(S))(O._2),y=null,x++;break;case v:x++,N=new F(w,new F(m,S,y),N,W),p=1,S=O._1;break;case m:x--,p=5,S=O._1,y=O._2}break;case 6:for(var J in q)q.hasOwnProperty(J)&&(T=T&&q[J].rethrow,b(q[J].handler(S)));return q=null,void(W&&y?setTimeout((function(){throw n.fromLeft(y)}),0):n.isLeft(S)&&T&&setTimeout((function(){if(T)throw n.fromLeft(S)}),0));case 0:p=1;break;case 4:return}}function H(n){return function(){if(6===p)return T=T&&n.rethrow,n.handler(S)(),function(){};var e=M++;return(q=q||{})[e]=n,function(){null!==q&&delete q[e]}}}return{kill:function(e,r){return function(){if(6===p)return r(n.right(void 0))(),function(){};var t=H({rethrow:!1,handler:function(){return r(n.right(void 0))}})();switch(p){case 0:W=n.left(e),p=6,S=W,L(d);break;case 4:null===W&&(W=n.left(e)),0===x&&(4===p&&(N=new F(w,new F(v,S(e)),N,W)),p=5,S=null,y=null,L(++d));break;default:null===W&&(W=n.left(e)),0===x&&(p=5,S=null,y=null)}return t}},join:function(n){return function(){var e=H({rethrow:!1,handler:n})();return 0===p&&L(d),e}},onComplete:H,isSuspended:function(){return 0===p},run:function(){0===p&&(R.isDraining()?L(d):R.enqueue((function(){L(d)})))}}}function W(e,r,t,i){var u=0,a={},c=0,l={},h=new Error("[ParAff] Early exit"),g=null,v=n;function m(r,t,i){var o,u,c=t,l=null,h=null,g=0,v={};n:for(;;)switch(o=null,c.tag){case p:if(c._3===n&&(o=a[c._1],v[g++]=o.kill(r,(function(n){return function(){0===--g&&i(n)()}}))),null===l)break n;c=l._2,null===h?l=null:(l=h._1,h=h._2);break;case s:c=c._2;break;case f:case d:l&&(h=new F(w,l,h)),l=c,c=c._1}if(0===g)i(e.right(void 0))();else for(u=0,o=g;u<o;u++)v[u]=v[u]();return v}function S(r,t,o){var u,a,w,v,p,F;for(e.isLeft(r)?(u=r,a=null):(a=r,u=null);;){if(w=null,v=null,p=null,F=null,null!==g)return;if(null===t)return void i(u||a)();if(t._3!==n)return;switch(t.tag){case s:null===u?(t._3=e.right(t._1(e.fromRight(a))),a=t._3):t._3=u;break;case f:if(w=t._1._3,v=t._2._3,u){if(t._3=u,p=!0,F=c++,l[F]=m(h,u===w?t._2:t._1,(function(){return function(){delete l[F],p?p=!1:null===o?S(u,null,null):S(u,o._1,o._2)}})),p)return void(p=!1)}else{if(w===n||v===n)return;a=e.right(e.fromRight(w)(e.fromRight(v))),t._3=a}break;case d:if(w=t._1._3,v=t._2._3,w===n&&e.isLeft(v)||v===n&&e.isLeft(w))return;if(w!==n&&e.isLeft(w)&&v!==n&&e.isLeft(v))u=a===w?v:w,a=null,t._3=u;else if(t._3=a,p=!0,F=c++,l[F]=m(h,a===w?t._2:t._1,(function(){return function(){delete l[F],p?p=!1:null===o?S(a,null,null):S(a,o._1,o._2)}})),p)return void(p=!1)}null===o?t=null:(t=o._1,o=o._2)}}function b(n){return function(e){return function(){delete a[n._1],n._3=e,S(e,n._2._1,n._2._2)}}}return function(){var i,o,c=1,l=t,h=null,g=null;n:for(;;)switch(i=null,o=null,c){case 1:switch(l.tag){case s:h&&(g=new F(w,h,g)),h=new F(s,l._1,n,n),l=l._2;break;case f:h&&(g=new F(w,h,g)),h=new F(f,n,l._2,n),l=l._1;break;case d:h&&(g=new F(w,h,g)),h=new F(d,n,l._2,n),l=l._1;break;default:o=u++,c=5,i=l,l=new F(p,o,new F(w,h,g),n),(i=E(e,r,i)).onComplete({rethrow:!1,handler:b(l)})(),a[o]=i,r&&r.register(i)}break;case 5:if(null===h)break n;h._1===n?(h._1=l,c=1,l=h._2,h._2=n):(h._2=l,l=h,null===g?h=null:(h=g._1,g=g._2))}for(v=l,o=0;o<u;o++)a[o].run()}(),function(n){return new F(o,(function(r){return function(){return function(n,r){var t;for(var i in g=e.left(n),l)if(l.hasOwnProperty(i))for(i in t=l[i])t.hasOwnProperty(i)&&t[i]();l=null;var u=m(n,v,r);return function(n){return new F(o,(function(n){return function(){for(var n in u)u.hasOwnProperty(n)&&u[n]();return y}}))}}(n,r)}}))}}function P(n,e,r){return new F(o,(function(t){return function(){return W(n,e,r,t)}}))}return F.EMPTY=n,F.Pure=S(e),F.Throw=S(r),F.Catch=S(t),F.Sync=S(i),F.Async=S(o),F.Bind=S(u),F.Bracket=S(a),F.Fork=S(c),F.Seq=S(l),F.ParMap=S(s),F.ParApply=S(f),F.ParAlt=S(d),F.Fiber=E,F.Supervisor=function(n){var e={},r=0,t=0;return{register:function(n){var i=r++;n.onComplete({rethrow:!0,handler:function(n){return function(){t--,delete e[i]}}})(),e[i]=n,t++},isEmpty:function(){return 0===t},killAll:function(o,u){return function(){if(0===t)return u();var a=0,c={};function l(r){c[r]=e[r].kill(o,(function(e){return function(){delete c[r],a--,n.isLeft(e)&&n.fromLeft(e)&&setTimeout((function(){throw n.fromLeft(e)}),0),0===a&&u()}}))()}for(var s in e)e.hasOwnProperty(s)&&(a++,l(s));return e={},r=0,t=0,function(n){return new F(i,(function(){for(var n in c)c.hasOwnProperty(n)&&c[n]()}))}}}}},F.Scheduler=R,F.nonCanceler=y,F}();n._pure=e.Pure,n._throwError=e.Throw,n._catchError=function(n){return function(r){return e.Catch(n,r)}},n._map=function(n){return function(r){return r.tag===e.Pure.tag?e.Pure(n(r._1)):e.Bind(r,(function(r){return e.Pure(n(r))}))}},n._bind=function(n){return function(r){return e.Bind(n,r)}},n._fork=function(n){return function(r){return e.Fork(n,r)}},n._liftEffect=e.Sync,n._parAffMap=function(n){return function(r){return e.ParMap(n,r)}},n._parAffApply=function(n){return function(r){return e.ParApply(n,r)}},n.makeAff=e.Async,n.generalBracket=function(n){return function(r){return function(t){return e.Bracket(n,r,t)}}},n._makeFiber=function(n,r){return function(){return e.Fiber(n,null,r)}},n._sequential=e.Seq}(n["Effect.Aff"]=n["Effect.Aff"]||{}),function(n){n["Control.Parallel.Class"]=n["Control.Parallel.Class"]||{};var e=n["Control.Parallel.Class"];e.parallel=function(n){return n.parallel},e.sequential=function(n){return n.sequential},e.Parallel=function(n,e,r,t){this.Applicative1=n,this.Monad0=e,this.parallel=r,this.sequential=t}}(n),function(n){n["Control.Parallel"]=n["Control.Parallel"]||{};var e=n["Control.Parallel"],r=n["Control.Category"],t=n["Control.Parallel.Class"],i=n["Data.Foldable"];e.parSequence_=function(n){return function(e){return function(n){return function(e){return function(r){var o,u=t.sequential(n),a=i.traverse_(n.Applicative1())(e)((o=t.parallel(n),function(n){return o(r(n))}));return function(n){return u(a(n))}}}}(n)(e)(r.identity(r.categoryFn))}}}(n),function(n){n["Effect.Class"]=n["Effect.Class"]||{};var e=n["Effect.Class"],r=n["Control.Category"],t=n.Effect,i=function(n,e){this.Monad0=n,this.liftEffect=e},o=new i((function(){return t.monadEffect}),r.identity(r.categoryFn));e.liftEffect=function(n){return n.liftEffect},e.MonadEffect=i,e.monadEffectEffect=o}(n),function(n){n["Effect.Aff"]=n["Effect.Aff"]||{};var e,r,t,i=n["Effect.Aff"],o=n["Effect.Aff"],u=n["Control.Applicative"],a=n["Control.Apply"],c=n["Control.Bind"],l=n["Control.Monad"],s=n["Control.Monad.Error.Class"],f=n["Control.Monad.Rec.Class"],d=n["Control.Parallel"],w=n["Control.Parallel.Class"],h=n["Data.Either"],g=n["Data.Foldable"],v=n["Data.Function"],m=n["Data.Functor"],p=n["Data.Monoid"],F=n["Data.Semigroup"],S=n["Data.Unit"],y=n.Effect,b=n["Effect.Class"],I=n["Effect.Unsafe"],C=n["Partial.Unsafe"],R=n["Unsafe.Coerce"],E=o._fork(!1),W=new m.Functor(o._parAffMap),P=new m.Functor(o._map),A=o._fork(!0),D={isLeft:function(n){if(n instanceof h.Left)return!0;if(n instanceof h.Right)return!1;throw new Error("Failed pattern match at Effect.Aff (line 394, column 12 - line 396, column 20): "+[n.constructor.name])},fromLeft:function(n){if(n instanceof h.Left)return n.value0;if(n instanceof h.Right)return C.unsafeCrashWith("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 399, column 20 - line 401, column 54): "+[n.constructor.name])},fromRight:function(n){if(n instanceof h.Right)return n.value0;if(n instanceof h.Left)return C.unsafeCrashWith("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 404, column 21 - line 406, column 54): "+[n.constructor.name])},left:h.Left.create,right:h.Right.create},N=function(n){return o._makeFiber(D,n)},x=new a.Apply((function(){return W}),o._parAffApply),M=new l.Monad((function(){return L}),(function(){return q})),q=new c.Bind((function(){return T}),o._bind),T=new a.Apply((function(){return P}),l.ap(M)),L=new u.Applicative((function(){return T}),o._pure),H=new b.MonadEffect((function(){return M}),o._liftEffect),O=(e=b.liftEffect(H),function(n){return v.const(e(n))}),J=function(n){return o.makeAff((function(e){return m.map(y.functorEffect)(O)(n.join(e))}))},_=new m.Functor((function(n){return function(e){return I.unsafePerformEffect(N(m.map(P)(n)(J(e))))}})),U=new s.MonadThrow((function(){return M}),o._throwError),k=new s.MonadError((function(){return U}),o._catchError),B=function(n){return function(e){return function(n){return function(){var e=N(n)();return e.run(),e}}(c.bindFlipped(q)((r=b.liftEffect(H),function(e){return r(n(e))}))(s.try(k)(e)));var r}},V=new w.Parallel((function(){return z}),(function(){return M}),R.unsafeCoerce,o._sequential),z=new u.Applicative((function(){return x}),(r=w.parallel(V),t=u.pure(L),function(n){return r(t(n))})),G=new F.Semigroup((function(n){return function(e){return function(r){return d.parSequence_(V)(g.foldableArray)([n(r),e(r)])}}})),Q=new f.MonadRec((function(){return M}),(function(n){var e=function(r){return c.bind(q)(n(r))((function(n){if(n instanceof f.Done)return u.pure(L)(n.value0);if(n instanceof f.Loop)return e(n.value0);throw new Error("Failed pattern match at Effect.Aff (line 102, column 7 - line 104, column 22): "+[n.constructor.name])}))};return e})),j=v.const(u.pure(L)(S.unit)),K=new p.Monoid((function(){return G}),j);i.runAff_=function(n){return function(e){return m.void(y.functorEffect)(B(n)(e))}},i.forkAff=A,i.suspendAff=E,i.finally=function(n){return function(e){return(r=u.pure(L)(S.unit),function(n){return o.generalBracket(r)({killed:v.const(n),failed:v.const(n),completed:v.const(n)})})(v.const(n))(v.const(e));var r}},i.killFiber=function(n){return function(e){return c.bind(q)(b.liftEffect(H)(e.isSuspended))((function(r){return r?b.liftEffect(H)(m.void(y.functorEffect)(e.kill(n,v.const(u.pure(y.applicativeEffect)(S.unit))))):o.makeAff((function(r){return m.map(y.functorEffect)(O)(e.kill(n,r))}))}))}},i.joinFiber=J,i.nonCanceler=j,i.effectCanceler=O,i.functorAff=P,i.applicativeAff=L,i.bindAff=q,i.monadAff=M,i.monadRecAff=Q,i.monadEffectAff=H,i.applicativeParAff=z,i.parallelAff=V,i.functorFiber=_,i.monoidCanceler=K,i.makeAff=o.makeAff}(n),function(n){n["Control.Monad.Fork.Class"]=n["Control.Monad.Fork.Class"]||{};var e=n["Control.Monad.Fork.Class"],r=n["Effect.Aff"],t=new function(n,e,r,t,i){this.Functor1=n,this.Monad0=e,this.fork=r,this.join=t,this.suspend=i}((function(){return r.functorFiber}),(function(){return r.monadAff}),r.forkAff,r.joinFiber,r.suspendAff);e.fork=function(n){return n.fork},e.monadForkAff=t}(n),function(n){n["Data.CatQueue"]=n["Data.CatQueue"]||{};var e=n["Data.CatQueue"],r=n["Data.List"],t=n["Data.List.Types"],i=n["Data.Maybe"],o=n["Data.Tuple"],u=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),a=new u(t.Nil.value,t.Nil.value);e.empty=a,e.null=function(n){return n.value0 instanceof t.Nil&&n.value1 instanceof t.Nil},e.snoc=function(n){return function(e){return new u(n.value0,new t.Cons(e,n.value1))}},e.uncons=function(n){var e,a=!1;function c(e){if(e.value0 instanceof t.Nil&&e.value1 instanceof t.Nil)return a=!0,i.Nothing.value;if(!(e.value0 instanceof t.Nil)){if(e.value0 instanceof t.Cons)return a=!0,new i.Just(new o.Tuple(e.value0.value0,new u(e.value0.value1,e.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 83, column 1 - line 83, column 63): "+[e.constructor.name])}n=new u(r.reverse(e.value1),t.Nil.value)}for(;!a;)e=c(n);return e}}(n),function(n){n["Data.CatList"]=n["Data.CatList"]||{};var e=n["Data.CatList"],r=n["Data.CatQueue"],t=n["Data.List.Types"],i=n["Data.Maybe"],o=n["Data.Semigroup"],u=n["Data.Tuple"],a=function(){function n(){}return n.value=new n,n}(),c=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),l=function(n){return function(e){if(n instanceof a)return e;if(e instanceof a)return n;if(n instanceof c)return new c(n.value0,r.snoc(n.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 109, column 1 - line 109, column 54): "+[n.constructor.name,e.constructor.name])}},s=function(n){return function(e){return function(o){var u;return(u=o,function(o){var a,c=u,l=!1;function s(u,a){var s,f=r.uncons(u);if(f instanceof i.Nothing)return l=!0,(s=function(n){return function(e){return e(n)}},function(n){return function(e){var r,i=s,o=n,u=!1;function a(n,r,a){if(a instanceof t.Nil)return u=!0,r;if(a instanceof t.Cons)return i=n,o=n(r)(a.value0),void(e=a.value1);throw new Error("Failed pattern match at Data.CatList (line 125, column 3 - line 125, column 59): "+[n.constructor.name,r.constructor.name,a.constructor.name])}for(;!u;)r=a(i,o,e);return r}})(e)(a);if(f instanceof i.Just)return c=f.value0.value1,void(o=new t.Cons(n(f.value0.value0),a));throw new Error("Failed pattern match at Data.CatList (line 121, column 14 - line 123, column 67): "+[f.constructor.name])}for(;!l;)a=s(c,o);return a})(t.Nil.value)}}},f=a.value,d=l,w=new o.Semigroup(d);e.empty=f,e.snoc=function(n){return function(e){return d(n)(new c(e,r.empty))}},e.uncons=function(n){if(n instanceof a)return i.Nothing.value;if(n instanceof c)return new i.Just(new u.Tuple(n.value0,r.null(n.value1)?a.value:s(l)(a.value)(n.value1)));throw new Error("Failed pattern match at Data.CatList (line 100, column 1 - line 100, column 61): "+[n.constructor.name])},e.semigroupCatList=w}(n),function(n){n["Control.Monad.Free"]=n["Control.Monad.Free"]||{};var e=n["Control.Monad.Free"],r=n["Control.Applicative"],t=n["Control.Apply"],i=n["Control.Bind"],o=n["Control.Monad"],u=n["Control.Monad.Rec.Class"],a=n["Data.CatList"],c=n["Data.Functor"],l=n["Data.Maybe"],s=n["Data.Semigroup"],f=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),h=function(n){return new f(n,a.empty)},g=new o.Monad((function(){return F}),(function(){return m})),v=new c.Functor((function(n){return function(e){return i.bindFlipped(m)((t=r.pure(F),function(e){return t(n(e))}))(e);var t}})),m=new i.Bind((function(){return p}),(function(n){return function(e){return new f(n.value0,a.snoc(n.value1)(e))}})),p=new t.Apply((function(){return v}),o.ap(g)),F=new r.Applicative((function(){return p}),(function(n){return h(d.create(n))}));e.liftF=function(n){return h(new w(n,(e=r.pure(F),function(n){return e(n)})));var e},e.foldFree=function(n){return function(e){return u.tailRecM(n)((function(t){var i=function(n){var e,r=!1;function t(e){var t=function(n){return function(e){return new f(n.value0,s.append(a.semigroupCatList)(n.value1)(e))}};if(e.value0 instanceof d){var i=a.uncons(e.value1);if(i instanceof l.Nothing)return r=!0,new d(e.value0.value0);if(i instanceof l.Just)return void(n=t((0,i.value0.value0)(e.value0.value0))(i.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(e.value0 instanceof w)return r=!0,new w(e.value0.value0,(function(n){return t(e.value0.value1(n))(e.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[e.value0.constructor.name])}for(;!r;)e=t(n);return e}(t);if(i instanceof d)return c.map(n.Monad0().Bind1().Apply0().Functor0())(u.Done.create)(r.pure(n.Monad0().Applicative0())(i.value0));if(i instanceof w)return c.map(n.Monad0().Bind1().Apply0().Functor0())((function(n){return u.Loop.create(i.value1(n))}))(e(i.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[i.constructor.name])}))}},e.freeFunctor=v,e.freeBind=m,e.freeApplicative=F,e.freeApply=p,e.freeMonad=g}(n),function(n){n["Control.Monad.State"]=n["Control.Monad.State"]||{};n["Control.Monad.State"].execState=function(n){return function(e){return n(e).value1}}}(n),function(n){n["Control.Monad.State.Class"]=n["Control.Monad.State.Class"]||{};var e=n["Control.Monad.State.Class"],r=n["Data.Tuple"],t=n["Data.Unit"],i=function(n){return n.state};e.MonadState=function(n,e){this.Monad0=n,this.state=e},e.get=function(n){return i(n)((function(n){return new r.Tuple(n,n)}))},e.gets=function(n){return function(e){return i(n)((function(n){return new r.Tuple(e(n),n)}))}},e.put=function(n){return function(e){return i(n)((function(n){return new r.Tuple(t.unit,e)}))}},e.modify=function(n){return function(e){return i(n)((function(n){var t=e(n);return new r.Tuple(t,t)}))}},e.modify_=function(n){return function(e){return i(n)((function(n){return new r.Tuple(t.unit,e(n))}))}}}(n),function(n){n["Control.Monad.Trans.Class"]=n["Control.Monad.Trans.Class"]||{};var e=n["Control.Monad.Trans.Class"];e.lift=function(n){return n.lift},e.MonadTrans=function(n){this.lift=n}}(n),function(n){n["Control.Monad.State.Trans"]=n["Control.Monad.State.Trans"]||{};var e=n["Control.Monad.State.Trans"],r=n["Control.Applicative"],t=n["Control.Apply"],i=n["Control.Bind"],o=n["Control.Monad"],u=n["Control.Monad.State.Class"],a=n["Control.Monad.Trans.Class"],c=n["Data.Functor"],l=n["Data.Tuple"],s=new a.MonadTrans((function(n){return function(e){return function(t){return i.bind(n.Bind1())(e)((function(e){return r.pure(n.Applicative0())(new l.Tuple(e,t))}))}}})),f=function(n){return new c.Functor((function(e){return function(r){return function(t){return c.map(n)((function(n){return new l.Tuple(e(n.value0),n.value1)}))(r(t))}}}))},d=function(n){return new o.Monad((function(){return g(n)}),(function(){return w(n)}))},w=function(n){return new i.Bind((function(){return h(n)}),(function(e){return function(r){return function(t){return i.bind(n.Bind1())(e(t))((function(n){return r(n.value0)(n.value1)}))}}}))},h=function(n){return new t.Apply((function(){return f(n.Bind1().Apply0().Functor0())}),o.ap(d(n)))},g=function(n){return new r.Applicative((function(){return h(n)}),(function(e){return function(t){return r.pure(n.Applicative0())(new l.Tuple(e,t))}}))};e.runStateT=function(n){return n},e.functorStateT=f,e.applicativeStateT=g,e.bindStateT=w,e.monadTransStateT=s,e.monadStateStateT=function(n){return new u.MonadState((function(){return d(n)}),(function(e){return t=r.pure(n.Applicative0()),function(n){return t(e(n))};var t}))}}(n),function(n){n["DOM.HTML.Indexed.InputAcceptType"]=n["DOM.HTML.Indexed.InputAcceptType"]||{};var e=n["DOM.HTML.Indexed.InputAcceptType"],r=n["Data.Functor"],t=n["Data.String.Common"],i=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),o=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),u=function(n){if(n instanceof i)return n.value0;if(n instanceof o)return n.value0;throw new Error("Failed pattern match at DOM.HTML.Indexed.InputAcceptType (line 28, column 29 - line 30, column 33): "+[n.constructor.name])};e.AcceptFileExtension=o,e.renderInputAcceptType=function(n){return t.joinWith(",")(r.map(r.functorArray)(u)(n))}}(n),function(n){n["DOM.HTML.Indexed.InputType"]=n["DOM.HTML.Indexed.InputType"]||{};var e=n["DOM.HTML.Indexed.InputType"],r=function(){function n(){}return n.value=new n,n}(),t=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}(),a=function(){function n(){}return n.value=new n,n}(),c=function(){function n(){}return n.value=new n,n}(),l=function(){function n(){}return n.value=new n,n}(),s=function(){function n(){}return n.value=new n,n}(),f=function(){function n(){}return n.value=new n,n}(),d=function(){function n(){}return n.value=new n,n}(),w=function(){function n(){}return n.value=new n,n}(),h=function(){function n(){}return n.value=new n,n}(),g=function(){function n(){}return n.value=new n,n}(),v=function(){function n(){}return n.value=new n,n}(),m=function(){function n(){}return n.value=new n,n}(),p=function(){function n(){}return n.value=new n,n}(),F=function(){function n(){}return n.value=new n,n}(),S=function(){function n(){}return n.value=new n,n}(),y=function(){function n(){}return n.value=new n,n}(),b=function(){function n(){}return n.value=new n,n}(),I=function(){function n(){}return n.value=new n,n}();e.InputCheckbox=t,e.InputFile=c,e.renderInputType=function(n){if(n instanceof r)return"button";if(n instanceof t)return"checkbox";if(n instanceof i)return"color";if(n instanceof o)return"date";if(n instanceof u)return"datetime-local";if(n instanceof a)return"email";if(n instanceof c)return"file";if(n instanceof l)return"hidden";if(n instanceof s)return"image";if(n instanceof f)return"month";if(n instanceof d)return"number";if(n instanceof w)return"password";if(n instanceof h)return"radio";if(n instanceof g)return"range";if(n instanceof v)return"reset";if(n instanceof m)return"search";if(n instanceof p)return"submit";if(n instanceof F)return"tel";if(n instanceof S)return"text";if(n instanceof y)return"time";if(n instanceof b)return"url";if(n instanceof I)return"week";throw new Error("Failed pattern match at DOM.HTML.Indexed.InputType (line 28, column 19 - line 50, column 22): "+[n.constructor.name])}}(n),function(n){n["Data.Exists"]=n["Data.Exists"]||{};var e=n["Data.Exists"],r=n["Unsafe.Coerce"],t=r.unsafeCoerce,i=r.unsafeCoerce;e.mkExists=i,e.runExists=t}(n),function(n){n["Data.Coyoneda"]=n["Data.Coyoneda"]||{};var e=n["Data.Coyoneda"],r=n["Control.Category"],t=n["Data.Exists"],i=n["Data.Functor"],o=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),u=function(n){return function(e){return t.mkExists(new o(n,e))}},a=new i.Functor((function(n){return function(e){return t.runExists((function(e){return u((function(r){return n(e.value0(r))}))(e.value1)}))(e)}})),c=u(r.identity(r.categoryFn));e.unCoyoneda=function(n){return function(e){return t.runExists((function(e){return n(e.value0)(e.value1)}))(e)}},e.liftCoyoneda=c,e.functorCoyoneda=a}(n),function(n){n.runFn4=function(n){return function(e){return function(r){return function(t){return function(i){return n(e,r,t,i)}}}}}}(n["Data.Function.Uncurried"]=n["Data.Function.Uncurried"]||{}),function(n){n["Data.Function.Uncurried"]=n["Data.Function.Uncurried"]||{};var e=n["Data.Function.Uncurried"],r=n["Data.Function.Uncurried"];e.runFn4=r.runFn4}(n),function(n){n.null=null,n.nullable=function(n,e,r){return null==n?e:r(n)},n.notNull=function(n){return n}}(n["Data.Nullable"]=n["Data.Nullable"]||{}),function(n){n["Data.Nullable"]=n["Data.Nullable"]||{};var e=n["Data.Nullable"],r=n["Data.Nullable"],t=n["Data.Maybe"],i=t.maybe(r.null)(r.notNull);e.toMaybe=function(n){return r.nullable(n,t.Nothing.value,t.Just.create)},e.toNullable=i,e.null=r.null}(n),function(n){n["Data.Set"]=n["Data.Set"]||{};var e=n["Data.Set"],r=n["Data.Map.Internal"],t=n["Data.Monoid"],i=n["Data.Semigroup"],o=n["Data.Unit"],u=function(n){return new i.Semigroup(function(n){return function(e){return function(t){return r.union(n)(e)(t)}}}(n))},a=r.empty;e.empty=a,e.singleton=function(n){return r.singleton(n)(o.unit)},e.member=function(n){return function(e){return function(t){return r.member(n)(e)(t)}}},e.monoidSet=function(n){return new t.Monoid((function(){return u(n)}),a)}}(n),function(n){n["Effect.Aff.Class"]=n["Effect.Aff.Class"]||{};var e=n["Effect.Aff.Class"],r=n["Control.Category"],t=n["Effect.Aff"],i=function(n,e){this.MonadEffect0=n,this.liftAff=e},o=new i((function(){return t.monadEffectAff}),r.identity(r.categoryFn));e.liftAff=function(n){return n.liftAff},e.MonadAff=i,e.monadAffAff=o}(n),function(n){n.log=function(n){return function(){console.log(n)}},n.warn=function(n){return function(){console.warn(n)}}}(n["Effect.Console"]=n["Effect.Console"]||{}),function(n){n["Effect.Console"]=n["Effect.Console"]||{};var e=n["Effect.Console"],r=n["Effect.Console"];e.log=r.log,e.warn=r.warn}(n),function(n){n["Effect.Class.Console"]=n["Effect.Class.Console"]||{};var e=n["Effect.Class.Console"],r=n["Effect.Class"],t=n["Effect.Console"];e.log=function(n){var e=r.liftEffect(n);return function(n){return e(t.log(n))}}}(n),function(n){n.Leftmost=n.Leftmost||{};var e=n.Leftmost,r=n.Common,t=n["Control.Applicative"],i=n["Control.Bind"],o=n["Data.Array"],u=n["Data.Either"],a=n["Data.Functor"],c=n["Data.Generic.Rep"],l=n["Data.Map.Internal"],s=n["Data.Maybe"],f=n["Data.Ord"],d=n["Data.Pitches.Class"],w=n["Data.Pitches.Spelled"],h=n["Data.Semigroup"],g=n["Data.Show"],v=n["Data.Show.Generic"],m=n["Data.Symbol"],p=n["Data.Traversable"],F=n["Data.Unfoldable"],S=n.Model,y=function(){function n(){}return n.value=new n,n}(),b=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),I=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),C=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),R=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),E=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),W=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),P=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),A=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),D=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),N=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),x=new h.Semigroup((function(n){return function(e){if(n instanceof P){if(e instanceof P)return new N({left:[n.value0,e.value0],right:[]});if(e instanceof A)return new D({left:n.value0,right:e.value0});if(e instanceof D)return new N({left:[n.value0,e.value0.left],right:[e.value0.right]});if(e instanceof N)return new N({left:o.cons(n.value0)(e.value0.left),right:e.value0.right});throw new Error("Failed pattern match at Leftmost (line 104, column 20 - line 108, column 88): "+[e.constructor.name])}if(n instanceof A){if(e instanceof P)return new D({left:e.value0,right:n.value0});if(e instanceof A)return new N({left:[],right:[n.value0,e.value0]});if(e instanceof D)return new N({left:[e.value0.left],right:[n.value0,e.value0.right]});if(e instanceof N)return new N({left:e.value0.left,right:o.cons(n.value0)(e.value0.right)});throw new Error("Failed pattern match at Leftmost (line 109, column 21 - line 113, column 89): "+[e.constructor.name])}if(n instanceof D){if(e instanceof P)return new N({left:[n.value0.left,e.value0],right:[n.value0.right]});if(e instanceof A)return new N({left:[n.value0.left],right:[n.value0.right,e.value0]});if(e instanceof D)return new N({left:[n.value0.left,e.value0.left],right:[n.value0.right,e.value0.right]});if(e instanceof N)return new N({left:o.cons(n.value0.left)(e.value0.left),right:o.cons(n.value0.right)(e.value0.right)});throw new Error("Failed pattern match at Leftmost (line 114, column 43 - line 118, column 104): "+[e.constructor.name])}if(n instanceof N){if(e instanceof P)return new N({left:o.snoc(n.value0.left)(e.value0),right:n.value0.right});if(e instanceof A)return new N({left:n.value0.left,right:o.snoc(n.value0.right)(e.value0)});if(e instanceof D)return new N({left:o.snoc(n.value0.left)(e.value0.left),right:o.snoc(n.value0.right)(e.value0.right)});if(e instanceof N)return new N({left:h.append(h.semigroupArray)(n.value0.left)(e.value0.left),right:h.append(h.semigroupArray)(n.value0.right)(e.value0.right)});throw new Error("Failed pattern match at Leftmost (line 119, column 46 - line 123, column 96): "+[e.constructor.name])}throw new Error("Failed pattern match at Leftmost (line 103, column 16 - line 123, column 96): "+[n.constructor.name])}})),M=new c.Generic((function(n){return n}),(function(n){return n})),q=new c.Generic((function(n){return c.NoArguments.value}),(function(n){return y.value})),T=new g.Show((function(n){return v.genericShow(q)(v.genericShowConstructor(v.genericShowArgsNoArguments)(new m.IsSymbol((function(){return"RootNote"}))))(n)})),L=new g.Show((function(n){return v.genericShow(M)(v.genericShowConstructor(v.genericShowArgsArgument(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"fromLeft"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"fromRight"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"ids"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"keepLeft"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"keepRight"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"passing"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"regular"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"unexplained"})))(g.showRecordFieldsNil)(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(l.showMap(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"child"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"orn"})))(g.showRecordFieldsNil)(u.showEither(T)(s.showMaybe(S.showDoubleOrnament))))(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))(l.showMap(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"child"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"orn"})))(g.showRecordFieldsNil)(s.showMaybe(S.showDoubleOrnament)))(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"slice"})))(g.showRecordFieldsNil)(S.showSliceId))(S.showTransId))(S.showTransId))))(l.showMap(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"child"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"orn"})))(g.showRecordFieldsNil)(s.showMaybe(S.showLeftOrnament)))(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))(l.showMap(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"child"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"orn"})))(g.showRecordFieldsNil)(s.showMaybe(S.showRightOrnament)))(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))))(new m.IsSymbol((function(){return"SplitOp"}))))(n)})),H=new c.Generic((function(n){if(n instanceof b)return new c.Inl(n.value0);if(n instanceof I)return new c.Inr(new c.Inl(n.value0));if(n instanceof C)return new c.Inr(new c.Inr(new c.Inl(n.value0)));if(n instanceof R)return new c.Inr(new c.Inr(new c.Inr(new c.Inl(n.value0))));if(n instanceof E)return new c.Inr(new c.Inr(new c.Inr(new c.Inr(new c.Inl(n.value0)))));if(n instanceof W)return new c.Inr(new c.Inr(new c.Inr(new c.Inr(new c.Inr(n.value0)))));throw new Error("Failed pattern match at Leftmost (line 26, column 1 - line 26, column 62): "+[n.constructor.name])}),(function(n){if(n instanceof c.Inl)return new b(n.value0);if(n instanceof c.Inr&&n.value0 instanceof c.Inl)return new I(n.value0.value0);if(n instanceof c.Inr&&n.value0 instanceof c.Inr&&n.value0.value0 instanceof c.Inl)return new C(n.value0.value0.value0);if(n instanceof c.Inr&&n.value0 instanceof c.Inr&&n.value0.value0 instanceof c.Inr&&n.value0.value0.value0 instanceof c.Inl)return new R(n.value0.value0.value0.value0);if(n instanceof c.Inr&&n.value0 instanceof c.Inr&&n.value0.value0 instanceof c.Inr&&n.value0.value0.value0 instanceof c.Inr&&n.value0.value0.value0.value0 instanceof c.Inl)return new E(n.value0.value0.value0.value0.value0);if(n instanceof c.Inr&&n.value0 instanceof c.Inr&&n.value0.value0 instanceof c.Inr&&n.value0.value0.value0 instanceof c.Inr&&n.value0.value0.value0.value0 instanceof c.Inr)return new W(n.value0.value0.value0.value0.value0);throw new Error("Failed pattern match at Leftmost (line 26, column 1 - line 26, column 62): "+[n.constructor.name])})),O=new c.Generic((function(n){return n}),(function(n){return n})),J=new c.Generic((function(n){if(n instanceof P)return new c.Inl(n.value0);if(n instanceof A)return new c.Inr(new c.Inl(n.value0));if(n instanceof D)return new c.Inr(new c.Inr(new c.Inl(n.value0)));if(n instanceof N)return new c.Inr(new c.Inr(new c.Inr(n.value0)));throw new Error("Failed pattern match at Leftmost (line 176, column 1 - line 176, column 62): "+[n.constructor.name])}),(function(n){if(n instanceof c.Inl)return new P(n.value0);if(n instanceof c.Inr&&n.value0 instanceof c.Inl)return new A(n.value0.value0);if(n instanceof c.Inr&&n.value0 instanceof c.Inr&&n.value0.value0 instanceof c.Inl)return new D(n.value0.value0.value0);if(n instanceof c.Inr&&n.value0 instanceof c.Inr&&n.value0.value0 instanceof c.Inr)return new N(n.value0.value0.value0);throw new Error("Failed pattern match at Leftmost (line 176, column 1 - line 176, column 62): "+[n.constructor.name])})),_=new g.Show((function(n){return v.genericShow(J)(v.genericShowSum(v.genericShowConstructor(v.genericShowArgsArgument(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))(new m.IsSymbol((function(){return"LeftChild"}))))(v.genericShowSum(v.genericShowConstructor(v.genericShowArgsArgument(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))(new m.IsSymbol((function(){return"RightChild"}))))(v.genericShowSum(v.genericShowConstructor(v.genericShowArgsArgument(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))(new m.IsSymbol((function(){return"BothChildren"}))))(v.genericShowConstructor(v.genericShowArgsArgument(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))))(new m.IsSymbol((function(){return"TooManyChildren"})))))))(n)})),U=new g.Show((function(n){return v.genericShow(O)(v.genericShowConstructor(v.genericShowArgsArgument(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"children"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"ids"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"midEdges"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"unexplained"})))(g.showRecordFieldsNil)(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))))(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"passing"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"regular"})))(g.showRecordFieldsNil)(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))))(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"lslice"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"mid"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"rslice"})))(g.showRecordFieldsNil)(S.showSliceId))(S.showTransId))(S.showTransId))(S.showSliceId))(S.showTransId))))(l.showMap(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))(_)))))(new m.IsSymbol((function(){return"HoriOp"}))))(n)})),k=new c.Generic((function(n){return n}),(function(n){return n})),B=new g.Show((function(n){return v.genericShow(k)(v.genericShowConstructor(v.genericShowArgsArgument(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"prevTime"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"ties"})))(g.showRecordFieldsNil)(g.showArray(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"left"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"right"})))(g.showRecordFieldsNil)(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString)))))(S.showStartStop(g.showRecord()(g.showRecordFieldsCons(new m.IsSymbol((function(){return"id"})))(g.showRecordFieldsCons(new m.IsSymbol((function(){return"pitch"})))(g.showRecordFieldsNil)(d.showPitchInst(w.showpitchSInterval)))(g.showString))))))))(u.showEither(g.showString)(r.showMBS)))))(new m.IsSymbol((function(){return"FreezeOp"}))))(n)})),V=function(n){return function(e){return p.sequence(p.traversableArray)(u.applicativeEither)(i.bind(i.bindArray)(l.toUnfoldable(F.unfoldableArray)(n))((function(n){return i.bind(i.bindArray)(n.value1)((function(r){return t.pure(t.applicativeArray)(function(){var t=e(n.value0)(r.orn);if(t instanceof u.Left)return new u.Left(t.value0);if(t instanceof u.Right)return new u.Right({note:r.child,expl:t.value0});throw new Error("Failed pattern match at Leftmost (line 67, column 10 - line 69, column 54): "+[t.constructor.name])}())}))})))}};e.LMSplitLeft=b,e.LMFreezeLeft=I,e.LMSplitRight=C,e.LMHorizontalize=R,e.LMSplitOnly=E,e.LMFreezeOnly=W,e.RootNote=y,e.splitGetChildNotes=function(n){return i.bind(u.bindEither)(V(n.regular)((function(n){return function(e){if(e instanceof u.Left)return new u.Right(S.RootExpl.value);if(e instanceof u.Right)return n.left instanceof S.Inner&&n.right instanceof S.Inner?u.Right.create(new S.DoubleExpl({leftParent:n.left.value0,rightParent:n.right.value0,orn:e.value0})):new u.Left("Parent note cannot be Start or Stop!");throw new Error("Failed pattern match at Leftmost (line 74, column 41 - line 80, column 57): "+[e.constructor.name])}})))((function(e){return i.bind(u.bindEither)(V(n.passing)((function(n){return function(e){return n.left instanceof S.Inner&&n.right instanceof S.Inner?u.Right.create(new S.DoubleExpl({leftParent:n.left.value0,rightParent:n.right.value0,orn:e})):new u.Left("Parent note cannot be Start or Stop!")}})))((function(r){return i.bind(u.bindEither)(V(n.fromLeft)((function(n){return function(e){return u.Right.create(new S.RightExpl({leftParent:n,orn:e}))}})))((function(c){return i.bind(u.bindEither)(V(n.fromRight)((function(n){return function(e){return u.Right.create(new S.LeftExpl({rightParent:n,orn:e}))}})))((function(i){var l=a.map(a.functorArray)((function(n){return{note:n,expl:S.NoExpl.value}}))(n.unexplained);return t.pure(u.applicativeEither)(o.sortWith(f.ordRecord()(f.ordRecordCons(f.ordRecordCons(f.ordRecordNil)()(new m.IsSymbol((function(){return"pitch"})))(d.ordPitch(w.ordSInterval)))()(new m.IsSymbol((function(){return"id"})))(f.ordString)))((function(n){return n.note}))(h.append(h.semigroupArray)(e)(h.append(h.semigroupArray)(r)(h.append(h.semigroupArray)(c)(h.append(h.semigroupArray)(i)(l))))))}))}))}))}))},e.LeftChild=P,e.RightChild=A,e.BothChildren=D,e.TooManyChildren=N,e.horiLeftChildren=function(n){var e=a.map(a.functorArray)((function(n){return{note:n,expl:S.NoExpl.value}}))(n.unexplained.left),r=o.concatMap((function(n){if(n.value1 instanceof P)return[{note:n.value1.value0,expl:new S.HoriExpl(n.value0)}];if(n.value1 instanceof A)return[];if(n.value1 instanceof D)return[{note:n.value1.value0.left,expl:new S.HoriExpl(n.value0)}];if(n.value1 instanceof N)return a.map(a.functorArray)((function(e){return{note:e,expl:new S.HoriExpl(n.value0)}}))(n.value1.value0.left);throw new Error("Failed pattern match at Leftmost (line 140, column 34 - line 144, column 76): "+[n.value1.constructor.name])}))(l.toUnfoldable(F.unfoldableArray)(n.children));return o.sortWith(f.ordRecord()(f.ordRecordCons(f.ordRecordCons(f.ordRecordNil)()(new m.IsSymbol((function(){return"pitch"})))(d.ordPitch(w.ordSInterval)))()(new m.IsSymbol((function(){return"id"})))(f.ordString)))((function(n){return n.note}))(h.append(h.semigroupArray)(e)(r))},e.horiRightChildren=function(n){var e=a.map(a.functorArray)((function(n){return{note:n,expl:S.NoExpl.value}}))(n.unexplained.right),r=o.concatMap((function(n){if(n.value1 instanceof A)return[{note:n.value1.value0,expl:new S.HoriExpl(n.value0)}];if(n.value1 instanceof P)return[];if(n.value1 instanceof D)return[{note:n.value1.value0.right,expl:new S.HoriExpl(n.value0)}];if(n.value1 instanceof N)return a.map(a.functorArray)((function(e){return{note:e,expl:new S.HoriExpl(n.value0)}}))(n.value1.value0.right);throw new Error("Failed pattern match at Leftmost (line 153, column 34 - line 157, column 78): "+[n.value1.constructor.name])}))(l.toUnfoldable(F.unfoldableArray)(n.children));return o.sortWith(f.ordRecord()(f.ordRecordCons(f.ordRecordCons(f.ordRecordNil)()(new m.IsSymbol((function(){return"pitch"})))(d.ordPitch(w.ordSInterval)))()(new m.IsSymbol((function(){return"id"})))(f.ordString)))((function(n){return n.note}))(h.append(h.semigroupArray)(e)(r))},e.showLeftmost=function(n){return function(e){return function(r){return new g.Show((function(t){return v.genericShow(H)(v.genericShowSum(v.genericShowConstructor(v.genericShowArgsArgument(n))(new m.IsSymbol((function(){return"LMSplitLeft"}))))(v.genericShowSum(v.genericShowConstructor(v.genericShowArgsArgument(e))(new m.IsSymbol((function(){return"LMFreezeLeft"}))))(v.genericShowSum(v.genericShowConstructor(v.genericShowArgsArgument(n))(new m.IsSymbol((function(){return"LMSplitRight"}))))(v.genericShowSum(v.genericShowConstructor(v.genericShowArgsArgument(r))(new m.IsSymbol((function(){return"LMHorizontalize"}))))(v.genericShowSum(v.genericShowConstructor(v.genericShowArgsArgument(n))(new m.IsSymbol((function(){return"LMSplitOnly"}))))(v.genericShowConstructor(v.genericShowArgsArgument(e))(new m.IsSymbol((function(){return"LMFreezeOnly"})))))))))(t)}))}}},e.semigroupHoriChildren=x,e.showSplitOp=L,e.showFreezeOp=B,e.showHoriOp=U}(n),function(n){n.Folding=n.Folding||{};var e,r,t=n.Folding,i=n["Control.Applicative"],o=n["Control.Bind"],u=n["Control.Monad.State"],a=n["Control.Monad.State.Class"],c=n["Control.Monad.State.Trans"],l=n["Control.Monad.Trans.Class"],s=n["Data.Array"],f=n["Data.Either"],d=n["Data.Eq"],w=n["Data.Foldable"],h=n["Data.Function"],g=n["Data.Functor"],v=n["Data.Identity"],m=n["Data.List"],p=n["Data.List.Types"],F=n["Data.Map.Internal"],S=n["Data.Maybe"],y=n["Data.Ord"],b=n["Data.Pitches.Class"],I=n["Data.Pitches.Spelled"],C=n["Data.Semigroup"],R=n["Data.Symbol"],E=n["Data.Tuple"],W=n["Data.Unit"],P=n.Leftmost,A=n.Model,D=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),N=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),x=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),M=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),q=function(n){return{seg:n,more:W.unit}},T=function(n){return function(e){return function(r){if(r instanceof p.Nil)return i.pure(c.applicativeStateT(v.monadIdentity))(W.unit);if(r instanceof p.Cons&&r.value1 instanceof p.Nil){if(r.value0.seg.op instanceof A.Freeze)return n.freezeOnly(e)(r.value0);if(r.value0.seg.op instanceof A.Split)return o.bind(c.bindStateT(v.monadIdentity))(n.splitOnly(e)(r.value0)(r.value0.seg.op.value0))((function(r){return T(n)(e)(r)}));if(r.value0.seg.op instanceof A.Hori)return i.pure(c.applicativeStateT(v.monadIdentity))(W.unit);throw new Error("Failed pattern match at Folding (line 61, column 3 - line 66, column 24): "+[r.value0.seg.op.constructor.name])}if(r instanceof p.Cons&&r.value1 instanceof p.Cons){if(r.value0.seg.op instanceof A.Freeze)return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(n.freezeLeft(e)(r.value0))((function(){return T(n)(r.value0.seg.rslice)(r.value1)}));if(r.value0.seg.op instanceof A.Split)return o.bind(c.bindStateT(v.monadIdentity))(n.splitLeft(e)(r.value0)(r.value0.seg.op.value0))((function(t){return T(n)(e)(C.append(p.semigroupList)(t)(r.value1))}));if(r.value0.seg.op instanceof A.Hori)return r.value1.value0.seg.op instanceof A.Split?o.bind(c.bindStateT(v.monadIdentity))(n.splitRight(e)(r.value0)(r.value1.value0)(r.value1.value0.seg.op.value0))((function(t){return T(n)(e)(C.append(p.semigroupList)(new p.Cons(r.value0,t))(r.value1.value1))})):o.bind(c.bindStateT(v.monadIdentity))(n.hori(e)(r.value0)(r.value1.value0)(r.value0.seg.op.value0))((function(t){return T(n)(e)(C.append(p.semigroupList)(t)(r.value1.value1))}));throw new Error("Failed pattern match at Folding (line 70, column 3 - line 87, column 55): "+[r.value0.seg.op.constructor.name])}throw new Error("Failed pattern match at Folding (line 50, column 1 - line 55, column 18): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}},L=function(n){return function(e){return function(r){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(n.init(e))((function(){return T(n)(e)(r)}))}}},H=function(n){return function(e){return a.modify_(c.monadStateStateT(v.monadIdentity))((function(r){var t={};for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t.horis=new p.Cons({child:n.id,parent:e.id},r.horis),t}))}},O=function(n){return function(e){return function(r){return a.modify_(c.monadStateStateT(v.monadIdentity))((function(t){var i={};for(var o in t)({}).hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i.transitions=F.insert(A.ordTransId)(e.id)({left:n,right:r,id:e.id,edges:e.edges})(t.transitions),i}))}}},J=function(n){return function(e){var r={depth:e,slice:n};return a.modify_(c.monadStateStateT(v.monadIdentity))((function(t){var i={};for(var o in t)({}).hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i.maxd=y.max(y.ordNumber)(e)(t.maxd),i.maxx=y.max(y.ordNumber)(n.x)(t.maxx),i.slices=F.insert(A.ordSliceId)(n.id)(r)(t.slices),i}))}},_={init:function(n){return J(n)(0)},freezeOnly:r=function(n){return function(e){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(O(n.id)(e.seg.trans)(e.seg.rslice.id))((function(){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(J(e.seg.rslice)(e.more.rdepth))((function(){return a.modify_(c.monadStateStateT(v.monadIdentity))((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.currentDepth=e.more.rdepth,r}))}))}))}},freezeLeft:r,splitOnly:e=function(n){return function(e){return function(r){return o.bind(c.bindStateT(v.monadIdentity))(a.gets(c.monadStateStateT(v.monadIdentity))((function(n){return n.currentDepth})))((function(t){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(O(n.id)(e.seg.trans)(e.seg.rslice.id))((function(){return i.pure(c.applicativeStateT(v.monadIdentity))(new p.Cons({seg:r.childl,more:{rdepth:y.max(y.ordNumber)(t)(e.more.rdepth)+1}},new p.Cons({seg:A.attachSegment(r.childr)(e.seg.rslice),more:{rdepth:e.more.rdepth}},p.Nil.value)))}))}))}}},splitLeft:e,splitRight:function(n){return function(n){return function(e){return function(r){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(O(n.seg.rslice.id)(e.seg.trans)(e.seg.rslice.id))((function(){return i.pure(c.applicativeStateT(v.monadIdentity))(new p.Cons({seg:r.childl,more:{rdepth:y.max(y.ordNumber)(n.more.rdepth)(e.more.rdepth)+1}},new p.Cons({seg:A.attachSegment(r.childr)(e.seg.rslice),more:{rdepth:e.more.rdepth}},p.Nil.value)))}))}}}},hori:function(n){return function(e){return function(r){return function(t){return o.bind(c.bindStateT(v.monadIdentity))(a.gets(c.monadStateStateT(v.monadIdentity))((function(n){return n.currentDepth})))((function(u){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(O(n.id)(e.seg.trans)(e.seg.rslice.id))((function(){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(J(e.seg.rslice)(e.more.rdepth))((function(){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(H(t.childl.rslice)(e.seg.rslice))((function(){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(H(t.childm.rslice)(e.seg.rslice))((function(){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(O(e.seg.rslice.id)(r.seg.trans)(r.seg.rslice.id))((function(){var n=y.max(y.ordNumber)(u)(y.max(y.ordNumber)(e.more.rdepth)(r.more.rdepth))+1;return i.pure(c.applicativeStateT(v.monadIdentity))(new p.Cons({seg:t.childl,more:{rdepth:n}},new p.Cons({seg:t.childm,more:{rdepth:n}},new p.Cons({seg:A.attachSegment(t.childr)(r.seg.rslice),more:{rdepth:r.more.rdepth}},p.Nil.value))))}))}))}))}))}))}))}}}}};t.nothingMore=q,t.walkGraph=L,t.evalGraph=function(n){var e={slices:F.empty,transitions:F.empty,horis:p.Nil.value,maxd:0,maxx:0,currentDepth:0},r=g.map(p.functorList)((function(n){return{seg:n,more:{rdepth:0}}}))(n.segments);return h.flip(u.execState)(e)(L(_)(n.start)(r))},t.reductionToLeftmost=function(n){var e,r,t,l,T,H,O=(e=a.modify_(c.monadStateStateT(v.monadIdentity)),r=o.bindFlipped(f.bindEither),t=function(n){return e(r(n))},l=function(n){return function(e){return{ties:n.trans.edges.regular,prevTime:e}}},T=function(n){return g.map(g.functorArray)((function(n){return n.note}))(s.filter((function(n){return d.eq(A.eqNoteExplanation)(n.expl)(A.NoExpl.value)}))(A.getInnerNotes(n)))},H=function(n){return function(n){return function(e){var r,t=(r=w.foldableArray,w.foldl(r)((function(n){return function(e){if(e instanceof D)return{t:new p.Cons(e.value0,n.t),n:n.n,r:n.r,l:n.l};if(e instanceof N)return{t:n.t,n:new p.Cons(e.value0,n.n),r:n.r,l:n.l};if(e instanceof x)return{t:n.t,n:n.n,r:new p.Cons(e.value0,n.r),l:n.l};if(e instanceof M)return{t:n.t,n:n.n,r:n.r,l:new p.Cons(e.value0,n.l)};throw new Error("Failed pattern match at Folding (line 232, column 27 - line 236, column 36): "+[e.constructor.name])}}))({t:p.Nil.value,n:p.Nil.value,r:p.Nil.value,l:p.Nil.value}))(s.catMaybes(g.map(g.functorArray)((function(n){return n.expl instanceof A.DoubleExpl?d.eq(S.eqMaybe(A.eqDoubleOrnament))(n.expl.value0.orn)(new S.Just(A.PassingLeft.value))||d.eq(S.eqMaybe(A.eqDoubleOrnament))(n.expl.value0.orn)(new S.Just(A.PassingRight.value))||d.eq(S.eqMaybe(A.eqDoubleOrnament))(n.expl.value0.orn)(new S.Just(A.PassingMid.value))?S.Just.create(N.create(new E.Tuple({left:new A.Inner(n.expl.value0.leftParent),right:new A.Inner(n.expl.value0.rightParent)},[{child:n.note,orn:n.expl.value0.orn}]))):S.Just.create(D.create(new E.Tuple({left:new A.Inner(n.expl.value0.leftParent),right:new A.Inner(n.expl.value0.rightParent)},[{child:n.note,orn:new f.Right(n.expl.value0.orn)}]))):n.expl instanceof A.RightExpl?S.Just.create(x.create(new E.Tuple(n.expl.value0.leftParent,[{child:n.note,orn:n.expl.value0.orn}]))):n.expl instanceof A.LeftExpl?S.Just.create(M.create(new E.Tuple(n.expl.value0.rightParent,[{child:n.note,orn:n.expl.value0.orn}]))):n.expl instanceof A.RootExpl?S.Just.create(D.create(new E.Tuple({left:A.Start.value,right:A.Stop.value},[{child:n.note,orn:new f.Left(P.RootNote.value)}]))):S.Nothing.value}))(A.getInnerNotes(n.rslice))));return{regular:F.fromFoldableWith(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"right"})))(A.ordStartStop(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(y.ordString)))))()(new R.IsSymbol((function(){return"left"})))(A.ordStartStop(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(y.ordString))))))(p.foldableList)(C.append(C.semigroupArray))(t.t),passing:F.fromFoldableWith(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"right"})))(A.ordStartStop(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(y.ordString)))))()(new R.IsSymbol((function(){return"left"})))(A.ordStartStop(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(y.ordString))))))(p.foldableList)(C.append(C.semigroupArray))(t.n),fromLeft:F.fromFoldableWith(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(y.ordString)))(p.foldableList)(C.append(C.semigroupArray))(t.r),fromRight:F.fromFoldableWith(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(y.ordString)))(p.foldableList)(C.append(C.semigroupArray))(t.l),unexplained:T(n.rslice),keepLeft:n.trans.edges.regular,keepRight:e.trans.edges.regular,ids:{left:n.trans.id,slice:n.rslice.id,right:e.trans.id}}}}},{init:function(n){return i.pure(c.applicativeStateT(v.monadIdentity))(W.unit)},freezeOnly:function(n){return function(n){return t((function(e){if(e.piece instanceof p.Nil)return new f.Left("Piece and reduction do not fit together: piece is too short!");if(e.piece instanceof p.Cons)return new f.Right(function(){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.lm=new p.Cons(P.LMFreezeOnly.create(l(n.seg)(e.piece.value0.time)),e.lm),r.piece=e.piece.value1,r}());throw new Error("Failed pattern match at Folding (line 312, column 27 - line 314, column 123): "+[e.piece.constructor.name])}))}},freezeLeft:function(n){return function(n){return t((function(e){if(e.piece instanceof p.Nil)return new f.Left("Piece and reduction do not fit together: piece is too short!");if(e.piece instanceof p.Cons)return new f.Right(function(){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.lm=new p.Cons(P.LMFreezeLeft.create(l(n.seg)(e.piece.value0.time)),e.lm),r.piece=e.piece.value1,r}());throw new Error("Failed pattern match at Folding (line 317, column 27 - line 319, column 123): "+[e.piece.constructor.name])}))}},splitOnly:function(n){return function(n){return function(e){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(t((function(r){return new f.Right(function(){var t={};for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t.lm=new p.Cons(P.LMSplitOnly.create(H(n.seg)(e.childl)(e.childr)),r.lm),t}())})))((function(){return i.pure(c.applicativeStateT(v.monadIdentity))(g.map(p.functorList)(q)(new p.Cons(e.childl,new p.Cons(A.attachSegment(e.childr)(n.seg.rslice),p.Nil.value))))}))}}},splitLeft:function(n){return function(n){return function(e){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(t((function(r){return new f.Right(function(){var t={};for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t.lm=new p.Cons(P.LMSplitLeft.create(H(n.seg)(e.childl)(e.childr)),r.lm),t}())})))((function(){return i.pure(c.applicativeStateT(v.monadIdentity))(g.map(p.functorList)(q)(new p.Cons(e.childl,new p.Cons(A.attachSegment(e.childr)(n.seg.rslice),p.Nil.value))))}))}}},splitRight:function(n){return function(n){return function(n){return function(e){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(t((function(r){return new f.Right(function(){var t={};for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t.lm=new p.Cons(P.LMSplitRight.create(H(n.seg)(e.childl)(e.childr)),r.lm),t}())})))((function(){return i.pure(c.applicativeStateT(v.monadIdentity))(g.map(p.functorList)(q)(new p.Cons(e.childl,new p.Cons(A.attachSegment(e.childr)(n.seg.rslice),p.Nil.value))))}))}}}},hori:function(n){return function(n){return function(n){return function(e){return o.discard(o.discardUnit)(c.bindStateT(v.monadIdentity))(t((function(r){return new f.Right(function(){var t={};for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t.lm=new p.Cons(P.LMHorizontalize.create((n.seg,function(n){return function(e){return function(r){var t=function(n){return function(e){return e.expl instanceof A.HoriExpl?S.Just.create(E.Tuple.create(e.expl.value0)(n(e.note))):S.Nothing.value}},i=s.catMaybes(C.append(C.semigroupArray)(g.map(g.functorArray)(t(P.LeftChild.create))(A.getInnerNotes(n.rslice)))(g.map(g.functorArray)(t(P.RightChild.create))(A.getInnerNotes(e.rslice))));return{children:F.fromFoldableWith(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(y.ordString)))(w.foldableArray)(C.append(P.semigroupHoriChildren))(i),midEdges:e.trans.edges,ids:{left:n.trans.id,lslice:n.rslice.id,mid:e.trans.id,rslice:e.rslice.id,right:r.trans.id},unexplained:{left:T(n.rslice),right:T(e.rslice)}}}}})(e.childl)(e.childm)(e.childr)),r.lm),t}())})))((function(){return i.pure(c.applicativeStateT(v.monadIdentity))(g.map(p.functorList)(q)(new p.Cons(e.childl,new p.Cons(e.childm,new p.Cons(A.attachSegment(e.childr)(n.seg.rslice),p.Nil.value)))))}))}}}}}),J=g.map(p.functorList)(q)(n.reduction.segments);return o.bind(f.bindEither)(h.flip(u.execState)(new f.Right({lm:p.Nil.value,piece:p.Cons.create({time:new f.Left(""),notes:[]})(m.fromFoldable(w.foldableArray)(n.piece))}))(L(O)(n.reduction.start)(J)))((function(n){return i.pure(f.applicativeEither)(s.reverse(s.fromFoldable(p.foldableList)(n.lm)))}))},t.leftmostToReduction=function(n){return function(e){var r={id:0,x:0,notes:A.Start.value,parents:A.NoParents.value},t=function(n){return function(e){return function(r){return o.discard(o.discardUnit)(c.bindStateT(f.monadEither))(a.modify_(c.monadStateStateT(f.monadEither))((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.maxT=y.max(A.ordTransId)(n.maxT)(e.transId),r})))((function(){return o.bind(c.bindStateT(f.monadEither))(l.lift(c.monadTransStateT)(f.monadEither)(P.splitGetChildNotes(r)))((function(t){var o={transId:r.ids.right,rslice:e.rslice},u={id:r.ids.slice,notes:new A.Inner(t),parents:new A.MergeParents({left:n,right:e.rslice.id})},a={transId:r.ids.left,rslice:u};return i.pure(c.applicativeStateT(f.monadEither))({childlTop:a,childrTop:o})}))}))}}},u=function(n){return function(e){return function(r){var t=g.map(g.functorArray)((function(n){return{note:n.note,hold:s.any((function(e){return d.eq(A.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))(e.left)(new A.Inner(n.note))}))(e.ties)}}))(A.getInnerNotes(n));return o.bind(c.bindStateT(f.monadEither))(a.modify(c.monadStateStateT(f.monadEither))((function(n){var i={};for(var o in n)({}).hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i.x=n.x+1,i.maxT=y.max(A.ordTransId)(n.maxT)(r.transId),i.maxS=y.max(A.ordSliceId)(n.maxS)(r.rslice.id),i.piece=s.snoc(n.piece)({notes:t,time:e.prevTime}),i})))((function(n){return i.pure(c.applicativeStateT(f.monadEither))({trans:{id:r.transId,edges:{passing:[],regular:e.ties},is2nd:!1},rslice:{id:r.rslice.id,notes:r.rslice.notes,parents:r.rslice.parents,x:n.x},op:A.Freeze.value})}))}}},h=function(n){return function(e){return function(r){return{trans:{id:n.transId,edges:A.parentEdges(e.rslice),is2nd:e.trans.is2nd},rslice:r.rslice,op:new A.Split({childl:e,childr:A.detachSegment(r)})}}}},v=function(n){return function(e){return function(r){if(e instanceof p.Nil&&r instanceof p.Nil)return i.pure(c.applicativeStateT(f.monadEither))(p.Nil.value);if(e instanceof p.Cons&&r instanceof p.Cons){if(e.value1 instanceof p.Cons)return r.value0 instanceof P.LMFreezeLeft?o.bind(c.bindStateT(f.monadEither))(u(n)(r.value0.value0)(e.value0))((function(n){return g.map(c.functorStateT(f.functorEither))(p.Cons.create(n))(v(n.rslice)(e.value1)(r.value1))})):r.value0 instanceof P.LMSplitLeft?o.bind(c.bindStateT(f.monadEither))(t(n.id)(e.value0)(r.value0.value0))((function(t){return o.bind(c.bindStateT(f.monadEither))(v(n)(p.Cons.create(t.childlTop)(new p.Cons(t.childrTop,e.value1)))(r.value1))((function(n){return n instanceof p.Cons&&n.value1 instanceof p.Cons?i.pure(c.applicativeStateT(f.monadEither))(new p.Cons(h(e.value0)(n.value0)(n.value1.value0),n.value1.value1)):l.lift(c.monadTransStateT)(f.monadEither)(new f.Left("Operations after splitLeft do not fit!"))}))})):r.value0 instanceof P.LMSplitRight?o.bind(c.bindStateT(f.monadEither))(t(e.value0.rslice.id)(e.value1.value0)(r.value0.value0))((function(t){return o.bind(c.bindStateT(f.monadEither))(v(n)(p.Cons.create(e.value0)(p.Cons.create(t.childlTop)(new p.Cons(t.childrTop,e.value1.value1))))(r.value1))((function(n){return n instanceof p.Cons&&n.value1 instanceof p.Cons&&n.value1.value1 instanceof p.Cons?i.pure(c.applicativeStateT(f.monadEither))(p.Cons.create(n.value0)(new p.Cons(h(e.value1.value0)(n.value1.value0)(n.value1.value1.value0),n.value1.value1.value1))):l.lift(c.monadTransStateT)(f.monadEither)(new f.Left("Operations after splitRight do not fit!"))}))})):r.value0 instanceof P.LMHorizontalize?o.bind(c.bindStateT(f.monadEither))((s=e.value0,function(n){return function(e){return o.discard(o.discardUnit)(c.bindStateT(f.monadEither))(a.modify_(c.monadStateStateT(f.monadEither))((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.maxT=y.max(A.ordTransId)(e.maxT)(y.max(A.ordTransId)(s.transId)(n.transId)),r.maxS=y.max(A.ordSliceId)(e.maxS)(s.rslice.id),r})))((function(){var r={transId:e.ids.right,rslice:n.rslice},t={transId:e.ids.mid,rslice:{id:e.ids.rslice,notes:A.Inner.create(P.horiRightChildren(e)),parents:new A.VertParent(s.rslice.id)}},o={transId:e.ids.left,rslice:{id:e.ids.lslice,notes:A.Inner.create(P.horiLeftChildren(e)),parents:new A.VertParent(s.rslice.id)}};return i.pure(c.applicativeStateT(f.monadEither))({childlTop:o,childmTop:t,childrTop:r})}))}})(e.value1.value0)(r.value0.value0))((function(t){return o.bind(c.bindStateT(f.monadEither))(v(n)(p.Cons.create(t.childlTop)(p.Cons.create(t.childmTop)(new p.Cons(t.childrTop,e.value1.value1))))(r.value1))((function(n){return n instanceof p.Cons&&n.value1 instanceof p.Cons&&n.value1.value1 instanceof p.Cons?o.bind(c.bindStateT(f.monadEither))(l.lift(c.monadTransStateT)(f.monadEither)(function(n){return function(e){return function(r){return function(t){return function(u){var a={id:n.rslice.id,notes:n.rslice.notes,parents:n.rslice.parents,x:(r.rslice.x+t.rslice.x)/2};return o.bind(f.bindEither)(A.vertEdgesLeft(r.trans.edges)(r.rslice))((function(c){return o.bind(f.bindEither)(A.vertEdgesRight(u.trans.edges)(t.rslice))((function(o){var l={trans:{id:e.transId,edges:o,is2nd:!0},rslice:u.rslice,op:A.Freeze.value},s={trans:{id:n.transId,edges:c,is2nd:!1},rslice:a,op:new A.Hori({childl:r,childm:t,childr:A.detachSegment(u)})};return i.pure(f.applicativeEither)({segl:s,segr:l})}))}))}}}}}(e.value0)(e.value1.value0)(n.value0)(n.value1.value0)(n.value1.value1.value0)))((function(e){return i.pure(c.applicativeStateT(f.monadEither))(p.Cons.create(e.segl)(new p.Cons(e.segr,n.value1.value1.value1)))})):l.lift(c.monadTransStateT)(f.monadEither)(new f.Left("Operations after hori do not fit!"))}))})):l.lift(c.monadTransStateT)(f.monadEither)(new f.Left("Applying a single-transition operation while several transitions are left!"));if(e.value1 instanceof p.Nil)return r.value0 instanceof P.LMFreezeOnly?o.bind(c.bindStateT(f.monadEither))(u(n)(r.value0.value0)(e.value0))((function(n){return i.pure(c.applicativeStateT(f.monadEither))(new p.Cons(n,p.Nil.value))})):r.value0 instanceof P.LMSplitOnly?o.bind(c.bindStateT(f.monadEither))(t(n.id)(e.value0)(r.value0.value0))((function(t){return o.bind(c.bindStateT(f.monadEither))(v(n)(p.Cons.create(t.childlTop)(new p.Cons(t.childrTop,p.Nil.value)))(r.value1))((function(n){return n instanceof p.Cons&&n.value1 instanceof p.Cons&&n.value1.value1 instanceof p.Nil?i.pure(c.applicativeStateT(f.monadEither))(new p.Cons(h(e.value0)(n.value0)(n.value1.value0),p.Nil.value)):l.lift(c.monadTransStateT)(f.monadEither)(new f.Left("Operations after splitOnly do not fit!"))}))})):l.lift(c.monadTransStateT)(f.monadEither)(new f.Left("Applying a non-single operation to a single transition!"));throw new Error("Failed pattern match at Folding (line 384, column 48 - line 422, column 84): "+[e.value1.constructor.name])}var s;return l.lift(c.monadTransStateT)(f.monadEither)(new f.Left("Lengths of top-level and derivation do not match!"))}}};return o.bind(f.bindEither)(c.runStateT(v(r)(m.fromFoldable(w.foldableArray)(g.map(g.functorArray)((function(n){return{transId:n.trans.id,rslice:{id:n.rslice.id,parents:A.NoParents.value,notes:g.map(A.functorStartStop)(g.map(g.functorArray)((function(n){return{note:n,expl:A.NoExpl.value}})))(n.rslice.notes)}}}))(n)))(m.fromFoldable(w.foldableArray)(e)))({maxS:0,maxT:0,x:0,piece:[]}))((function(n){return i.pure(f.applicativeEither)({reduction:{start:r,segments:n.value0,nextSliceId:A.incS(n.value1.maxS),nextTransId:A.incT(n.value1.maxT)},piece:S.fromMaybe([])(s.tail(n.value1.piece))})}))}}}(n),function(n){n._lookup=function(n,e,r,t){return r in t?e(t[r]):n}}(n["Foreign.Object"]=n["Foreign.Object"]||{}),function(n){n["Foreign.Object"]=n["Foreign.Object"]||{};var e=n["Foreign.Object"],r=n["Foreign.Object"],t=n["Data.Function.Uncurried"],i=n["Data.Maybe"],o=t.runFn4(r._lookup)(i.Nothing.value)(i.Just.create);e.lookup=o}(n),function(n){n.new=function(){return{}}}(n["Foreign.Object.ST"]=n["Foreign.Object.ST"]||{}),function(n){n["Foreign.Object.ST"]=n["Foreign.Object.ST"]||{};var e=n["Foreign.Object.ST"],r=n["Foreign.Object.ST"];e.new=r.new}(n),function(n){n["Halogen.Data.OrdBox"]=n["Halogen.Data.OrdBox"]||{};var e=n["Halogen.Data.OrdBox"],r=n["Data.Eq"],t=n["Data.Ord"],i=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),o=new r.Eq((function(n){return function(e){return n.value0(n.value2)(e.value2)}})),u=new t.Ord((function(){return o}),(function(n){return function(e){return n.value1(n.value2)(e.value2)}}));e.mkOrdBox=function(n){return i.create(r.eq(n.Eq0()))(t.compare(n))},e.ordOrdBox=u}(n),function(n){n["Halogen.Data.Slot"]=n["Halogen.Data.Slot"]||{};var e=n["Halogen.Data.Slot"],r=n["Data.Foldable"],t=n["Data.Map.Internal"],i=n["Data.Ord"],o=n["Data.Symbol"],u=n["Data.Tuple"],a=n["Halogen.Data.OrdBox"],c=t.empty;e.empty=c,e.lookup=function(n){return function(n){return function(e){return function(r){return function(c){return function(l){return t.lookup(u.ordTuple(i.ordString)(a.ordOrdBox))(new u.Tuple(o.reflectSymbol(n)(r),a.mkOrdBox(e)(c)))(l)}}}}}},e.insert=function(n){return function(n){return function(e){return function(r){return function(c){return function(l){return function(s){return t.insert(u.ordTuple(i.ordString)(a.ordOrdBox))(new u.Tuple(o.reflectSymbol(n)(r),a.mkOrdBox(e)(c)))(l)(s)}}}}}}},e.pop=function(n){return function(n){return function(e){return function(r){return function(c){return function(l){return t.pop(u.ordTuple(i.ordString)(a.ordOrdBox))(new u.Tuple(o.reflectSymbol(n)(r),a.mkOrdBox(e)(c)))(l)}}}}}},e.foreachSlot=function(n){return function(e){return function(i){return r.traverse_(n)(t.foldableMap)((function(n){return i(n)}))(e)}}}}(n),function(n){n["Halogen.Aff.Driver.State"]=n["Halogen.Aff.Driver.State"]||{};var e=n["Halogen.Aff.Driver.State"],r=n["Data.Foldable"],t=n["Data.List.Types"],i=n["Data.Map.Internal"],o=n["Data.Maybe"],u=n["Effect.Ref"],a=n["Halogen.Data.Slot"],c=n["Unsafe.Coerce"],l=c.unsafeCoerce,s=c.unsafeCoerce,f=c.unsafeCoerce,d=c.unsafeCoerce;e.mapDriverState=function(n){return function(e){return n(e)}},e.unDriverStateX=s,e.renderStateX=function(n){return function(n){return s((function(e){return f(n(e.rendering))}))}},e.renderStateX_=function(n){return function(e){return s((function(t){return r.traverse_(n)(r.foldableMaybe)(e)(t.rendering)}))}},e.unRenderStateX=l,e.initDriverState=function(n){return function(e){return function(r){return function(c){return function(){var l=u.new({})(),s=u.new(a.empty)(),f=u.new(a.empty)(),w=u.new(r)(),h=u.new(new o.Just(t.Nil.value))(),g=u.new(new o.Just(t.Nil.value))(),v=u.new(o.Nothing.value)(),m=u.new(1)(),p=u.new(new o.Just(i.empty))(),F=u.new(i.empty)(),S={component:n,state:n.initialState(e),refs:i.empty,children:a.empty,childrenIn:s,childrenOut:f,selfRef:l,handlerRef:w,pendingQueries:h,pendingOuts:g,pendingHandlers:v,rendering:o.Nothing.value,fresh:m,subscriptions:p,forks:F,lifecycleHandlers:c};return u.write(S)(l)(),d(l)}}}}}}(n),function(n){n["Halogen.Query.ChildQuery"]=n["Halogen.Query.ChildQuery"]||{};var e=n["Halogen.Query.ChildQuery"],r=n["Unsafe.Coerce"].unsafeCoerce;e.unChildQueryBox=r}(n),function(n){n["Halogen.Query.HalogenM"]=n["Halogen.Query.HalogenM"]||{};var e=n["Halogen.Query.HalogenM"],r=n["Control.Monad.Free"],t=n["Control.Monad.State.Class"],i=n["Data.Function"],o=n["Data.Ord"],u=n["Data.Unit"],a=n["Effect.Aff.Class"],c=n["Effect.Class"],l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),f=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),h=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),g=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),v=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),m=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),p=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),F=o.ordInt,S=o.ordInt,y=r.freeMonad,b=new t.MonadState((function(){return y}),(function(n){return r.liftF(l.create(n))})),I=function(n){return new c.MonadEffect((function(){return y}),(e=c.liftEffect(n),function(n){return r.liftF(d.create(e(n)))}));var e},C=r.freeFunctor,R=r.freeBind,E=r.freeApply,W=r.freeApplicative;e.State=l,e.Subscribe=s,e.Unsubscribe=f,e.Lift=d,e.ChildQuery=w,e.Raise=h,e.Par=g,e.Fork=v,e.Kill=m,e.GetRef=p,e.raise=function(n){return r.liftF(new h(n,u.unit))},e.SubscriptionId=function(n){return n},e["subscribe'"]=function(n){return r.liftF(new s(n,i.const(u.unit)))},e.ForkId=function(n){return n},e.functorHalogenM=C,e.applyHalogenM=E,e.applicativeHalogenM=W,e.bindHalogenM=R,e.monadEffectHalogenM=I,e.monadAffHalogenM=function(n){return new a.MonadAff((function(){return I(n.MonadEffect0())}),(e=a.liftAff(n),function(n){return r.liftF(d.create(e(n)))}));var e},e.monadStateHalogenM=b,e.ordSubscriptionId=F,e.ordForkId=S}(n),function(n){n["Halogen.Query.HalogenQ"]=n["Halogen.Query.HalogenQ"]||{};var e=n["Halogen.Query.HalogenQ"],r=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),i=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),o=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),u=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}();e.Initialize=r,e.Finalize=t,e.Receive=i,e.Action=o,e.Query=u}(n),function(n){n["Halogen.Query.Input"]=n["Halogen.Query.Input"]||{};var e=n["Halogen.Query.Input"],r=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}();e.RefUpdate=r,e.Action=t}(n),function(n){n.reallyUnsafeRefEq=function(n){return function(e){return n===e}}}(n["Unsafe.Reference"]=n["Unsafe.Reference"]||{}),function(n){n["Unsafe.Reference"]=n["Unsafe.Reference"]||{};var e=n["Unsafe.Reference"],r=n["Unsafe.Reference"].reallyUnsafeRefEq;e.unsafeRefEq=r}(n),function(n){n["Halogen.Subscription"]=n["Halogen.Subscription"]||{};var e=n["Halogen.Subscription"],r=n["Control.Bind"],t=n["Data.Array"],i=n["Data.Foldable"],o=n["Data.Functor"],u=n["Data.Semigroup"],a=n.Effect,c=n["Effect.Ref"],l=n["Safe.Coerce"],s=n["Unsafe.Reference"],f=l.coerce();e.create=function(){var n=c.new([])();return{emitter:function(e){return function(){return c.modify_((function(n){return u.append(u.semigroupArray)(n)([e])}))(n)(),c.modify_(t.deleteBy(s.unsafeRefEq)(e))(n)}},listener:function(e){return r.bind(a.bindEffect)(c.read(n))(i.traverse_(a.applicativeEffect)(i.foldableArray)((function(n){return n(e)})))}}},e.notify=function(n){return function(e){return n(e)}},e.makeEmitter=f,e.subscribe=function(n){return function(e){return n((r=o.void(a.functorEffect),function(n){return r(e(n))}));var r}},e.unsubscribe=function(n){return n}}(n),function(n){n["Halogen.Aff.Driver.Eval"]=n["Halogen.Aff.Driver.Eval"]||{};var e=n["Halogen.Aff.Driver.Eval"],r=n["Control.Applicative"],t=n["Control.Applicative.Free"],i=n["Control.Bind"],o=n["Control.Monad"],u=n["Control.Monad.Fork.Class"],a=n["Control.Monad.Free"],c=n["Control.Parallel"],l=n["Control.Parallel.Class"],s=n["Data.Boolean"],f=n["Data.Coyoneda"],d=n["Data.Either"],w=n["Data.Foldable"],h=n["Data.Function"],g=n["Data.Functor"],v=n["Data.List.Types"],m=n["Data.Map.Internal"],p=n["Data.Maybe"],F=n["Data.Ord"],S=n["Data.Unit"],y=n.Effect,b=n["Effect.Aff"],I=n["Effect.Class"],C=n["Effect.Exception"],R=n["Effect.Ref"],E=n["Halogen.Aff.Driver.State"],W=n["Halogen.Query.ChildQuery"],P=n["Halogen.Query.HalogenM"],A=n["Halogen.Query.HalogenQ"],D=n["Halogen.Query.Input"],N=n["Halogen.Subscription"],x=n["Unsafe.Reference"],M=function(n){return function(e){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(n)))((function(r){if(r instanceof p.Nothing)return e;if(r instanceof p.Just)return I.liftEffect(b.monadEffectAff)(R.write(new p.Just(new v.Cons(e,r.value0)))(n));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 182, column 33 - line 184, column 57): "+[r.constructor.name])}))}},q=function(n){return function(e){return i.discard(i.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.write({initializers:v.Nil.value,finalizers:v.Nil.value})(n)))((function(){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(e))((function(e){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(n)))((function(n){return i.discard(i.discardUnit)(b.bindAff)(w.traverse_(b.applicativeAff)(v.foldableList)(u.fork(u.monadForkAff))(n.finalizers))((function(){return i.discard(i.discardUnit)(b.bindAff)(c.parSequence_(b.parallelAff)(v.foldableList)(n.initializers))((function(){return r.pure(b.applicativeAff)(e)}))}))}))}))}))}},T=b.runAff_(d.either(C.throwException)(h.const(r.pure(y.applicativeEffect)(S.unit)))),L=function(n){return function(e){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(e){return I.liftEffect(b.monadEffectAff)(R["modify'"]((function(e){return{state:e+1|0,value:n(e)}}))(e.fresh))}))}},H=function(n){return function(e){return function(r){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(t){return O(n)(e)(t.component.eval(new A.Query(g.map(f.functorCoyoneda)(p.Just.create)(f.liftCoyoneda(r)),h.const(p.Nothing.value))))}))}}},O=function(n){return function(e){return function(c){var f;return a.foldFree(b.monadRecAff)((f=e,function(e){if(e instanceof P.State)return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(t){var o=e.value0(t.state);if(x.unsafeRefEq(t.state)(o.value1))return r.pure(b.applicativeAff)(o.value0);if(s.otherwise)return i.discard(i.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.write({component:t.component,state:o.value1,refs:t.refs,children:t.children,childrenIn:t.childrenIn,childrenOut:t.childrenOut,selfRef:t.selfRef,handlerRef:t.handlerRef,pendingQueries:t.pendingQueries,pendingOuts:t.pendingOuts,pendingHandlers:t.pendingHandlers,rendering:t.rendering,fresh:t.fresh,subscriptions:t.subscriptions,forks:t.forks,lifecycleHandlers:t.lifecycleHandlers})(f)))((function(){return i.discard(i.discardUnit)(b.bindAff)(q(t.lifecycleHandlers)(n(t.lifecycleHandlers)(f)))((function(){return r.pure(b.applicativeAff)(o.value0)}))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): "+[o.constructor.name])}));if(e instanceof P.Subscribe)return i.bind(b.bindAff)(L(P.SubscriptionId)(f))((function(t){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(N.subscribe(e.value0(t))((function(e){return T(J(n)(f)(new D.Action(e)))}))))((function(n){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(o){return i.discard(i.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.modify_(g.map(p.functorMaybe)(m.insert(P.ordSubscriptionId)(t)(n)))(o.subscriptions)))((function(){return r.pure(b.applicativeAff)(e.value1(t))}))}))}))}));if(e instanceof P.Unsubscribe)return i.discard(i.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)((a=e.value0,function(n){return function(){var e=R.read(n)(),r=R.read(e.subscriptions)();return w.traverse_(y.applicativeEffect)(w.foldableMaybe)(N.unsubscribe)(i.bindFlipped(p.bindMaybe)(m.lookup(P.ordSubscriptionId)(a))(r))()}})(f)))((function(){return r.pure(b.applicativeAff)(e.value1)}));var a,c,d;if(e instanceof P.Lift)return e.value0;if(e instanceof P.ChildQuery)return function(e){return function(r){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(e){return W.unChildQueryBox((function(r){return g.map(b.functorAff)(r.value2)(l.sequential(b.parallelAff)(r.value0(b.applicativeParAff)((function(e){return l.parallel(b.parallelAff)(i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(e){return E.unDriverStateX((function(e){return H(n)(e.selfRef)(r.value1)}))(e)})))}))(e.children)))}))(r)}))}}(f)(e.value0);if(e instanceof P.Raise)return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(n){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(n.handlerRef)))((function(t){return i.discard(i.discardUnit)(b.bindAff)(M(n.pendingOuts)(t(e.value0)))((function(){return r.pure(b.applicativeAff)(e.value1)}))}))}));if(e instanceof P.Par)return l.sequential(b.parallelAff)(t.retractFreeAp(b.applicativeParAff)(t.hoistFreeAp((c=l.parallel(b.parallelAff),d=O(n)(f),function(n){return c(d(n))}))(e.value0)));if(e instanceof P.Fork)return i.bind(b.bindAff)(L(P.ForkId)(f))((function(t){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(a){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.new(!1)))((function(c){return i.bind(b.bindAff)(u.fork(u.monadForkAff)(b.finally(I.liftEffect(b.monadEffectAff)((function(){return R.modify_(m.delete(P.ordForkId)(t))(a.forks)(),R.write(!0)(c)()})))(O(n)(f)(e.value0))))((function(n){return i.discard(i.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)(o.unlessM(y.monadEffect)(R.read(c))(R.modify_(m.insert(P.ordForkId)(t)(n))(a.forks))))((function(){return r.pure(b.applicativeAff)(e.value1(t))}))}))}))}))}));if(e instanceof P.Kill)return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(n){return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(n.forks)))((function(n){return i.discard(i.discardUnit)(b.bindAff)(w.traverse_(b.applicativeAff)(w.foldableMaybe)(b.killFiber(C.error("Cancelled")))(m.lookup(P.ordForkId)(e.value0)(n)))((function(){return r.pure(b.applicativeAff)(e.value1)}))}))}));if(e instanceof P.GetRef)return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(n){return r.pure(b.applicativeAff)(e.value1(m.lookup(F.ordString)(e.value0)(n.refs)))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 133, column 33): "+[e.constructor.name])}))(c)}}},J=function(n){return function(e){return function(r){if(r instanceof D.RefUpdate)return I.liftEffect(b.monadEffectAff)(h.flip(R.modify_)(e)(E.mapDriverState((function(n){return{component:n.component,state:n.state,refs:m.alter(F.ordString)(h.const(r.value1))(r.value0)(n.refs),children:n.children,childrenIn:n.childrenIn,childrenOut:n.childrenOut,selfRef:n.selfRef,handlerRef:n.handlerRef,pendingQueries:n.pendingQueries,pendingOuts:n.pendingOuts,pendingHandlers:n.pendingHandlers,rendering:n.rendering,fresh:n.fresh,subscriptions:n.subscriptions,forks:n.forks,lifecycleHandlers:n.lifecycleHandlers}}))));if(r instanceof D.Action)return i.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(t){return O(n)(e)(t.component.eval(new A.Action(r.value0,S.unit)))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): "+[r.constructor.name])}}};e.evalF=J,e.evalQ=H,e.evalM=O,e.handleLifecycle=q,e.queueOrRun=M,e.handleAff=T}(n),function(n){n["Halogen.Component"]=n["Halogen.Component"]||{};var e=n["Halogen.Component"],r=n["Control.Applicative"],t=n["Data.Coyoneda"],i=n["Data.Foldable"],o=n["Data.Function"],u=n["Data.Functor"],a=n["Data.Maybe"],c=n["Data.Unit"],l=n["Halogen.Data.Slot"],s=n["Halogen.Query.HalogenM"],f=n["Halogen.Query.HalogenQ"],d=n["Unsafe.Coerce"],w=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),h=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),g=d.unsafeCoerce,v=d.unsafeCoerce,m=d.unsafeCoerce,p=d.unsafeCoerce,F={handleAction:o.const(r.pure(s.applicativeHalogenM)(c.unit)),handleQuery:o.const(r.pure(s.applicativeHalogenM)(a.Nothing.value)),receive:o.const(a.Nothing.value),initialize:a.Nothing.value,finalize:a.Nothing.value};e.mkComponent=p,e.unComponent=v,e.mkEval=function(n){return function(e){if(e instanceof f.Initialize)return u.voidLeft(s.functorHalogenM)(i.traverse_(s.applicativeHalogenM)(i.foldableMaybe)(n.handleAction)(n.initialize))(e.value0);if(e instanceof f.Finalize)return u.voidLeft(s.functorHalogenM)(i.traverse_(s.applicativeHalogenM)(i.foldableMaybe)(n.handleAction)(n.finalize))(e.value0);if(e instanceof f.Receive)return u.voidLeft(s.functorHalogenM)(i.traverse_(s.applicativeHalogenM)(i.foldableMaybe)(n.handleAction)(n.receive(e.value0)))(e.value1);if(e instanceof f.Action)return u.voidLeft(s.functorHalogenM)(n.handleAction(e.value0))(e.value1);if(e instanceof f.Query)return t.unCoyoneda((function(r){var t=u.map(s.functorHalogenM)(a.maybe(e.value1(c.unit))(r));return function(e){return t(n.handleQuery(e))}}))(e.value0);throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 70): "+[e.constructor.name])}},e.defaultEval=F,e.ComponentSlot=w,e.ThunkSlot=h,e.componentSlot=function(n){return function(n){return function(e){return function(r){return function(t){return function(i){return function(o){return function(u){return m({get:l.lookup()(n)(e)(r)(t),pop:l.pop()(n)(e)(r)(t),set:l.insert()(n)(e)(r)(t),component:i,input:o,output:u})}}}}}}}},e.unComponentSlot=g}(n),function(n){n["Halogen.Aff.Driver"]=n["Halogen.Aff.Driver"]||{};var e=n["Halogen.Aff.Driver"],r=n["Control.Applicative"],t=n["Control.Bind"],i=n["Control.Category"],o=n["Control.Monad.Fork.Class"],u=n["Control.Monad.Rec.Class"],a=n["Control.Parallel"],c=n["Data.Foldable"],l=n["Data.Function"],s=n["Data.Functor"],f=n["Data.List"],d=n["Data.List.Types"],w=n["Data.Map.Internal"],h=n["Data.Maybe"],g=n["Data.Unit"],v=n.Effect,m=n["Effect.Aff"],p=n["Effect.Class"],F=n["Effect.Console"],S=n["Effect.Exception"],y=n["Effect.Ref"],b=n["Halogen.Aff.Driver.Eval"],I=n["Halogen.Aff.Driver.State"],C=n["Halogen.Component"],R=n["Halogen.Data.Slot"],E=n["Halogen.Query.HalogenQ"],W=n["Halogen.Query.Input"],P=n["Halogen.Subscription"],A=y.new({initializers:d.Nil.value,finalizers:d.Nil.value}),D=function(n){return function(){var e,r=y.read(n)();return y.write(h.Nothing.value)(n)(),c.for_(v.applicativeEffect)(c.foldableMaybe)(r)((e=c.traverse_(m.applicativeAff)(d.foldableList)(o.fork(o.monadForkAff)),function(n){return b.handleAff(e(f.reverse(n)))}))()}};e.runUI=function(n){return function(e){return function(N){var x=function(n){return function(e){return function(r){return C.unComponent((function(i){return function(){var o,u=A(),c=I.initDriverState(i)(r)(e)(u)(),l=y.read(n)();return y.write({initializers:d.Nil.value,finalizers:l.finalizers})(n)(),t.bindFlipped(v.bindEffect)(I.unDriverStateX((o=M(n),function(n){return o(n.selfRef)})))(y.read(c))(),t.bindFlipped(v.bindEffect)(function(n){return function(e){return I.unDriverStateX((function(r){var i=b.evalM(M)(r.selfRef)(r.component.eval(new E.Initialize(g.unit)));return y.modify_((function(n){return{initializers:new d.Cons(t.discard(t.discardUnit)(m.bindAff)(a.parSequence_(m.parallelAff)(d.foldableList)(f.reverse(n.initializers)))((function(){return t.discard(t.discardUnit)(m.bindAff)(i)((function(){return p.liftEffect(m.monadEffectAff)((function(){return D(r.pendingQueries)(),D(r.pendingOuts)()}))}))})),e),finalizers:n.finalizers}}))(n)}))}}(n)(l.initializers))(y.read(c))(),c}}))}}},M=function(e){return function(a){return function(){var w=y.read(a)(),p=s.map(v.functorEffect)(h.isNothing)(y.read(w.pendingHandlers))();r.when(v.applicativeEffect)(p)(y.write(new h.Just(d.Nil.value))(w.pendingHandlers))(),y.write(R.empty)(w.childrenOut)(),y.write(w.children)(w.childrenIn)();var P,A,D,N,T=i.identity(i.categoryFn)(w.selfRef),L=i.identity(i.categoryFn)(w.pendingQueries),H=i.identity(i.categoryFn)(w.pendingHandlers),O=(P=b.queueOrRun(H),A=s.void(m.functorAff),D=b.evalF(M)(T),function(n){return P(A(D(n)))}),J=(N=b.queueOrRun(L),function(n){return N(O(W.Action.create(n)))}),_=n.render((function(n){return b.handleAff(O(n))}))(function(e){return function(i){return function(o){return function(u){return C.unComponentSlot((function(a){return function(){var c=s.map(v.functorEffect)(a.pop)(y.read(o))(),f=function(){if(c instanceof h.Just){y.write(c.value0.value1)(o)();var n=y.read(c.value0.value0)();return I.unDriverStateX((function(n){return function(){var e;return l.flip(y.write)(n.handlerRef)((e=h.maybe(r.pure(m.applicativeAff)(g.unit))(i),function(n){return e(a.output(n))}))(),b.handleAff(b.evalM(M)(n.selfRef)(n.component.eval(new E.Receive(a.input,g.unit))))()}}))(n)(),c.value0.value0}if(c instanceof h.Nothing)return x(e)((t=h.maybe(r.pure(m.applicativeAff)(g.unit))(i),function(n){return t(a.output(n))}))(a.input)(a.component)();var t;throw new Error("Failed pattern match at Halogen.Aff.Driver (line 211, column 14 - line 220, column 98): "+[c.constructor.name])}(),d=s.map(v.functorEffect)((function(n){return h.isJust(a.get(n))}))(y.read(u))();return r.when(v.applicativeEffect)(d)(F.warn("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(),y.modify_(a.set(f))(u)(),t.bind(v.bindEffect)(y.read(f))(I.renderStateX(v.functorEffect)((function(e){if(e instanceof h.Nothing)return S.throw("Halogen internal error: child was not initialized in renderChild");if(e instanceof h.Just)return r.pure(v.applicativeEffect)(n.renderChild(e.value0));throw new Error("Failed pattern match at Halogen.Aff.Driver (line 225, column 37 - line 227, column 50): "+[e.constructor.name])})))()}}))}}}}(e)(J)(w.childrenIn)(w.childrenOut))(w.component.render(w.state))(w.rendering)(),U=y.read(w.childrenOut)(),k=y.read(w.childrenIn)();return R.foreachSlot(v.applicativeEffect)(k)((function(r){return function(){var t=y.read(r)();return I.renderStateX_(v.applicativeEffect)(n.removeChild)(t)(),q(e)(t)()}}))(),l.flip(y.modify_)(w.selfRef)(I.mapDriverState((function(n){return{component:n.component,state:n.state,refs:n.refs,children:U,childrenIn:n.childrenIn,childrenOut:n.childrenOut,selfRef:n.selfRef,handlerRef:n.handlerRef,pendingQueries:n.pendingQueries,pendingOuts:n.pendingOuts,pendingHandlers:n.pendingHandlers,rendering:new h.Just(_),fresh:n.fresh,subscriptions:n.subscriptions,forks:n.forks,lifecycleHandlers:n.lifecycleHandlers}})))(),r.when(v.applicativeEffect)(p)(l.flip(u.tailRecM(u.monadRecEffect))(g.unit)((function(n){return function(){var n,e=y.read(H)();y.write(new h.Just(d.Nil.value))(H)(),c.traverse_(v.applicativeEffect)(c.foldableMaybe)((n=c.traverse_(m.applicativeAff)(d.foldableList)(o.fork(o.monadForkAff)),function(e){return b.handleAff(n(f.reverse(e)))}))(e)();var r=y.read(H)();return h.maybe(!1)(f.null)(r)?s.voidLeft(v.functorEffect)(y.write(h.Nothing.value)(H))(new u.Done(g.unit))():new u.Loop(g.unit)}})))()}}},q=function(n){return I.unDriverStateX((function(e){return function(){var r;(r=e,function(){var n;return t.bindFlipped(v.bindEffect)(c.traverse_(v.applicativeEffect)(c.foldableMaybe)(c.traverse_(v.applicativeEffect)(w.foldableMap)(P.unsubscribe)))(y.read(r.subscriptions))(),y.write(h.Nothing.value)(r.subscriptions)(),t.bindFlipped(v.bindEffect)(c.traverse_(v.applicativeEffect)(w.foldableMap)((n=m.killFiber(S.error("finalized")),function(e){return b.handleAff(n(e))})))(y.read(r.forks))(),y.write(w.empty)(r.forks)()})();var i=b.evalM(M)(e.selfRef)(e.component.eval(new E.Finalize(g.unit)));return y.modify_((function(n){return{initializers:n.initializers,finalizers:new d.Cons(i,n.finalizers)}}))(n)(),R.foreachSlot(v.applicativeEffect)(e.children)((function(e){return function(){var r=y.read(e)();return q(n)(r)()}}))()}}))},T=function(n){return function(e){return function(i){return t.bind(m.bindAff)(p.liftEffect(m.monadEffectAff)(y.read(n)))((function(n){return n?r.pure(m.applicativeAff)(h.Nothing.value):b.evalQ(M)(e)(i)}))}}},L=function(e){return function(r){return function(t){return b.handleLifecycle(r)((function(){return y.read(e)()?g.unit:(y.write(!0)(e)(),q(r)(t)(),I.unDriverStateX((function(e){return function(){var r=p.liftEffect(p.monadEffectEffect)(y.read(e.selfRef))();return c.for_(v.applicativeEffect)(c.foldableMaybe)(r.rendering)(n.dispose)()}}))(t)())}))}}};return t.bind(m.bindAff)(p.liftEffect(m.monadEffectAff)(A))((function(n){return t.bind(m.bindAff)(p.liftEffect(m.monadEffectAff)(y.new(0)))((function(i){return t.bind(m.bindAff)(p.liftEffect(m.monadEffectAff)(y.new(!1)))((function(i){return b.handleLifecycle(n)((function(){var o,u,a=P.create(),c=t.bindFlipped(v.bindEffect)(y.read)(x(n)((o=p.liftEffect(m.monadEffectAff),u=P.notify(a.listener),function(n){return o(u(n))}))(N)(e))();return I.unDriverStateX((function(e){return r.pure(v.applicativeEffect)({query:T(i)(e.selfRef),messages:a.emitter,dispose:L(i)(n)(c)})}))(c)()}))}))}))}))}}}}(n),function(n){n._querySelector=function(n){return function(e){return function(){return e.querySelector(n)}}}}(n["Web.DOM.ParentNode"]=n["Web.DOM.ParentNode"]||{}),function(n){n["Web.DOM.ParentNode"]=n["Web.DOM.ParentNode"]||{};var e=n["Web.DOM.ParentNode"],r=n["Web.DOM.ParentNode"],t=n["Data.Functor"],i=n["Data.Nullable"],o=n.Effect;e.querySelector=function(n){var e=t.map(o.functorEffect)(i.toMaybe),u=r._querySelector(n);return function(n){return e(u(n))}}}(n),function(n){n.eventListener=function(n){return function(){return function(e){return n(e)()}}},n.addEventListener=function(n){return function(e){return function(r){return function(t){return function(){return t.addEventListener(n,e,r)}}}}},n.removeEventListener=function(n){return function(e){return function(r){return function(t){return function(){return t.removeEventListener(n,e,r)}}}}}}(n["Web.Event.EventTarget"]=n["Web.Event.EventTarget"]||{}),function(n){n["Web.Event.EventTarget"]=n["Web.Event.EventTarget"]||{};var e=n["Web.Event.EventTarget"],r=n["Web.Event.EventTarget"];e.eventListener=r.eventListener,e.addEventListener=r.addEventListener,e.removeEventListener=r.removeEventListener}(n),function(n){n.window=function(){return window}}(n["Web.HTML"]=n["Web.HTML"]||{}),function(n){n["Web.HTML"]=n["Web.HTML"]||{};var e=n["Web.HTML"],r=n["Web.HTML"];e.window=r.window}(n),function(n){n["Web.HTML.Event.EventTypes"]=n["Web.HTML.Event.EventTypes"]||{};var e=n["Web.HTML.Event.EventTypes"];e.change="change",e.domcontentloaded="DOMContentLoaded",e.error="error",e.input="input",e.load="load"}(n),function(n){n._readyState=function(n){return function(){return n.readyState}}}(n["Web.HTML.HTMLDocument"]=n["Web.HTML.HTMLDocument"]||{}),function(n){n["Web.HTML.HTMLDocument.ReadyState"]=n["Web.HTML.HTMLDocument.ReadyState"]||{};var e=n["Web.HTML.HTMLDocument.ReadyState"],r=n["Data.Maybe"],t=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}();e.Loading=t,e.parse=function(n){return"loading"===n?new r.Just(t.value):"interactive"===n?new r.Just(i.value):"complete"===n?new r.Just(o.value):r.Nothing.value}}(n),function(n){n["Web.HTML.HTMLDocument"]=n["Web.HTML.HTMLDocument"]||{};var e,r,t=n["Web.HTML.HTMLDocument"],i=n["Web.HTML.HTMLDocument"],o=n["Data.Functor"],u=n["Data.Maybe"],a=n.Effect,c=n["Unsafe.Coerce"],l=n["Web.HTML.HTMLDocument.ReadyState"],s=c.unsafeCoerce,f=c.unsafeCoerce,d=c.unsafeCoerce,w=(r=o.map(a.functorEffect)((e=u.fromMaybe(l.Loading.value),function(n){return e(l.parse(n))})),function(n){return r(i._readyState(n))});t.toDocument=d,t.toParentNode=s,t.toEventTarget=f,t.readyState=w}(n),function(n){n._read=function(n,e,r){var t=Object.prototype.toString.call(r);return 0===t.indexOf("[object HTML")&&t.indexOf("Element]")===t.length-8?e(r):n}}(n["Web.HTML.HTMLElement"]=n["Web.HTML.HTMLElement"]||{}),function(n){n["Web.HTML.HTMLElement"]=n["Web.HTML.HTMLElement"]||{};var e=n["Web.HTML.HTMLElement"],r=n["Web.HTML.HTMLElement"],t=n["Data.Maybe"],i=n["Unsafe.Coerce"].unsafeCoerce;e.fromElement=function(n){return r._read(t.Nothing.value,t.Just.create,n)},e.toNode=i}(n),function(n){n.document=function(n){return function(){return n.document}}}(n["Web.HTML.Window"]=n["Web.HTML.Window"]||{}),function(n){n["Web.HTML.Window"]=n["Web.HTML.Window"]||{};var e=n["Web.HTML.Window"],r=n["Web.HTML.Window"],t=n["Unsafe.Coerce"].unsafeCoerce;e.toEventTarget=t,e.document=r.document}(n),function(n){n["Halogen.Aff.Util"]=n["Halogen.Aff.Util"]||{};var e=n["Halogen.Aff.Util"],r=n["Control.Applicative"],t=n["Control.Bind"],i=n["Data.Either"],o=n["Data.Function"],u=n["Data.Functor"],a=n["Data.Maybe"],c=n["Data.Unit"],l=n.Effect,s=n["Effect.Aff"],f=n["Effect.Class"],d=n["Effect.Exception"],w=n["Web.DOM.ParentNode"],h=n["Web.Event.EventTarget"],g=n["Web.HTML"],v=n["Web.HTML.Event.EventTypes"],m=n["Web.HTML.HTMLDocument"],p=n["Web.HTML.HTMLDocument.ReadyState"],F=n["Web.HTML.HTMLElement"],S=n["Web.HTML.Window"],y=s.runAff_(i.either(d.throwException)(o.const(r.pure(l.applicativeEffect)(c.unit)))),b=s.makeAff((function(n){return function(){if(t.bindFlipped(l.bindEffect)(m.readyState)(t.bindFlipped(l.bindEffect)(S.document)(g.window))()instanceof p.Loading){var e=u.map(l.functorEffect)(S.toEventTarget)(g.window)(),r=h.eventListener((function(e){return n(new i.Right(c.unit))}))();return h.addEventListener(v.domcontentloaded)(r)(!1)(e)(),s.effectCanceler(h.removeEventListener(v.domcontentloaded)(r)(!1)(e))}return n(new i.Right(c.unit))(),s.nonCanceler}}));e.awaitLoad=b,e.selectElement=function(n){return t.bind(s.bindAff)(f.liftEffect(s.monadEffectAff)(t.bindFlipped(l.bindEffect)(t.composeKleisliFlipped(l.bindEffect)((e=w.querySelector(n),function(n){return e(m.toParentNode(n))}))(S.document))(g.window)))((function(n){return r.pure(s.applicativeAff)(t.bindFlipped(a.bindMaybe)(F.fromElement)(n))}));var e},e.runHalogenAff=y}(n),function(n){n["Halogen.VDom.Machine"]=n["Halogen.VDom.Machine"]||{};var e=n["Halogen.VDom.Machine"],r=n["Unsafe.Coerce"],t=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(i){return new n(e,r,t,i)}}}},n}(),i=r.unsafeCoerce,o=r.unsafeCoerce,u=i((function(n){return n.value0}));e.Step=t,e.mkStep=o,e.unStep=i,e.extract=u,e.step=function(n,e){return n.value2(n.value1,e)},e.halt=function(n){return n.value3(n.value1)}}(n),function(n){n.unsafeGetAny=function(n,e){return e[n]},n.unsafeHasAny=function(n,e){return e.hasOwnProperty(n)},n.unsafeSetAny=function(n,e,r){r[n]=e},n.forE=function(n,e){for(var r=[],t=0;t<n.length;t++)r.push(e(t,n[t]));return r},n.forEachE=function(n,e){for(var r=0;r<n.length;r++)e(n[r])},n.forInE=function(n,e){for(var r=Object.keys(n),t=0;t<r.length;t++){var i=r[t];e(i,n[i])}},n.diffWithIxE=function(n,e,r,t,i){for(var o=[],u=n.length,a=e.length,c=0;;){if(c<u)c<a?o.push(r(c,n[c],e[c])):t(c,n[c]);else{if(!(c<a))break;o.push(i(c,e[c]))}c++}return o},n.strMapWithIxE=function(n,e,r){for(var t={},i=0;i<n.length;i++){var o=n[i],u=e(o);t[u]=r(u,i,o)}return t},n.diffWithKeyAndIxE=function(n,e,r,t,i,o){for(var u={},a=0;a<e.length;a++){var c=e[a],l=r(c);n.hasOwnProperty(l)?u[l]=t(l,a,n[l],c):u[l]=o(l,a,c)}for(var l in n)l in u||i(l,n[l]);return u},n.refEq=function(n,e){return n===e},n.createTextNode=function(n,e){return e.createTextNode(n)},n.setTextContent=function(n,e){e.textContent=n},n.createElement=function(n,e,r){return null!=n?r.createElementNS(n,e):r.createElement(e)},n.insertChildIx=function(n,e,r){var t=r.childNodes.item(n)||null;t!==e&&r.insertBefore(e,t)},n.removeChild=function(n,e){e&&n.parentNode===e&&e.removeChild(n)},n.parentNode=function(n){return n.parentNode},n.setAttribute=function(n,e,r,t){null!=n?t.setAttributeNS(n,e,r):t.setAttribute(e,r)},n.removeAttribute=function(n,e,r){null!=n?r.removeAttributeNS(n,e):r.removeAttribute(e)},n.hasAttribute=function(n,e,r){return null!=n?r.hasAttributeNS(n,e):r.hasAttribute(e)},n.addEventListener=function(n,e,r){r.addEventListener(n,e,!1)},n.removeEventListener=function(n,e,r){r.removeEventListener(n,e,!1)},n.jsUndefined=void 0}(n["Halogen.VDom.Util"]=n["Halogen.VDom.Util"]||{}),function(n){n["Halogen.VDom.Util"]=n["Halogen.VDom.Util"]||{};var e=n["Halogen.VDom.Util"],r=n["Halogen.VDom.Util"],t=n["Foreign.Object.ST"],i=n["Unsafe.Coerce"],o=r.unsafeGetAny,u=i.unsafeCoerce,a=r.unsafeSetAny,c=t.new;e.newMutMap=c,e.pokeMutMap=a,e.unsafeFreeze=u,e.unsafeLookup=o,e.unsafeGetAny=r.unsafeGetAny,e.unsafeHasAny=r.unsafeHasAny,e.unsafeSetAny=r.unsafeSetAny,e.forE=r.forE,e.forEachE=r.forEachE,e.forInE=r.forInE,e.diffWithIxE=r.diffWithIxE,e.diffWithKeyAndIxE=r.diffWithKeyAndIxE,e.strMapWithIxE=r.strMapWithIxE,e.refEq=r.refEq,e.createTextNode=r.createTextNode,e.setTextContent=r.setTextContent,e.createElement=r.createElement,e.insertChildIx=r.insertChildIx,e.removeChild=r.removeChild,e.parentNode=r.parentNode,e.setAttribute=r.setAttribute,e.removeAttribute=r.removeAttribute,e.hasAttribute=r.hasAttribute,e.addEventListener=r.addEventListener,e.removeEventListener=r.removeEventListener,e.jsUndefined=r.jsUndefined}(n),function(n){n["Halogen.VDom.DOM.Prop"]=n["Halogen.VDom.DOM.Prop"]||{};var e=n["Halogen.VDom.DOM.Prop"],r=n["Data.Maybe"],t=n["Data.Nullable"],i=n["Data.Tuple"],o=n["Data.Unit"],u=n["Effect.Ref"],a=n.Foreign,c=n["Foreign.Object"],l=n["Halogen.VDom.Machine"],s=n["Halogen.VDom.Util"],f=n["Unsafe.Coerce"],d=n["Web.Event.EventTarget"],w=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),h=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),g=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),v=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),m=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),p=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),F=s.unsafeGetAny,S=s.unsafeSetAny,y=function(n){if(n instanceof g&&n.value0 instanceof r.Just)return"attr/"+n.value0.value0+":"+n.value1;if(n instanceof g)return"attr/:"+n.value1;if(n instanceof v)return"prop/"+n.value0;if(n instanceof m)return"handler/"+n.value0;if(n instanceof p)return"ref";throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): "+[n.constructor.name])},b=f.unsafeCoerce,I=f.unsafeCoerce;e.Attribute=g,e.Property=v,e.Handler=m,e.propFromString=b,e.propFromBoolean=I,e.buildProp=function(n){return function(e){var f=function(n){return function(r,u){if(u instanceof g)return s.removeAttribute(t.toNullable(u.value0),u.value1,e);if(u instanceof v)return function(n,e){return s.hasAttribute(t.null,n,e)?s.removeAttribute(t.null,n,e):"string"===a.typeOf(s.unsafeGetAny(n,e))?s.unsafeSetAny(n,"",e):"rowSpan"===n||"colSpan"===n?s.unsafeSetAny(n,1,e):s.unsafeSetAny(n,s.jsUndefined,e)}(u.value0,e);if(u instanceof m){var c=s.unsafeLookup(u.value0,n);return s.removeEventListener(u.value0,i.fst(c),e)}if(u instanceof p)return o.unit;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): "+[u.constructor.name])}},b=function(e){return e instanceof r.Just?n(e.value0)():o.unit},I=function(n){var t=c.lookup("ref")(n.props);return t instanceof r.Just&&t.value0 instanceof p?b(t.value0.value0(new h(e))):o.unit},C=function(n){return function(r,o,a){if(a instanceof g)return s.setAttribute(t.toNullable(a.value0),a.value1,a.value2,e),a;if(a instanceof v)return S(a.value0,a.value1,e),a;if(a instanceof m){var c=s.unsafeGetAny(a.value0,n);if(s.unsafeHasAny(a.value0,n))return u.write(a.value1)(i.snd(c))(),a;var l=u.new(a.value1)(),f=d.eventListener((function(n){return function(){var e=u.read(l)();return b(e(n))}}))();return s.pokeMutMap(a.value0,new i.Tuple(f,l),n),s.addEventListener(a.value0,f,e),a}if(a instanceof p)return b(a.value0(new w(e))),a;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): "+[a.constructor.name])}},R=function(n,r){var a=s.newMutMap(),c=f(n.events),d=function(n,r){return function(o,a,c,l){if(c instanceof g&&l instanceof g)return c.value2===l.value2||s.setAttribute(t.toNullable(l.value0),l.value1,l.value2,e),l;if(c instanceof v&&l instanceof v){if(s.refEq(c.value1,l.value1))return l;if("value"===l.value0){var f=F("value",e);return s.refEq(f,l.value1)||S(l.value0,l.value1,e),l}return S(l.value0,l.value1,e),l}if(c instanceof m&&l instanceof m){var d=s.unsafeLookup(l.value0,n);return u.write(l.value1)(i.snd(d))(),s.pokeMutMap(l.value0,d,r),l}return l}}(n.events,a),w=C(a),h=s.diffWithKeyAndIxE(n.props,r,y,d,c,w),p={events:s.unsafeFreeze(a),props:h};return l.mkStep(new l.Step(o.unit,p,R,I))};return function(n){var e=s.newMutMap(),r=s.strMapWithIxE(n,y,C(e)),t={events:s.unsafeFreeze(e),props:r};return l.mkStep(new l.Step(o.unit,t,R,I))}}}}(n),function(n){n["Halogen.VDom.Types"]=n["Halogen.VDom.Types"]||{};var e=n["Halogen.VDom.Types"],r=n["Data.Bifunctor"],t=n["Data.Functor"],i=n["Data.Tuple"],o=n["Unsafe.Coerce"],u=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),a=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(i){return new n(e,r,t,i)}}}},n}(),c=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(i){return new n(e,r,t,i)}}}},n}(),l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),f=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),d=function(n){return function(e){return n(e)}},w=o.unsafeCoerce,h=new r.Bifunctor((function(n){return function(e){return d((function(r){return w(new f((function(e){return n(r.value0(e))}),(function(n){return e(r.value1(n))}),r.value2))}))}})),g=d((function(n){var e=function(o){if(o instanceof u)return new u(o.value0);if(o instanceof a)return new a(o.value0,o.value1,n.value0(o.value2),t.map(t.functorArray)(e)(o.value3));if(o instanceof c)return new c(o.value0,o.value1,n.value0(o.value2),t.map(t.functorArray)(t.map(i.functorTuple)(e))(o.value3));if(o instanceof l)return new l(n.value1(o.value0));if(o instanceof s)return new s(r.bimap(h)(n.value0)(n.value1)(o.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): "+[o.constructor.name])};return e(n.value2)}));e.Text=u,e.Elem=a,e.Keyed=c,e.Widget=l,e.Grafted=s,e.runGraft=g}(n),function(n){n["Halogen.HTML.Core"]=n["Halogen.HTML.Core"]||{};var e=n["Halogen.HTML.Core"],r=n["DOM.HTML.Indexed.InputAcceptType"],t=n["DOM.HTML.Indexed.InputType"],i=n["Halogen.VDom.DOM.Prop"],o=n["Halogen.VDom.Types"],u=function(n){this.toPropValue=n},a=new u(i.propFromString),c=new u((function(n){return i.propFromString(t.renderInputType(n))})),l=new u((function(n){return i.propFromString(r.renderInputAcceptType(n))})),s=new u(i.propFromBoolean),f=i.Handler.create;e.widget=function(n){return o.Widget.create(n)},e.text=function(n){return o.Text.create(n)},e.element=function(n){return function(e){return function(r){return function(t){return new o.Elem(n,e,r,t)}}}},e.prop=function(n){return function(e){var r=i.Property.create(e),t=n.toPropValue;return function(n){return r(t(n))}}},e.attr=function(n){return function(e){return i.Attribute.create(n)(e)}},e.handler=f,e.isPropString=a,e.isPropBoolean=s,e.isPropInputType=c,e.isPropInputAcceptType=l}(n),function(n){n["Halogen.HTML"]=n["Halogen.HTML"]||{};var e=n["Halogen.HTML"],r=n["Data.Function"],t=n["Data.Maybe"],i=n["Halogen.Component"],o=n["Halogen.HTML.Core"];e.slot=function(n){return function(n){return function(e){return function(r){return function(u){return function(a){return function(c){return function(l){return o.widget(new i.ComponentSlot(i.componentSlot()(n)(e)(r)(u)(a)(c)((function(n){return t.Just.create(l(n))}))))}}}}}}}},e.slot_=function(n){return function(n){return function(e){return function(u){return function(a){return function(c){return function(l){return o.widget(new i.ComponentSlot(i.componentSlot()(n)(e)(u)(a)(c)(l)(r.const(t.Nothing.value))))}}}}}}}}(n),function(n){n["Halogen.HTML.Elements"]=n["Halogen.HTML.Elements"]||{};var e=n["Halogen.HTML.Elements"],r=n["Data.Maybe"],t=n["Halogen.HTML.Core"].element(r.Nothing.value),i=t("h1")([]),o=t("h2")([]),u=t("h3")([]),a=t("label"),c=t("li"),l=c([]),s=t("ol")([]),f=t("option"),d=t("p"),w=d([]),h=t("pre")([]),g=t("select")([]),v=t("ul"),m=t("div"),p=m([]),F=t("button"),S=t("a");e.a=S,e.button=F,e.div=m,e.div_=p,e.h1_=i,e.h2_=o,e.h3_=u,e.input=function(n){return t("input")(n)([])},e.label=a,e.li=c,e.li_=l,e.ol_=s,e.option=f,e.p=d,e.p_=w,e.pre_=h,e.select_=g,e.textarea=function(n){return t("textarea")(n)([])},e.ul=v}(n),function(n){n._currentTarget=function(n){return n.currentTarget},n._target=function(n){return n.target},n.preventDefault=function(n){return function(){return n.preventDefault()}}}(n["Web.Event.Event"]=n["Web.Event.Event"]||{}),function(n){n["Web.Event.Event"]=n["Web.Event.Event"]||{};var e=n["Web.Event.Event"],r=n["Web.Event.Event"],t=n["Data.Nullable"];e.target=function(n){return t.toMaybe(r._target(n))},e.currentTarget=function(n){return t.toMaybe(r._currentTarget(n))},e.preventDefault=r.preventDefault}(n),function(n){n._item=function(n){return function(e){return e.item(n)}}}(n["Web.File.FileList"]=n["Web.File.FileList"]||{}),function(n){n["Web.File.FileList"]=n["Web.File.FileList"]||{};var e=n["Web.File.FileList"],r=n["Web.File.FileList"],t=n["Data.Function"],i=n["Data.Functor"],o=n["Data.Maybe"],u=n["Data.Nullable"],a=n["Data.Tuple"],c=n["Data.Unfoldable"];e.items=function(n){return function(e){return c.unfoldr(n)((function(n){return i.map(o.functorMaybe)(t.flip(a.Tuple.create)(n+1|0))(function(n){var e=r._item(n);return function(n){return u.toMaybe(e(n))}}(n)(e))}))(0)}}}(n),function(n){n._files=function(n){return function(){return n.files}}}(n["Web.HTML.HTMLInputElement"]=n["Web.HTML.HTMLInputElement"]||{}),function(n){n._unsafeReadProtoTagged=function(n,e,r,t){if("undefined"!=typeof window){var i=window[r];if(null!=i&&t instanceof i)return e(t)}for(var o=t;null!=o;){var u=Object.getPrototypeOf(o),a=u.constructor.name;if(a===r)return e(t);if("Object"===a)return n;o=u}return n}}(n["Web.Internal.FFI"]=n["Web.Internal.FFI"]||{}),function(n){n["Web.Internal.FFI"]=n["Web.Internal.FFI"]||{};var e=n["Web.Internal.FFI"],r=n["Web.Internal.FFI"],t=n["Data.Maybe"];e.unsafeReadProtoTagged=function(n){return function(e){return r._unsafeReadProtoTagged(t.Nothing.value,t.Just.create,n,e)}}}(n),function(n){n["Web.HTML.HTMLInputElement"]=n["Web.HTML.HTMLInputElement"]||{};var e,r=n["Web.HTML.HTMLInputElement"],t=n["Web.HTML.HTMLInputElement"],i=n["Data.Functor"],o=n["Data.Nullable"],u=n.Effect,a=n["Web.Internal.FFI"].unsafeReadProtoTagged("HTMLInputElement"),c=(e=i.map(u.functorEffect)(o.toMaybe),function(n){return e(t._files(n))});r.fromEventTarget=a,r.files=c}(n),function(n){n["Web.UIEvent.MouseEvent.EventTypes"]=n["Web.UIEvent.MouseEvent.EventTypes"]||{};n["Web.UIEvent.MouseEvent.EventTypes"].click="click"}(n),function(n){n["Halogen.HTML.Events"]=n["Halogen.HTML.Events"]||{};var e,r,t=n["Halogen.HTML.Events"],i=n["Control.Bind"],o=n["Control.Monad.Except"],u=n["Control.Monad.Except.Trans"],a=n["Data.Either"],c=n["Data.Function"],l=n["Data.Functor"],s=n["Data.Identity"],f=n["Data.Maybe"],d=n["Data.Unfoldable"],w=n["Effect.Unsafe"],h=n.Foreign,g=n["Foreign.Index"],v=n["Halogen.HTML.Core"],m=n["Halogen.Query.Input"],p=n["Unsafe.Coerce"],F=n["Web.Event.Event"],S=n["Web.File.FileList"],y=n["Web.HTML.Event.EventTypes"],b=n["Web.HTML.HTMLInputElement"],I=n["Web.UIEvent.MouseEvent.EventTypes"],C=p.unsafeCoerce,R=function(n){return function(e){return v.handler(n)((function(n){return new f.Just(new m.Action(e(n)))}))}},E=R(y.change),W=(e=R(I.click),function(n){return e(C(n))}),P=(r=y.input,function(n){return function(e){return function(t){var d;return(d=r,function(n){return v.handler(d)((function(e){return l.map(f.functorMaybe)(m.Action.create)(n(e))}))})(i.composeKleisli(f.bindMaybe)(F.currentTarget)((function(r){return a.either(c.const(f.Nothing.value))((function(n){return f.Just.create(t(n))}))(o.runExcept((l=r,i.composeKleisliFlipped(u.bindExceptT(s.monadIdentity))(e)(g.readProp(s.monadIdentity)(n))(h.unsafeToForeign(l)))));var l})))}}})("value")(h.readString(s.monadIdentity));t.onChange=E,t.onFileUpload=function(n){return function(e){return R(y.change)((r=f.maybe(d.none(n))(S.items(n)),t=i.composeKleisli(f.bindMaybe)(F.target)(i.composeKleisli(f.bindMaybe)(b.fromEventTarget)((function(n){return w.unsafePerformEffect(b.files(n))}))),function(n){return e(r(t(n)))}));var r,t}},t.onClick=W,t.onValueInput=P}(n),function(n){n["Halogen.HTML.Properties"]=n["Halogen.HTML.Properties"]||{};var e,r,t,i=n["Halogen.HTML.Properties"],o=n["Data.HeytingAlgebra"],u=n["Data.Maybe"],a=n["Data.Newtype"],c=n["Halogen.HTML.Core"],l=function(n){return c.prop(n)},s=l(c.isPropBoolean)("selected"),f=l(c.isPropString)("value"),d=l(c.isPropString)("name"),w=l(c.isPropString)("href"),h=l(c.isPropString)("htmlFor"),g=l(c.isPropBoolean)("disabled"),v=(e=o.not(o.heytingAlgebraBoolean),function(n){return g(e(n))}),m=(r=l(c.isPropString)("className"),t=a.unwrap(),function(n){return r(t(n))}),p=l(c.isPropBoolean)("checked"),F=c.attr(u.Nothing.value)("style"),S=l(c.isPropInputAcceptType)("accept");i.class_=m,i.for=h,i.href=w,i.name=d,i.style=F,i.type_=function(n){return l(n)("type")},i.value=f,i.enabled=v,i.checked=p,i.selected=s,i.accept=S}(n),function(n){n["Halogen.Query.Event"]=n["Halogen.Query.Event"]||{};var e=n["Halogen.Query.Event"],r=n["Data.Foldable"],t=n.Effect,i=n["Halogen.Subscription"],o=n["Web.Event.EventTarget"];e.eventListener=function(n){return function(e){return function(u){return i.makeEmitter((function(i){return function(){var a=o.eventListener((function(n){return r.traverse_(t.applicativeEffect)(r.foldableMaybe)(i)(u(n))}))();return o.addEventListener(n)(a)(!1)(e)(),o.removeEventListener(n)(a)(!1)(e)}}))}}}}(n),function(n){n["Halogen.Svg.Core"]=n["Halogen.Svg.Core"]||{};var e=n["Halogen.Svg.Core"],r=n["Data.Maybe"],t=n["Halogen.VDom.DOM.Prop"],i=n["Halogen.VDom.Types"],o=r.Just.create("http://www.w3.org/2000/svg");e.element=function(n){return function(e){return function(r){return new i.Elem(o,n,e,r)}}},e.attr=function(n){return t.Attribute.create(r.Nothing.value)(n)}}(n),function(n){n["Halogen.Svg.Attributes"]=n["Halogen.Svg.Attributes"]||{};var e,r,t,i,o,u,a,c,l,s,f,d,w,h,g,v,m,p,F,S,y,b,I=n["Halogen.Svg.Attributes"],C=n["Data.Functor"],R=n["Data.Maybe"],E=n["Data.Show"],W=n["Data.String.Common"],P=n["Halogen.Svg.Core"],A=function(){function n(){}return n.value=new n,n}(),D=function(){function n(){}return n.value=new n,n}(),N=function(){function n(){}return n.value=new n,n}(),x=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),M=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(i){return new n(e,r,t,i)}}}},n}(),q=function(){function n(){}return n.value=new n,n}(),T=function(){function n(){}return n.value=new n,n}(),L=function(){function n(){}return n.value=new n,n}(),H=function(){function n(){}return n.value=new n,n}(),O=function(){function n(){}return n.value=new n,n}(),J=function(){function n(){}return n.value=new n,n}(),_=function(){function n(){}return n.value=new n,n}(),U=function(){function n(){}return n.value=new n,n}(),k=function(){function n(){}return n.value=new n,n}(),B=function(){function n(){}return n.value=new n,n}(),V=function(){function n(){}return n.value=new n,n}(),z=function(){function n(){}return n.value=new n,n}(),G=function(n){if(n instanceof R.Just&&n.value0 instanceof x)return"rgb("+W.joinWith(",")(C.map(C.functorArray)(E.show(E.showInt))([n.value0.value0,n.value0.value1,n.value0.value2]))+")";if(n instanceof R.Just&&n.value0 instanceof M)return"rgba("+W.joinWith(",")(C.map(C.functorArray)(E.show(E.showInt))([n.value0.value0,n.value0.value1,n.value0.value2]))+","+E.show(E.showNumber)(n.value0.value3)+")";if(n instanceof R.Nothing)return"None";throw new Error("Failed pattern match at Halogen.Svg.Attributes (line 88, column 14 - line 91, column 20): "+[n.constructor.name])},Q=P.attr,j=(e=Q("dominant-baseline"),function(n){return e(function(n){if(n instanceof q)return"auto";if(n instanceof T)return"use-script";if(n instanceof L)return"no-change";if(n instanceof H)return"reset-size";if(n instanceof O)return"ideographic";if(n instanceof J)return"alphabetic";if(n instanceof _)return"hanging";if(n instanceof U)return"mathematical";if(n instanceof k)return"central";if(n instanceof B)return"middle";if(n instanceof V)return"text-after-edge";if(n instanceof z)return"text-before-edge";throw new Error("Failed pattern match at Halogen.Svg.Attributes (line 199, column 17 - line 211, column 39): "+[n.constructor.name])}(n))}),K=(r=Q("fill"),function(n){return r(G(n))}),X=(t=Q("height"),i=E.show(E.showNumber),function(n){return t(i(n))}),Y=(o=Q("stroke"),function(n){return o(G(n))}),Z=(u=Q("stroke-width"),a=E.show(E.showNumber),function(n){return u(a(n))}),$=(c=Q("text-anchor"),function(n){return c(function(n){if(n instanceof A)return"start";if(n instanceof D)return"middle";if(n instanceof N)return"end";throw new Error("Failed pattern match at Halogen.Svg.Attributes (line 189, column 19 - line 192, column 15): "+[n.constructor.name])}(n))}),nn=(l=Q("width"),s=E.show(E.showNumber),function(n){return l(s(n))}),en=(f=Q("x"),d=E.show(E.showNumber),function(n){return f(d(n))}),rn=(w=Q("x1"),h=E.show(E.showNumber),function(n){return w(h(n))}),tn=(g=Q("x2"),v=E.show(E.showNumber),function(n){return g(v(n))}),on=(m=Q("y"),p=E.show(E.showNumber),function(n){return m(p(n))}),un=(F=Q("y1"),S=E.show(E.showNumber),function(n){return F(S(n))}),an=(y=Q("y2"),b=E.show(E.showNumber),function(n){return y(b(n))});I.RGB=x,I.AnchorMiddle=D,I.BaselineMiddle=B,I.attr=Q,I.viewBox=function(n){return function(e){return function(r){return function(t){return Q("viewBox")(W.joinWith(" ")(C.map(C.functorArray)(E.show(E.showNumber))([n,e,r,t])))}}}},I.width=nn,I.height=X,I.x=en,I.y=on,I.x1=rn,I.y1=un,I.x2=tn,I.y2=an,I.stroke=Y,I.fill=K,I.text_anchor=$,I.dominant_baseline=j,I.strokeWidth=Z}(n),function(n){n["Halogen.Svg.Elements"]=n["Halogen.Svg.Elements"]||{};var e=n["Halogen.Svg.Elements"],r=n["Halogen.Svg.Core"].element,t=r("g"),i=r("svg"),o=r("text"),u=r("title");e.svg=i,e.g=t,e.rect=function(n){return r("rect")(n)([])},e.line=function(n){return r("line")(n)([])},e.text=o,e.title=u}(n),function(n){n["Web.DOM.Element"]=n["Web.DOM.Element"]||{};var e=n["Web.DOM.Element"],r=n["Unsafe.Coerce"].unsafeCoerce;e.toNode=r}(n),function(n){n["Halogen.VDom.DOM"]=n["Halogen.VDom.DOM"]||{};var e=n["Halogen.VDom.DOM"],r=n["Data.Array"],t=n["Data.Boolean"],i=n["Data.Maybe"],o=n["Data.Nullable"],u=n["Data.Tuple"],a=n["Halogen.VDom.Machine"],c=n["Halogen.VDom.Types"],l=n["Halogen.VDom.Util"],s=n["Web.DOM.Element"],f=function(n){return a.halt(n.widget)},d=function(n,e){if(e instanceof c.Grafted)return d(n,c.runGraft(e.value0));if(e instanceof c.Widget){var r=a.step(n.widget,e.value0);return a.unStep((function(e){return a.mkStep(new a.Step(e.value0,{build:n.build,widget:r},d,f))}))(r)}return f(n),n.build(e)},w=function(n){var e=l.parentNode(n.node);return l.removeChild(n.node,e)},h=function(n,e){if(e instanceof c.Grafted)return h(n,c.runGraft(e.value0));if(e instanceof c.Text){if(n.value===e.value0)return a.mkStep(new a.Step(n.node,n,h,w));if(t.otherwise){var r={build:n.build,node:n.node,value:e.value0};return l.setTextContent(e.value0,n.node),a.mkStep(new a.Step(n.node,r,h,w))}}return w(n),n.build(e)},g=function(n){var e=l.parentNode(n.node);return l.removeChild(n.node,e),l.forInE(n.children,(function(n,e){return a.halt(e)})),a.halt(n.attrs)},v=function(n){var e=l.parentNode(n.node);return l.removeChild(n.node,e),l.forEachE(n.children,a.halt),a.halt(n.attrs)},m=function(n,e,r,t){return!(e!==t)&&(n instanceof i.Just&&r instanceof i.Just&&n.value0===r.value0||n instanceof i.Nothing&&r instanceof i.Nothing)},p=function(n,e){if(e instanceof c.Grafted)return p(n,c.runGraft(e.value0));if(e instanceof c.Elem&&m(n.ns,n.name,e.value0,e.value1)){var t=r.length(e.value3);if(0===r.length(n.children)&&0===t){var i=a.step(n.attrs,e.value2),o={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:n.children};return a.mkStep(new a.Step(n.node,o,p,v))}var u=l.diffWithIxE(n.children,e.value3,(function(e,r,t){var i=a.step(r,t);return l.insertChildIx(e,a.extract(i),n.node),i}),(function(n,e){return a.halt(e)}),(function(e,r){var t=n.build(r);return l.insertChildIx(e,a.extract(t),n.node),t}));i=a.step(n.attrs,e.value2),o={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:u};return a.mkStep(new a.Step(n.node,o,p,v))}return v(n),n.build(e)},F=function(n,e){if(e instanceof c.Grafted)return F(n,c.runGraft(e.value0));if(e instanceof c.Keyed&&m(n.ns,n.name,e.value0,e.value1)){var t=r.length(e.value3);if(0===n.length&&0===t){var i=a.step(n.attrs,e.value2),o={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:n.children,length:0};return a.mkStep(new a.Step(n.node,o,F,g))}var s=l.diffWithKeyAndIxE(n.children,e.value3,u.fst,(function(e,r,t,i){var o=a.step(t,i.value1);return l.insertChildIx(r,a.extract(o),n.node),o}),(function(n,e){return a.halt(e)}),(function(e,r,t){var i=n.build(t.value1);return l.insertChildIx(r,a.extract(i),n.node),i}));i=a.step(n.attrs,e.value2),o={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:s,length:t};return a.mkStep(new a.Step(n.node,o,F,g))}return g(n),n.build(e)};e.buildVDom=function(n){var e=function(t){if(t instanceof c.Text)return function(n,e,r){var t=l.createTextNode(r,n.document),i={build:e,node:t,value:r};return a.mkStep(new a.Step(t,i,h,w))}(n,e,t.value0);if(t instanceof c.Elem)return function(n,e,r,t,i,u){var c=l.createElement(o.toNullable(r),t,n.document),f=s.toNode(c),d=l.forE(u,(function(n,r){var t=e(r);return l.insertChildIx(n,a.extract(t),f),t})),w=n.buildAttributes(c)(i),h={build:e,node:f,attrs:w,ns:r,name:t,children:d};return a.mkStep(new a.Step(f,h,p,v))}(n,e,t.value0,t.value1,t.value2,t.value3);if(t instanceof c.Keyed)return function(n,e,t,i,c,f){var d=l.createElement(o.toNullable(t),i,n.document),w=s.toNode(d),h=l.strMapWithIxE(f,u.fst,(function(n,r,t){var i=e(t.value1);return l.insertChildIx(r,a.extract(i),w),i})),v=n.buildAttributes(d)(c),m={build:e,node:w,attrs:v,ns:t,name:i,children:h,length:r.length(f)};return a.mkStep(new a.Step(w,m,F,g))}(n,e,t.value0,t.value1,t.value2,t.value3);if(t instanceof c.Widget)return function(n,e,r){var t=n.buildWidget(n)(r);return a.unStep((function(n){return a.mkStep(new a.Step(n.value0,{build:e,widget:t},d,f))}))(t)}(n,e,t.value0);if(t instanceof c.Grafted)return e(c.runGraft(t.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): "+[t.constructor.name])};return e}}(n),function(n){n["Halogen.VDom.Thunk"]=n["Halogen.VDom.Thunk"]||{};var e=n["Halogen.VDom.Thunk"],r=n["Halogen.VDom.DOM"],t=n["Halogen.VDom.Machine"],i=n["Halogen.VDom.Util"],o=(function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}n.create=function(e){return function(r){return function(t){return function(i){return new n(e,r,t,i)}}}}}(),function(n){return n.value2(n.value3)});e.buildThunk=function(n){var e=function(n){return t.halt(n.vdom)},u=function(r,a){var c,l;if(c=r.thunk,l=a,i.refEq(c.value0,l.value0)&&i.refEq(c.value1,l.value1)&&c.value1(c.value3,l.value3))return t.mkStep(new t.Step(t.extract(r.vdom),r,u,e));var s=t.step(r.vdom,n(o(a)));return t.mkStep(new t.Step(t.extract(s),{vdom:s,thunk:a},u,e))};return function(i){return function(a){var c=r.buildVDom(i)(n(o(a)));return t.mkStep(new t.Step(t.extract(c),{thunk:a,vdom:c},u,e))}}}}(n),function(n){var e=function(n){return function(e){return function(){return e[n]}}};n._parentNode=e("parentNode"),n._nextSibling=e("nextSibling"),n.insertBefore=function(n){return function(e){return function(r){return function(){r.insertBefore(n,e)}}}},n.appendChild=function(n){return function(e){return function(){e.appendChild(n)}}},n.removeChild=function(n){return function(e){return function(){e.removeChild(n)}}}}(n["Web.DOM.Node"]=n["Web.DOM.Node"]||{}),function(n){n["Web.DOM.Node"]=n["Web.DOM.Node"]||{};var e,r,t=n["Web.DOM.Node"],i=n["Web.DOM.Node"],o=n["Data.Functor"],u=n["Data.Nullable"],a=n.Effect,c=(e=o.map(a.functorEffect)(u.toMaybe),function(n){return e(i._parentNode(n))}),l=(r=o.map(a.functorEffect)(u.toMaybe),function(n){return r(i._nextSibling(n))});t.parentNode=c,t.nextSibling=l,t.insertBefore=i.insertBefore,t.appendChild=i.appendChild,t.removeChild=i.removeChild}(n),function(n){n["Halogen.VDom.Driver"]=n["Halogen.VDom.Driver"]||{};var e=n["Halogen.VDom.Driver"],r=n["Control.Applicative"],t=n["Control.Bind"],i=n["Control.Category"],o=n["Data.Foldable"],u=n["Data.Functor"],a=n["Data.HeytingAlgebra"],c=n["Data.Maybe"],l=n["Data.Newtype"],s=n["Data.Unit"],f=n.Effect,d=n["Effect.Aff"],w=n["Effect.Class"],h=n["Effect.Ref"],g=n["Halogen.Aff.Driver"],v=n["Halogen.Aff.Driver.State"],m=n["Halogen.Component"],p=n["Halogen.VDom.DOM"],F=n["Halogen.VDom.DOM.Prop"],S=n["Halogen.VDom.Machine"],y=n["Halogen.VDom.Thunk"],b=n["Unsafe.Reference"],I=n["Web.DOM.Node"],C=n["Web.HTML"],R=n["Web.HTML.HTMLDocument"],E=n["Web.HTML.HTMLElement"],W=n["Web.HTML.Window"],P=function(n){return function(){var e=I.parentNode(n.node)();return o.traverse_(f.applicativeEffect)(o.foldableMaybe)((function(e){return I.removeChild(n.node)(e)}))(e)()}},A=function(n){return function(e){return{render:function(t){return function(i){return function(o){return function(d){if(d instanceof c.Nothing)return function(){var r=h.new(i)(),a=function(n){return function(e){return function(r){var t=v.unRenderStateX((function(n){return n.node})),i=function(n){return n instanceof c.Just?S.halt(n.value0):s.unit};return{buildWidget:function(n){var r=y.buildThunk(l.unwrap())(n),o=function(n){var r=h.read(e)()(n)(),o=t(r);return S.mkStep(new S.Step(o,c.Nothing.value,a,i))},u=function(n){if(n instanceof m.ComponentSlot)return o(n.value0);if(n instanceof m.ThunkSlot){var e=r(n.value0);return S.mkStep(new S.Step(S.extract(e),new c.Just(e),a,i))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 85, column 7 - line 90, column 75): "+[n.constructor.name])},a=function(n,e){if(n instanceof c.Just){if(e instanceof m.ComponentSlot)return S.halt(n.value0),o(e.value0);if(e instanceof m.ThunkSlot){var r=S.step(n.value0,e.value0);return S.mkStep(new S.Step(S.extract(r),new c.Just(r),a,i))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 98, column 22 - line 104, column 79): "+[e.constructor.name])}return u(e)};return u},buildAttributes:F.buildProp(n),document:r}}}}(t)(r)(n),d=p.buildVDom(a)(o),w=S.extract(d);return u.void(f.functorEffect)(I.appendChild(w)(E.toNode(e)))(),{machine:d,node:w,renderChildRef:r}};if(d instanceof c.Just)return function(){h.write(i)(d.value0.renderChildRef)();var n=I.parentNode(d.value0.node)(),e=I.nextSibling(d.value0.node)(),t=S.step(d.value0.machine,o),l=S.extract(t);return r.when(f.applicativeEffect)(a.not(a.heytingAlgebraFunction(a.heytingAlgebraFunction(a.heytingAlgebraBoolean)))(b.unsafeRefEq)(d.value0.node)(l))(function(n){return function(e){return function(t){return e instanceof c.Just&&t instanceof c.Just?u.void(f.functorEffect)(I.insertBefore(n)(e.value0)(t.value0)):e instanceof c.Nothing&&t instanceof c.Just?u.void(f.functorEffect)(I.appendChild(n)(t.value0)):r.pure(f.applicativeEffect)(s.unit)}}}(l)(e)(n))(),{machine:t,node:l,renderChildRef:d.value0.renderChildRef}};throw new Error("Failed pattern match at Halogen.VDom.Driver (line 159, column 5 - line 175, column 80): "+[d.constructor.name])}}}},renderChild:i.identity(i.categoryFn),removeChild:P,dispose:P}}};e.runUI=function(n){return function(e){return function(r){return t.bind(d.bindAff)(w.liftEffect(d.monadEffectAff)(u.map(f.functorEffect)(R.toDocument)(t.bindFlipped(f.bindEffect)(W.document)(C.window))))((function(t){return g.runUI(A(t)(r))(n)(e)}))}}}}(n),function(n){n.unsafeStringifyPretty=function(n){return JSON.stringify(n,null,2)}}(n.JSONTransport=n.JSONTransport||{}),function(n){n.JSONTransport=n.JSONTransport||{};var e,r,t,i,o,u,a,c=n.JSONTransport,l=n.JSONTransport,s=n.Common,f=n["Control.Applicative"],d=n["Control.Bind"],w=n["Control.Category"],h=n["Data.Array"],g=n["Data.Either"],v=n["Data.Foldable"],m=n["Data.Functor"],p=n["Data.List.Types"],F=n["Data.Map.Internal"],S=n["Data.Maybe"],y=n["Data.Ord"],b=n["Data.Ordering"],I=n["Data.Pitches.Class"],C=n["Data.Pitches.Spelled"],R=n["Data.Show"],E=n["Data.Symbol"],W=n["Data.Traversable"],P=n["Data.Tuple"],A=n["Data.Unfoldable"],D=n["Data.Variant"],N=n.Folding,x=n.Leftmost,M=n.Model,q=n["Simple.JSON"],T=n["Type.Proxy"],L=m.map(m.functorArray)((function(n){return{time:n.time,notes:m.map(m.functorArray)((function(n){return{hold:n.hold,pitch:n.pitch}}))(n.notes)}})),H=function(n){var e=function(n){return function(e){return{parent:e.value0,children:m.map(m.functorArray)((function(e){return{child:e.child,orn:n(e.orn)}}))(e.value1)}}};return{regular:m.map(m.functorArray)(e((function(n){if(n instanceof g.Left)return new S.Just("RootNote");if(n instanceof g.Right)return m.map(S.functorMaybe)(R.show(M.showDoubleOrnament))(n.value0);throw new Error("Failed pattern match at JSONTransport (line 130, column 15 - line 132, column 26): "+[n.constructor.name])})))(F.toUnfoldable(A.unfoldableArray)(n.regular)),passing:m.map(m.functorArray)(e(m.map(S.functorMaybe)(R.show(M.showDoubleOrnament))))(F.toUnfoldable(A.unfoldableArray)(n.passing)),fromLeft:m.map(m.functorArray)(e(m.map(S.functorMaybe)(R.show(M.showRightOrnament))))(F.toUnfoldable(A.unfoldableArray)(n.fromLeft)),fromRight:m.map(m.functorArray)(e(m.map(S.functorMaybe)(R.show(M.showLeftOrnament))))(F.toUnfoldable(A.unfoldableArray)(n.fromRight)),unexplained:n.unexplained,keepLeft:n.keepLeft,keepRight:n.keepRight,ids:n.ids}},O=function(n){var e=function(n){return function(e){var r=W.sequence(W.traversableArray)(g.applicativeEither)(m.map(m.functorArray)((function(e){return m.map(g.functorEither)((function(n){return{child:e.child,orn:n}}))(n(e.orn))}))(e.children));return m.map(g.functorEither)(P.Tuple.create(e.parent))(r)}},r=function(n){if(n instanceof S.Just&&"RightNeighbor"===n.value0)return g.Right.create(new S.Just(M.RightNeighbor.value));if(n instanceof S.Just&&"RightRepeat"===n.value0)return g.Right.create(new S.Just(M.RightRepeat.value));if(n instanceof S.Just)return g.Left.create("Expected right ornament type but got "+n.value0);if(n instanceof S.Nothing)return new g.Right(S.Nothing.value);throw new Error("Failed pattern match at JSONTransport (line 229, column 23 - line 233, column 29): "+[n.constructor.name])},t=function(n){if(n instanceof S.Just&&"PassingMid"===n.value0)return g.Right.create(new S.Just(M.PassingMid.value));if(n instanceof S.Just&&"PassingLeft"===n.value0)return g.Right.create(new S.Just(M.PassingLeft.value));if(n instanceof S.Just&&"PassingRight"===n.value0)return g.Right.create(new S.Just(M.PassingRight.value));if(n instanceof S.Just)return g.Left.create("Expected passing ornament type but got "+n.value0);if(n instanceof S.Nothing)return new g.Right(S.Nothing.value);throw new Error("Failed pattern match at JSONTransport (line 222, column 25 - line 227, column 29): "+[n.constructor.name])},i=function(n){if(n instanceof S.Just&&"LeftNeighbor"===n.value0)return g.Right.create(new S.Just(M.LeftNeighbor.value));if(n instanceof S.Just&&"LeftRepeat"===n.value0)return g.Right.create(new S.Just(M.LeftRepeat.value));if(n instanceof S.Just)return g.Left.create("Expected left ornament type but got "+n.value0);if(n instanceof S.Nothing)return new g.Right(S.Nothing.value);throw new Error("Failed pattern match at JSONTransport (line 235, column 22 - line 239, column 29): "+[n.constructor.name])};return d.bind(g.bindEither)(m.map(g.functorEither)(F.fromFoldable(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"right"})))(M.ordStartStop(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"pitch"})))(I.ordPitch(C.ordSInterval)))()(new E.IsSymbol((function(){return"id"})))(y.ordString)))))()(new E.IsSymbol((function(){return"left"})))(M.ordStartStop(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"pitch"})))(I.ordPitch(C.ordSInterval)))()(new E.IsSymbol((function(){return"id"})))(y.ordString))))))(v.foldableArray))(W.sequence(W.traversableArray)(g.applicativeEither)(m.map(m.functorArray)(e((function(n){if(n instanceof S.Just&&"RootNote"===n.value0)return g.Right.create(new g.Left(x.RootNote.value));if(n instanceof S.Just&&"FullRepeat"===n.value0)return g.Right.create(g.Right.create(new S.Just(M.FullRepeat.value)));if(n instanceof S.Just&&"FullNeighbor"===n.value0)return g.Right.create(g.Right.create(new S.Just(M.FullNeighbor.value)));if(n instanceof S.Just&&"LeftRepeatOfRight"===n.value0)return g.Right.create(g.Right.create(new S.Just(M.LeftRepeatOfRight.value)));if(n instanceof S.Just&&"RightRepeatOfLeft"===n.value0)return g.Right.create(g.Right.create(new S.Just(M.RightRepeatOfLeft.value)));if(n instanceof S.Just)return g.Left.create("Expected double ornament type but got "+n.value0);if(n instanceof S.Nothing)return g.Right.create(new g.Right(S.Nothing.value));throw new Error("Failed pattern match at JSONTransport (line 213, column 24 - line 220, column 37): "+[n.constructor.name])})))(n.regular))))((function(o){return d.bind(g.bindEither)(m.map(g.functorEither)(F.fromFoldable(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"right"})))(M.ordStartStop(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"pitch"})))(I.ordPitch(C.ordSInterval)))()(new E.IsSymbol((function(){return"id"})))(y.ordString)))))()(new E.IsSymbol((function(){return"left"})))(M.ordStartStop(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"pitch"})))(I.ordPitch(C.ordSInterval)))()(new E.IsSymbol((function(){return"id"})))(y.ordString))))))(v.foldableArray))(W.sequence(W.traversableArray)(g.applicativeEither)(m.map(m.functorArray)(e(t))(n.passing))))((function(t){return d.bind(g.bindEither)(m.map(g.functorEither)(F.fromFoldable(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"pitch"})))(I.ordPitch(C.ordSInterval)))()(new E.IsSymbol((function(){return"id"})))(y.ordString)))(v.foldableArray))(W.sequence(W.traversableArray)(g.applicativeEither)(m.map(m.functorArray)(e(r))(n.fromLeft))))((function(r){return d.bind(g.bindEither)(m.map(g.functorEither)(F.fromFoldable(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"pitch"})))(I.ordPitch(C.ordSInterval)))()(new E.IsSymbol((function(){return"id"})))(y.ordString)))(v.foldableArray))(W.sequence(W.traversableArray)(g.applicativeEither)(m.map(m.functorArray)(e(i))(n.fromRight))))((function(e){return f.pure(g.applicativeEither)({regular:o,passing:t,fromLeft:r,fromRight:e,unexplained:n.unexplained,keepLeft:n.keepLeft,keepRight:n.keepRight,ids:n.ids})}))}))}))}))},J=(e=function(n){return{hold:n.hold,id:n.note.id,pitch:R.show(I.showPitchInst(C.showpitchSInterval))(n.note.pitch)}},m.map(m.functorArray)((function(n){return{time:g.either(w.identity(w.categoryFn))(R.show(s.showMBS))(n.time),notes:m.map(m.functorArray)(e)(n.notes)}}))),_=function(n){return{ties:n.ties,prevTime:g.either(w.identity(w.categoryFn))(R.show(s.showMBS))(n.prevTime)}},U=function(n){if(n instanceof x.LMFreezeLeft)return D.inj()(new E.IsSymbol((function(){return"freezeLeft"})))(T.Proxy.value)(_(n.value0));if(n instanceof x.LMFreezeOnly)return D.inj()(new E.IsSymbol((function(){return"freezeOnly"})))(T.Proxy.value)(_(n.value0));if(n instanceof x.LMSplitLeft)return D.inj()(new E.IsSymbol((function(){return"splitLeft"})))(T.Proxy.value)(H(n.value0));if(n instanceof x.LMSplitOnly)return D.inj()(new E.IsSymbol((function(){return"splitOnly"})))(T.Proxy.value)(H(n.value0));if(n instanceof x.LMSplitRight)return D.inj()(new E.IsSymbol((function(){return"splitRight"})))(T.Proxy.value)(H(n.value0));if(n instanceof x.LMHorizontalize)return D.inj()(new E.IsSymbol((function(){return"hori"})))(T.Proxy.value)(function(n){return{midEdges:n.midEdges,children:m.map(m.functorArray)((function(n){var e=function(){if(n.value1 instanceof x.LeftChild)return D.inj()(new E.IsSymbol((function(){return"leftChild"})))(T.Proxy.value)(n.value1.value0);if(n.value1 instanceof x.RightChild)return D.inj()(new E.IsSymbol((function(){return"rightChild"})))(T.Proxy.value)(n.value1.value0);if(n.value1 instanceof x.BothChildren)return D.inj()(new E.IsSymbol((function(){return"bothChildren"})))(T.Proxy.value)(n.value1.value0);if(n.value1 instanceof x.TooManyChildren)return D.inj()(new E.IsSymbol((function(){return"tooManyChildren"})))(T.Proxy.value)(n.value1.value0);throw new Error("Failed pattern match at JSONTransport (line 146, column 15 - line 150, column 70): "+[n.value1.constructor.name])}();return{parent:n.value0,child:e}}))(F.toUnfoldable(A.unfoldableArray)(n.children)),ids:n.ids,unexplained:n.unexplained}}(n.value0));throw new Error("Failed pattern match at JSONTransport (line 97, column 18 - line 103, column 66): "+[n.constructor.name])},k=function(n){return g.Right.create({ties:n.ties,prevTime:s.parseTime(n.prevTime)})},B=D.on()(new E.IsSymbol((function(){return"hori"})))(T.Proxy.value)((a=m.map(g.functorEither)(x.LMHorizontalize.create),function(n){return a((e=n,r=D.on()(new E.IsSymbol((function(){return"tooManyChildren"})))(T.Proxy.value)(x.TooManyChildren.create)(D.on()(new E.IsSymbol((function(){return"bothChildren"})))(T.Proxy.value)(x.BothChildren.create)(D.on()(new E.IsSymbol((function(){return"rightChild"})))(T.Proxy.value)(x.RightChild.create)(D.on()(new E.IsSymbol((function(){return"leftChild"})))(T.Proxy.value)(x.LeftChild.create)(D.case_)))),g.Right.create({midEdges:e.midEdges,children:F.fromFoldable(y.ordRecord()(y.ordRecordCons(y.ordRecordCons(y.ordRecordNil)()(new E.IsSymbol((function(){return"pitch"})))(I.ordPitch(C.ordSInterval)))()(new E.IsSymbol((function(){return"id"})))(y.ordString)))(v.foldableArray)(m.map(m.functorArray)((function(n){return new P.Tuple(n.parent,r(n.child))}))(e.children)),ids:e.ids,unexplained:e.unexplained})));var e,r}))(D.on()(new E.IsSymbol((function(){return"splitRight"})))(T.Proxy.value)((u=m.map(g.functorEither)(x.LMSplitRight.create),function(n){return u(O(n))}))(D.on()(new E.IsSymbol((function(){return"splitOnly"})))(T.Proxy.value)((o=m.map(g.functorEither)(x.LMSplitOnly.create),function(n){return o(O(n))}))(D.on()(new E.IsSymbol((function(){return"splitLeft"})))(T.Proxy.value)((i=m.map(g.functorEither)(x.LMSplitLeft.create),function(n){return i(O(n))}))(D.on()(new E.IsSymbol((function(){return"freezeOnly"})))(T.Proxy.value)((t=m.map(g.functorEither)(x.LMFreezeOnly.create),function(n){return t(k(n))}))(D.on()(new E.IsSymbol((function(){return"freezeLeft"})))(T.Proxy.value)((r=m.map(g.functorEither)(x.LMFreezeLeft.create),function(n){return r(k(n))}))(D.case_))))));c.pieceToJSON=J,c.modelToJSON=function(n){var e=function(n){return{id:n.id,notes:m.map(M.functorStartStop)(m.map(m.functorArray)((function(n){return n.note})))(n.notes)}};return d.bind(g.bindEither)(N.reductionToLeftmost(n))((function(r){return f.pure(g.applicativeEither)({derivation:m.map(m.functorArray)(U)(r),start:e(n.reduction.start),topSegments:m.map(m.functorArray)((function(n){return{trans:n.trans,rslice:e(n.rslice)}}))(h.fromFoldable(p.foldableList)(n.reduction.segments))})}))},c.pieceFromJSON=function(n){return W.for(S.applicativeMaybe)(W.traversableArray)(n)((function(n){return d.bind(S.bindMaybe)(W.for(S.applicativeMaybe)(W.traversableArray)(n.notes)((function(n){return m.map(S.functorMaybe)((function(e){return{hold:n.hold,note:{pitch:e,id:n.id}}}))(I.parseNotation(I.parsenotationPitch(C.parsenotationSPitch))(n.pitch))})))((function(e){return f.pure(S.applicativeMaybe)({time:s.parseTime(n.time),notes:h.sortBy((function(n){return function(e){return b.invert(y.compare(I.ordPitch(C.ordSInterval))(n.note.pitch)(e.note.pitch))}}))(e)})}))}))},c.modelFromJSON=function(n){return d.bind(g.bindEither)(W.sequence(W.traversableArray)(g.applicativeEither)(m.map(m.functorArray)(B)(n.derivation)))((function(e){return N.leftmostToReduction(n.topSegments)(e)}))},c.addJSONIds=function(n){var e=function(n){return h.mapWithIndex((function(e){return function(r){return{id:"note"+R.show(R.showInt)(n)+"."+R.show(R.showInt)(e),pitch:r.pitch,hold:r.hold}}}))};return h.mapWithIndex((function(n){return function(r){return{notes:e(n)(r.notes),time:r.time}}}))(n)},c.stripJSONIds=L,c.writeJSONPretty=function(n){var e=q.writeImpl(n);return function(n){return l.unsafeStringifyPretty(e(n))}}}(n),function(n){n.Validation=n.Validation||{};var e,r,t=n.Validation,i=n["Control.Applicative"],o=n["Control.Bind"],u=n["Control.Monad.State"],a=n["Control.Monad.State.Class"],c=n["Control.Monad.State.Trans"],l=n["Data.Array"],s=n["Data.Eq"],f=n["Data.Foldable"],d=n["Data.Function"],w=n["Data.Functor"],h=n["Data.Identity"],g=n["Data.List.Types"],v=n["Data.Map.Internal"],m=n["Data.Maybe"],p=n["Data.Monoid"],F=n["Data.Ord"],S=n["Data.Pitches.Class"],y=n["Data.Pitches.Spelled"],b=n["Data.Semigroup"],I=n["Data.Set"],C=n["Data.Symbol"],R=n["Data.Unit"],E=n.Folding,W=n.Model,P=function(){function n(){}return n.value=new n,n}(),A=function(){function n(){}return n.value=new n,n}(),D=function(){function n(){}return n.value=new n,n}(),N=function(){function n(){}return n.value=new n,n}(),x=function(){function n(){}return n.value=new n,n}(),M=function(){function n(){}return n.value=new n,n}(),q=function(n){var e=function(){if(n.expl instanceof W.NoExpl)return new m.Just(A.value);if(n.expl instanceof W.RootExpl)return m.Nothing.value;if(n.expl instanceof W.HoriExpl)return s.eq(S.eqPitch(y.eqSInterval))(n.note.pitch)(n.expl.value0.pitch)?m.Nothing.value:new m.Just(D.value);if(n.expl instanceof W.LeftExpl)return n.expl.value0.orn instanceof m.Nothing?new m.Just(D.value):s.eq(m.eqMaybe(W.eqLeftOrnament))(n.expl.value0.orn)(W.findLeftOrn(n.note.pitch)(n.expl.value0.rightParent))?m.Nothing.value:new m.Just(D.value);if(n.expl instanceof W.RightExpl)return n.expl.value0.orn instanceof m.Nothing?new m.Just(D.value):s.eq(m.eqMaybe(W.eqRightOrnament))(n.expl.value0.orn)(W.findRightOrn(n.note.pitch)(n.expl.value0.leftParent))?m.Nothing.value:new m.Just(D.value);if(n.expl instanceof W.DoubleExpl)return n.expl.value0.orn instanceof m.Nothing?new m.Just(D.value):s.eq(m.eqMaybe(W.eqDoubleOrnament))(n.expl.value0.orn)(W.findDoubleOrn(n.note.pitch)(n.expl.value0.leftParent)(n.expl.value0.rightParent))?m.Nothing.value:new m.Just(D.value);throw new Error("Failed pattern match at Validation (line 55, column 9 - line 84, column 36): "+[n.expl.constructor.name])}();return o.bind(m.bindMaybe)(e)((function(e){return i.pure(m.applicativeMaybe)({id:n.note.id,stat:e})}))},T=function(n){return function(e){return{notes:n.notes instanceof W.Inner?f.foldl(f.foldableArray)((function(n){return function(e){return v.insert(F.ordString)(e.id)(e.stat)(n)}}))(e.notes)(l.catMaybes(w.map(w.functorArray)(q)(n.notes.value0))):e.notes,edges:e.edges,slices:e.slices}}},L={init:function(n){return i.pure(c.applicativeStateT(h.monadIdentity))(R.unit)},freezeLeft:r=function(n){return function(n){return a.modify_(c.monadStateStateT(h.monadIdentity))(T(n.seg.rslice))}},freezeOnly:r,splitLeft:e=function(n){return function(n){return function(e){var r=f.fold(f.foldableArray)(p.monoidRecord()(p.monoidRecordCons(new C.IsSymbol((function(){return"ls"})))(I.monoidSet(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))))()(p.monoidRecordCons(new C.IsSymbol((function(){return"rs"})))(I.monoidSet(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))))()(p.monoidRecordNil))))(l.catMaybes(w.map(w.functorArray)((function(n){return n.expl instanceof W.DoubleExpl?new m.Just({ls:I.singleton({left:new W.Inner(n.expl.value0.leftParent),right:new W.Inner(n.note)}),rs:I.singleton({left:new W.Inner(n.note),right:new W.Inner(n.expl.value0.rightParent)})}):n.expl instanceof W.LeftExpl?new m.Just({ls:I.empty,rs:I.singleton({left:new W.Inner(n.note),right:new W.Inner(n.expl.value0.rightParent)})}):n.expl instanceof W.RightExpl?new m.Just({rs:I.empty,ls:I.singleton({left:new W.Inner(n.expl.value0.leftParent),right:new W.Inner(n.note)})}):m.Nothing.value}))(W.getInnerNotes(e.childl.rslice)))),t=w.map(w.functorArray)((function(n){return I.member(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString))))))(n)(r.ls)?m.Nothing.value:new m.Just({edge:n,stat:N.value})}))(W.transEdges(e.childl.trans)),u=w.map(w.functorArray)((function(n){return I.member(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString))))))(n)(r.rs)?m.Nothing.value:new m.Just({edge:n,stat:N.value})}))(W.transEdges(e.childr.trans));return o.discard(o.discardUnit)(c.bindStateT(h.monadIdentity))(a.modify_(c.monadStateStateT(h.monadIdentity))((function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.edges=f.foldl(f.foldableArray)((function(n){return function(e){return v.insert(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString))))))(e.edge)(e.stat)(n)}}))(n.edges)(l.catMaybes(b.append(b.semigroupArray)(t)(u))),e})))((function(){return i.pure(c.applicativeStateT(h.monadIdentity))(w.map(g.functorList)(E.nothingMore)(new g.Cons(e.childl,new g.Cons(W.attachSegment(e.childr)(n.seg.rslice),g.Nil.value))))}))}}},splitOnly:e,splitRight:function(n){return function(n){return e()}},hori:function(n){return function(n){return function(e){return function(r){return o.discard(o.discardUnit)(c.bindStateT(h.monadIdentity))(a.modify_(c.monadStateStateT(h.monadIdentity))(T(n.seg.rslice)))((function(){return o.discard(o.discardUnit)(c.bindStateT(h.monadIdentity))(i.when(c.applicativeStateT(h.monadIdentity))(!l.all(W.isRepeatingEdge)(r.childm.trans.edges.regular))(a.modify_(c.monadStateStateT(h.monadIdentity))((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.slices=v.insert(W.ordSliceId)(n.seg.rslice.id)(P.value)(e.slices),r}))))((function(){return o.discard(o.discardUnit)(c.bindStateT(h.monadIdentity))(f.for_(c.applicativeStateT(h.monadIdentity))(f.foldableArray)(r.childm.trans.edges.regular)((function(n){return i.when(c.applicativeStateT(h.monadIdentity))(!W.isRepeatingEdge(n))(a.modify_(c.monadStateStateT(h.monadIdentity))((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.edges=v.insert(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString))))))(n)(M.value)(e.edges),r})))})))((function(){return i.pure(c.applicativeStateT(h.monadIdentity))(w.map(g.functorList)(E.nothingMore)(new g.Cons(r.childl,new g.Cons(r.childm,new g.Cons(W.attachSegment(r.childr)(e.seg.rslice),g.Nil.value)))))}))}))}))}}}}},H=new s.Eq((function(n){return function(n){return!0}}));t.NSNoExpl=A,t.NSInvalidExplanation=D,t.ESNotUsed=N,t.ESNotStepwise=x,t.ESNotRepetition=M,t.SSInvalidReduction=P,t.validationIsOk=function(n){return v.isEmpty(n.notes)&&v.isEmpty(n.edges)&&v.isEmpty(n.slices)},t.validateReduction=function(n){var e={notes:v.empty,edges:v.empty,slices:v.empty},r=w.map(g.functorList)(E.nothingMore)(n.segments);return d.flip(u.execState)(e)(E.walkGraph(L)(n.start)(r))},t.eqSliceError=H}(n),function(n){n.ctrlKey=function(n){return n.ctrlKey}}(n["Web.UIEvent.MouseEvent"]=n["Web.UIEvent.MouseEvent"]||{}),function(n){n["Web.UIEvent.MouseEvent"]=n["Web.UIEvent.MouseEvent"]||{};var e=n["Web.UIEvent.MouseEvent"],r=n["Web.UIEvent.MouseEvent"];e.ctrlKey=r.ctrlKey}(n),function(n){n.Render=n.Render||{};var e=n.Render,r=n.CommonApp,t=n["Control.Applicative"],i=n["Control.Bind"],o=n["Data.Array"],u=n["Data.Either"],a=n["Data.Eq"],c=n["Data.EuclideanRing"],l=n["Data.Functor"],s=n["Data.Int"],f=n["Data.List.Types"],d=n["Data.Map.Internal"],w=n["Data.Maybe"],h=n["Data.Ord"],g=n["Data.Pitches.Class"],v=n["Data.Pitches.Spelled"],m=n["Data.Ratio"],p=n["Data.Semigroup"],F=n["Data.Show"],S=n["Data.Symbol"],y=n["Halogen.HTML.Core"],b=n["Halogen.HTML.Elements"],I=n["Halogen.HTML.Events"],C=n["Halogen.HTML.Properties"],R=n["Halogen.Svg.Attributes"],E=n["Halogen.Svg.Elements"],W=n.Model,P=n.Validation,A=n["Web.UIEvent.MouseEvent"],D=function(){function n(){}return n.value=new n,n}(),N=function(){function n(){}return n.value=new n,n}(),x=function(){function n(){}return n.value=new n,n}(),M=w.Just.create(new R.RGB(255,255,255)),q=w.Just.create(new R.RGB(255,165,0)),T=w.Just.create(new R.RGB(135,206,250)),L=w.Just.create(new R.RGB(30,144,255)),H=function(n){return 60*n},O=function(n){return 60*n},J=function(n){return function(e){var r=function(){if(e.time instanceof u.Right)return a.eq(m.eqRatio(a.eqInt))(e.time.value0.s)(m.reduce(h.ordInt)(c.euclideanRingInt)(0)(1))?F.show(F.showInt)(e.time.value0.m)+"."+F.show(F.showInt)(e.time.value0.b):"";if(e.time instanceof u.Left)return e.time.value0;throw new Error("Failed pattern match at Render (line 307, column 11 - line 309, column 20): "+[e.time.constructor.name])}();return E.text([R.x(O(s.toNumber(n+1|0))),R.y(H(-.5)),R.text_anchor(R.AnchorMiddle.value),R.dominant_baseline(R.BaselineMiddle.value)])([y.text(r)])}},_=T,U=function(n){return 20*s.toNumber(n)},k=function(n){return function(e){return function(r){return function(t){return function(i){var o=l.map(l.functorArray)(function(n){return function(e){return b.option([C.value(e.v),C.selected(e.s),I.onClick((function(r){return n(e.k)}))])([y.text(e.v)])}}(r))(p.append(p.semigroupArray)([{k:w.Nothing.value,v:"Nothing",s:!1}])(l.map(l.functorArray)((function(r){return{k:new w.Just(r),v:F.show(n)(r),s:a.eq(w.eqMaybe(e))(new w.Just(r))(t)}}))(i)));return b.select_(o)}}}}},B=w.Just.create(new R.RGB(211,211,211)),V=function(n){return function(e){return n instanceof W.Inner&&e instanceof W.Inner?w.fromMaybe(-1)(o.findIndex((function(e){return a.eq(a.eqRec()(a.eqRowCons(a.eqRowCons(a.eqRowNil)()(new S.IsSymbol((function(){return"pitch"})))(g.eqPitch(v.eqSInterval)))()(new S.IsSymbol((function(){return"id"})))(a.eqString)))(e.note)(n.value0)}))(e.value0)):0}},z=w.Just.create(new R.RGB(255,0,0)),G=new a.Eq((function(n){return function(e){return n instanceof D&&e instanceof D||(n instanceof N&&e instanceof N||n instanceof x&&e instanceof x)}})),Q=[W.FullNeighbor.value,W.FullRepeat.value,W.LeftRepeatOfRight.value,W.RightRepeatOfLeft.value,W.PassingMid.value,W.PassingLeft.value,W.PassingRight.value],j=R.attr("cursor"),K=function(n){return C.class_(n)},X=w.Just.create(new R.RGB(0,0,0));e.renderReduction=function(n){return function(e){return function(u){return function(c){var s=O(e.maxx+2),m=l.map(l.functorArray)(function(n){return function(e){return function(o){return function(u){var c=a.eq(r.eqOuterSelection)(n)(new r.SelTrans(u.id)),s=[j("pointer"),I.onClick((function(n){return new r.Select(c?r.SelNone.value:new r.SelTrans(u.id))}))];return w.fromMaybe(y.text(""))(i.bind(w.bindMaybe)(d.lookup(W.ordSliceId)(u.left)(o))((function(a){return i.bind(w.bindMaybe)(d.lookup(W.ordSliceId)(u.right)(o))((function(i){var o=0===a.depth&&0===i.depth,f=function(t){return function(o){var u=V(o.right)(i.slice.notes),c=V(o.left)(a.slice.notes),l=r.noteIsSelected(n)(o.left)||r.noteIsSelected(n)(o.right);return E.line([R.x1(O(a.slice.x)),R.y1(H(a.depth)+U(c)),R.x2(O(i.slice.x)),R.y2(H(i.depth)+U(u)),R.stroke(function(){if(l)return L;var n=d.lookup(h.ordRecord()(h.ordRecordCons(h.ordRecordCons(h.ordRecordNil)()(new S.IsSymbol((function(){return"right"})))(W.ordStartStop(h.ordRecord()(h.ordRecordCons(h.ordRecordCons(h.ordRecordNil)()(new S.IsSymbol((function(){return"pitch"})))(g.ordPitch(v.ordSInterval)))()(new S.IsSymbol((function(){return"id"})))(h.ordString)))))()(new S.IsSymbol((function(){return"left"})))(W.ordStartStop(h.ordRecord()(h.ordRecordCons(h.ordRecordCons(h.ordRecordNil)()(new S.IsSymbol((function(){return"pitch"})))(g.ordPitch(v.ordSInterval)))()(new S.IsSymbol((function(){return"id"})))(h.ordString))))))(o)(e.edges);return n instanceof w.Just&&n.value0 instanceof P.ESNotUsed?q:n instanceof w.Just&&n.value0 instanceof P.ESNotStepwise||n instanceof w.Just&&n.value0 instanceof P.ESNotRepetition?z:X}()),R.strokeWidth(1),R.attr("stroke-dasharray")(t?"6,3":"")])}},m=p.append(p.semigroupArray)(l.map(l.functorArray)(f(!1))(u.edges.regular))(l.map(l.functorArray)(f(!0))(u.edges.passing)),F=[E.line(p.append(p.semigroupArray)([R.x1(O(a.slice.x)),R.y1(H(a.depth)),R.x2(O(i.slice.x)),R.y2(H(i.depth)),R.stroke(c?L:B),R.strokeWidth(15)])(o?s:[]))];return t.pure(w.applicativeMaybe)(E.g([])(p.append(p.semigroupArray)(F)(m)))}))})))}}}}(c)(u)(e.slices))(o.fromFoldable(f.foldableList)(d.values(e.transitions))),k=l.map(l.functorArray)(function(n){return function(e){return function(t){var i=a.eq(w.eqMaybe(P.eqSliceError))(d.lookup(W.ordSliceId)(t.slice.id)(e.slices))(new w.Just(P.SSInvalidReduction.value)),u=a.eq(r.eqOuterSelection)(n)(new r.SelSlice(t.slice.id)),c=[j("pointer"),I.onClick((function(n){return A.ctrlKey(n)?r.NoOp.value:new r.Select(u?r.SelNone.value:new r.SelSlice(t.slice.id))}))],l=0===t.depth,s=function(n){return function(e){return function(r){return function(t){return function(i){return function(o){var u=E.text([R.x(e),R.y(r),R.text_anchor(R.AnchorMiddle.value),R.dominant_baseline(R.BaselineMiddle.value),R.fill(function(){if(i instanceof w.Nothing)return a.eq(G)(t)(x.value)?M:B;if(i instanceof w.Just&&i.value0 instanceof P.NSNoExpl)return t instanceof N?M:X;if(i instanceof w.Just&&i.value0 instanceof P.NSInvalidExplanation)return q;throw new Error("Failed pattern match at Render (line 142, column 19 - line 147, column 51): "+[i.constructor.name])}())])(n),c=E.rect([R.x(e-O(.24)),R.y(r-.5*U(1)),R.width(O(.48)),R.height(U(1)),R.fill(function(){if(t instanceof D)return M;if(t instanceof N)return L;if(t instanceof x)return T;throw new Error("Failed pattern match at Render (line 130, column 15 - line 133, column 37): "+[t.constructor.name])}())]);return E.g(o)([c,u])}}}}}},f=n instanceof r.SelNote&&o.elem(W.eqSliceId)(t.slice.id)(W.getParents(n.value0.parents));return t.slice.notes instanceof W.Inner?E.g(l?c:[])(p.append(p.semigroupArray)([E.rect([R.x(O(t.slice.x)-O(.24)),R.y(H(t.depth)-H(.24)),R.width(O(.48)),R.height(U(o.length(t.slice.notes.value0)-1|0)+H(.48)),R.fill(M),R.stroke(u?L:f?_:i?z:M)])])(o.mapWithIndex((function(i){return function(o){var u=n instanceof r.SelNote&&W.explHasParent(o.note.id)(n.value0.expl),a=r.noteIsSelected(n)(new W.Inner(o.note)),c=0!==t.depth,l=a?N.value:u?x.value:D.value,w=[y.text(F.show(g.showPitchInst(v.showpitchSInterval))(o.note.pitch)),E.title([])([y.text(o.note.id)])],m=c||f,p=[j("pointer"),I.onClick((function(e){return A.ctrlKey(e)?f?r.addParentToNote(n)(t.slice.id)(o.note):r.NoOp.value:c?new r.Select(a?r.SelNone.value:new r.SelNote({note:o.note,expl:o.expl,parents:t.slice.parents})):r.NoOp.value}))];return s(w)(O(t.slice.x))(H(t.depth)+U(i))(l)(d.lookup(h.ordString)(o.note.id)(e.notes))(m?p:[])}}))(t.slice.notes.value0))):s([y.text(F.show(W.showStartStop(F.showArray(F.showRecord()(F.showRecordFieldsCons(new S.IsSymbol((function(){return"expl"})))(F.showRecordFieldsCons(new S.IsSymbol((function(){return"note"})))(F.showRecordFieldsNil)(F.showRecord()(F.showRecordFieldsCons(new S.IsSymbol((function(){return"id"})))(F.showRecordFieldsCons(new S.IsSymbol((function(){return"pitch"})))(F.showRecordFieldsNil)(g.showPitchInst(v.showpitchSInterval)))(F.showString))))(W.showNoteExplanation)))))(t.slice.notes))])(O(t.slice.x))(H(t.depth))(f?x.value:D.value)(w.Nothing.value)([])}}}(c)(u))(o.fromFoldable(f.foldableList)(d.values(e.slices))),Q=l.map(l.functorArray)(function(n){return function(e){return function(u){var a=function(n){return n.expl instanceof W.HoriExpl?new w.Just({childNote:n.note,parentNote:n.expl.value0}):w.Nothing.value};return w.fromMaybe(y.text(""))(i.bind(w.bindMaybe)(d.lookup(W.ordSliceId)(u.child)(e))((function(c){return i.bind(w.bindMaybe)(d.lookup(W.ordSliceId)(u.parent)(e))((function(e){var i=l.map(l.functorArray)((function(t){var i=V(new W.Inner(t.parentNote))(e.slice.notes),o=V(new W.Inner(t.childNote))(c.slice.notes),u=r.noteIsSelected(n)(new W.Inner(t.parentNote))||r.noteIsSelected(n)(new W.Inner(t.childNote));return E.line([R.x1(O(e.slice.x)),R.y1(H(e.depth)+U(i)),R.x2(O(c.slice.x)),R.y2(H(c.depth)+U(o)),R.stroke(u?L:X),R.strokeWidth(1)])}))(o.catMaybes(l.map(l.functorArray)(a)(W.getInnerNotes(c.slice)))),u=[E.line([R.x1(O(e.slice.x)),R.y1(H(e.depth)),R.x2(O(c.slice.x)),R.y2(H(c.depth)),R.stroke(B),R.strokeWidth(3),R.attr("stroke-dasharray")("10,5")])];return t.pure(w.applicativeMaybe)(E.g([])(p.append(p.semigroupArray)(u)(i)))}))})))}}}(c)(e.slices))(o.fromFoldable(f.foldableList)(e.horis)),K=o.mapWithIndex(J)(n),Y=H(e.maxd+4);return b.div([C.style("overflow-x: scroll; max-width: max-content;")])([E.svg([R.width(s),R.height(Y),R.viewBox(-O(1))(-H(1))(s)(Y)])(p.append(p.semigroupArray)(m)(p.append(p.semigroupArray)(Q)(p.append(p.semigroupArray)(k)(K))))])}}}},e.class_=K,e.renderNoteExplanation=function(n){return function(n){return b.div([K("pure-g"),C.style("height:30px;")])(n instanceof r.SelNote?p.append(p.semigroupArray)([b.div([K("pure-u-1-4")])([y.text(F.show(g.showPitchInst(v.showpitchSInterval))(n.value0.note.pitch)+" ("+n.value0.note.id+") ")])])(function(){if(n.value0.expl instanceof W.NoExpl)return[b.div([K("pure-u-1-4")])([y.text("no parents")])];if(n.value0.expl instanceof W.RootExpl)return[b.div([K("pure-u-1-4")])([y.text("root note")])];if(n.value0.expl instanceof W.HoriExpl)return[b.div([K("pure-u-1-4")])([y.text("parent: "+F.show(g.showPitchInst(v.showpitchSInterval))(n.value0.expl.value0.pitch)+" ("+n.value0.expl.value0.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setHoriExplParent)}))])([y.text("x")])])];if(n.value0.expl instanceof W.LeftExpl)return[b.div([K("pure-u-1-4")])([]),b.div([K("pure-u-1-4")])([k(W.showLeftOrnament)(W.eqLeftOrnament)((function(e){return new r.SetNoteExplanation({noteId:n.value0.note.id,expl:new W.LeftExpl({orn:e,rightParent:n.value0.expl.value0.rightParent})})}))(n.value0.expl.value0.orn)([W.LeftRepeat.value,W.LeftNeighbor.value])]),b.div([K("pure-u-1-4")])([y.text("right parent: "+F.show(g.showPitchInst(v.showpitchSInterval))(n.value0.expl.value0.rightParent.pitch)+" ("+n.value0.expl.value0.rightParent.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setRightExplParent)}))])([y.text("x")])])];if(n.value0.expl instanceof W.RightExpl)return[b.div([K("pure-u-1-4")])([y.text("left parent: "+F.show(g.showPitchInst(v.showpitchSInterval))(n.value0.expl.value0.leftParent.pitch)+" ("+n.value0.expl.value0.leftParent.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setLeftExplParent)}))])([y.text("x")])]),b.div([K("pure-u-1-4")])([k(W.showRightOrnament)(W.eqRightOrnament)((function(e){return new r.SetNoteExplanation({noteId:n.value0.note.id,expl:new W.RightExpl({orn:e,leftParent:n.value0.expl.value0.leftParent})})}))(n.value0.expl.value0.orn)([W.RightRepeat.value,W.RightNeighbor.value])])];if(n.value0.expl instanceof W.DoubleExpl)return[b.div([K("pure-u-1-4")])([y.text("left parent: "+F.show(g.showPitchInst(v.showpitchSInterval))(n.value0.expl.value0.leftParent.pitch)+" ("+n.value0.expl.value0.leftParent.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setLeftExplParent)}))])([y.text("x")])]),b.div([K("pure-u-1-4")])([k(W.showDoubleOrnament)(W.eqDoubleOrnament)((function(e){return new r.SetNoteExplanation({noteId:n.value0.note.id,expl:new W.DoubleExpl({orn:e,leftParent:n.value0.expl.value0.leftParent,rightParent:n.value0.expl.value0.rightParent})})}))(n.value0.expl.value0.orn)(Q)]),b.div([K("pure-u-1-4")])([y.text("right parent: "+F.show(g.showPitchInst(v.showpitchSInterval))(n.value0.expl.value0.rightParent.pitch)+" ("+n.value0.expl.value0.rightParent.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setRightExplParent)}))])([y.text("x")])])];throw new Error("Failed pattern match at Render (line 364, column 12 - line 414, column 16): "+[n.value0.expl.constructor.name])}()):[b.div([K("pure-u-1")])([y.text("No note selected.")])])}}}(n),function(n){n.copyToClipboard=n=>()=>navigator.clipboard.writeText(n),n.examplePieceJSON=[{time:"0.4.3/4",notes:[{pitch:"D5",hold:!1}]},{time:"1.1.0",notes:[{pitch:"D5",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.1.1/4",notes:[{pitch:"A4",hold:!1},{pitch:"D3",hold:!1}]}],n.examplePieceJSONLong=[{time:"0.4.3/4",notes:[{pitch:"D5",hold:!1}]},{time:"1.1.0",notes:[{pitch:"D5",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.1.1/4",notes:[{pitch:"A4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.1.1/2",notes:[{pitch:"Bb4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.1.3/4",notes:[{pitch:"G4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.2.0",notes:[{pitch:"A4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.2.1/4",notes:[{pitch:"F4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.2.1/2",notes:[{pitch:"E4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.2.3/4",notes:[{pitch:"D4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.3.0",notes:[{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.3.1/4",notes:[{pitch:"Bb4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.3.1/2",notes:[{pitch:"E5",hold:!1},{pitch:"Bb4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.3.3/4",notes:[{pitch:"G5",hold:!0},{pitch:"Bb4",hold:!1},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.4.0",notes:[{pitch:"G5",hold:!1},{pitch:"A4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.4.1/4",notes:[{pitch:"G5",hold:!1},{pitch:"A4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.4.1/2",notes:[{pitch:"F5",hold:!1},{pitch:"A4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.4.3/4",notes:[{pitch:"E5",hold:!1},{pitch:"A4",hold:!0},{pitch:"C#4",hold:!1},{pitch:"D3",hold:!0}]},{time:"2.1.0",notes:[{pitch:"G5",hold:!1},{pitch:"A4",hold:!0},{pitch:"D4",hold:!0},{pitch:"D3",hold:!0}]},{time:"2.1.1/4",notes:[{pitch:"F5",hold:!1},{pitch:"A4",hold:!0},{pitch:"D4",hold:!1},{pitch:"D3",hold:!1}]},{time:"2.1.1/2",notes:[{pitch:"E5",hold:!1},{pitch:"A4",hold:!0},{pitch:"A3",hold:!0}]},{time:"2.1.3/4",notes:[{pitch:"D5",hold:!1},{pitch:"A4",hold:!1},{pitch:"A3",hold:!1}]},{time:"2.2.0",notes:[{pitch:"F5",hold:!1},{pitch:"D4",hold:!1}]}]}(n.Utils=n.Utils||{}),function(n){n.Utils=n.Utils||{};var e=n.Utils,r=n.Utils,t=n["Data.Maybe"],i=n.JSONTransport,o=i.addJSONIds(r.examplePieceJSON),u=i.addJSONIds(r.examplePieceJSONLong),a=t.fromJust()(i.pieceFromJSON(u)),c=t.fromJust()(i.pieceFromJSON(o));e.examplePiece=c,e.examplePieceLong=a,e.copyToClipboard=r.copyToClipboard}(n);var e,r=!1;function t(){var n,t;return r||(r=!0,n=e={},t=function(){return function n(e,r,t){var i,o,u=window,a="application/octet-stream",c=t||a,l=e,s=!r&&!t&&l,f=document.createElement("a"),d=function(n){return String(n)},w=u.Blob||u.MozBlob||u.WebKitBlob||d,h=r||"download";if(w=w.call?w.bind(u):Blob,"true"===String(this)&&(c=(l=[l,c])[0],l=l[1]),s&&s.length<2048&&(h=s.split("/").pop().split("?")[0],f.href=s,-1!==f.href.indexOf(s))){var g=new XMLHttpRequest;return g.open("GET",s,!0),g.responseType="blob",g.onload=function(e){n(e.target.response,h,a)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&w!==d))return navigator.msSaveBlob?navigator.msSaveBlob(F(l),h):S(l);c=(l=F(l)).type||a}else if(/([\x80-\xff])/.test(l)){for(var v=0,m=new Uint8Array(l.length),p=m.length;v<p;++v)m[v]=l.charCodeAt(v);l=new w([m],{type:c})}function F(n){for(var e=n.split(/[:;,]/),r=e[1],t=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),i=t.length,o=0,u=new Uint8Array(i);o<i;++o)u[o]=t.charCodeAt(o);return new w([u],{type:r})}function S(n,e){if("download"in f)return f.href=n,f.setAttribute("download",h),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout((function(){f.click(),document.body.removeChild(f),!0===e&&setTimeout((function(){u.URL.revokeObjectURL(f.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(n)&&(n="data:"+n.replace(/^data:([\w\/\-\+]+)/,a)),window.open(n)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=n),!0;var r=document.createElement("iframe");document.body.appendChild(r),!e&&/^data:/.test(n)&&(n="data:"+n.replace(/^data:([\w\/\-\+]+)/,a)),r.src=n,setTimeout((function(){document.body.removeChild(r)}),333)}if(i=l instanceof w?l:new w([l],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(i,h);if(u.URL)S(u.URL.createObjectURL(i),!0);else{if("string"==typeof i||i.constructor===d)try{return S("data:"+c+";base64,"+u.btoa(i))}catch(n){return S("data:"+c+","+encodeURIComponent(i))}(o=new FileReader).onload=function(n){S(this.result)},o.readAsDataURL(i)}return!0}},"object"==typeof e?e=t():n.download=t()),e}!function(n){const e=t();n.download_=function(n){return function(r){return function(t){return function(){return Boolean(e(n,r,t))}}}}}(n["Web.DownloadJs"]=n["Web.DownloadJs"]||{}),function(n){n["Web.DownloadJs"]=n["Web.DownloadJs"]||{};var e=n["Web.DownloadJs"],r=n["Web.DownloadJs"],t=n.Foreign,i=new function(n){this.toDownloadData=n}(t.unsafeToForeign);e.download=function(n){return function(e){return r.download_(n.toDownloadData(e))}},e.dlString=i}(n),function(n){n["Web.File.File"]=n["Web.File.File"]||{};var e=n["Web.File.File"],r=n["Unsafe.Coerce"].unsafeCoerce;e.toBlob=r}(n),function(n){n.fileReader=function(){return new FileReader},n.result=function(n){return function(){return n.result}},n.readAsText=function(n){return function(e){return function(){e.readAsText(n)}}}}(n["Web.File.FileReader"]=n["Web.File.FileReader"]||{}),function(n){n["Web.File.FileReader"]=n["Web.File.FileReader"]||{};var e=n["Web.File.FileReader"],r=n["Web.File.FileReader"],t=n["Unsafe.Coerce"].unsafeCoerce;e.toEventTarget=t,e.fileReader=r.fileReader,e.result=r.result,e.readAsText=r.readAsText}(n),function(n){n["Web.File.FileReader.Aff"]=n["Web.File.FileReader.Aff"]||{};var e,r=n["Web.File.FileReader.Aff"],t=n["Control.Monad.Except"],i=n["Data.Either"],o=n["Data.Identity"],u=n["Data.List.Types"],a=n["Data.Monoid"],c=n["Data.Show"],l=n["Effect.Aff"],s=n["Effect.Exception"],f=n.Foreign,d=n["Web.Event.EventTarget"],w=n["Web.File.FileReader"],h=n["Web.HTML.Event.EventTypes"],g=(e=f.readString(o.monadIdentity),function(n){return function(r){return l.makeAff((function(o){var g=function(n){return o(i.Right.create(n))},v=function(n){return o(i.Left.create(n))};return function(){var o=w.fileReader(),m=w.toEventTarget(o),p=d.eventListener((function(n){return v(s.error("error"))}))(),F=d.eventListener((function(n){return function(){var n=w.result(o)();return i.either((function(n){return v(s.error(c.show(u.showNonEmptyList(f.showForeignError))(n)))}))(g)(t.runExcept(e(n)))()}}))();return d.addEventListener(h.error)(p)(!1)(m)(),d.addEventListener(h.load)(F)(!1)(m)(),n(r)(o)(),a.mempty(l.monoidCanceler)}}))}})(w.readAsText);r.readAsText=g}(n),function(n){n.key=function(n){return n.key}}(n["Web.UIEvent.KeyboardEvent"]=n["Web.UIEvent.KeyboardEvent"]||{}),function(n){n["Web.UIEvent.KeyboardEvent"]=n["Web.UIEvent.KeyboardEvent"]||{};var e=n["Web.UIEvent.KeyboardEvent"],r=n["Web.UIEvent.KeyboardEvent"],t=n["Unsafe.Coerce"],i=n["Web.Internal.FFI"],o=t.unsafeCoerce,u=i.unsafeReadProtoTagged("KeyboardEvent");e.fromEvent=u,e.toEvent=o,e.key=r.key}(n),function(n){n["Web.UIEvent.KeyboardEvent.EventTypes"]=n["Web.UIEvent.KeyboardEvent.EventTypes"]||{};n["Web.UIEvent.KeyboardEvent.EventTypes"].keyup="keyup"}(n),function(n){n.Main=n.Main||{};var e=n.Main,r=n.Common,t=n.CommonApp,i=n["Control.Applicative"],o=n["Control.Apply"],u=n["Control.Bind"],a=n["Control.Monad.State.Class"],c=n["DOM.HTML.Indexed.InputAcceptType"],l=n["DOM.HTML.Indexed.InputType"],s=n["Data.Boolean"],f=n["Data.Either"],d=n["Data.Eq"],w=n["Data.Foldable"],h=n["Data.Function"],g=n["Data.Functor"],v=n["Data.List"],m=n["Data.List.Types"],p=n["Data.Maybe"],F=n["Data.Monoid"],S=n["Data.Ord"],y=n["Data.Pitches.Class"],b=n["Data.Pitches.Spelled"],I=n["Data.Semigroup"],C=n["Data.Show"],R=n["Data.Symbol"],E=n["Data.Unit"],W=n.Effect,P=n["Effect.Aff"],A=n["Effect.Aff.Class"],D=n["Effect.Class"],N=n["Effect.Class.Console"],x=n.Folding,M=n.Foreign,q=n["Halogen.Aff.Util"],T=n["Halogen.Component"],L=n["Halogen.HTML"],H=n["Halogen.HTML.Core"],O=n["Halogen.HTML.Elements"],J=n["Halogen.HTML.Events"],_=n["Halogen.HTML.Properties"],U=n["Halogen.Query.Event"],k=n["Halogen.Query.HalogenM"],B=n["Halogen.VDom.Driver"],V=n.JSONTransport,z=n.Leftmost,G=n.Model,Q=n.Render,j=n["Simple.JSON"],K=n["Type.Proxy"],X=n.Utils,Y=n.Validation,Z=n["Web.DownloadJs"],$=n["Web.Event.Event"],nn=n["Web.File.File"],en=n["Web.File.FileReader.Aff"],rn=n["Web.HTML"],tn=n["Web.HTML.HTMLDocument"],on=n["Web.HTML.Window"],un=n["Web.UIEvent.KeyboardEvent"],an=n["Web.UIEvent.KeyboardEvent.EventTypes"],cn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),ln=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),sn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),fn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),dn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),wn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),hn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),gn=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),vn=function(){function n(){}return n.value=new n,n}(),mn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),pn=function(n){return function(e){return function(r){return function(o){return function(c){return u.bind(e.Monad0().Bind1())(a.get(n))((function(l){var s=u.bind(p.bindMaybe)(r(l.selected))((function(n){return u.bind(p.bindMaybe)(l.model)((function(e){return i.pure(p.applicativeMaybe)({sel:n,model:e})}))}));if(s instanceof p.Nothing)return i.pure(e.Monad0().Applicative0())(E.unit);if(s instanceof p.Just){var d=o(s.value0.sel)(s.value0.model);if(d instanceof f.Left)return N.log(e)(d.value0);if(d instanceof f.Right)return a.put(n)(function(){var n={};for(var e in l)({}).hasOwnProperty.call(l,e)&&(n[e]=l[e]);return n.model=new p.Just(d.value0),n.selected=c?t.SelNone.value:l.selected,n}());throw new Error("Failed pattern match at Main (line 84, column 28 - line 86, column 111): "+[d.constructor.name])}throw new Error("Failed pattern match at Main (line 82, column 3 - line 86, column 111): "+[s.constructor.name])}))}}}}},Fn=function(n){return function(e){return function(r){return O.li([Q.class_("pure-menu-item"+(d.eq(p.eqMaybe(t.eqTab))(n.tab)(new p.Just(e))?" pure-menu-selected":""))])([O.a([Q.class_("pure-menu-link"),J.onClick((function(r){return new t.SwitchTab(d.eq(p.eqMaybe(t.eqTab))(n.tab)(new p.Just(e))?p.Nothing.value:new p.Just(e))})),_.href("javascript:;")])([H.text(r)])])}}},Sn=function(n){var e,r=(e=function(e){return function(t){if(e instanceof p.Nothing)return i.pure(k.applicativeHalogenM)(E.unit);if(e instanceof p.Just)return u.bind(k.bindHalogenM)(A.liftAff(k.monadAffHalogenM(n))(en.readAsText(nn.toBlob(e.value0))))((function(n){return r(t(n))}));throw new Error("Failed pattern match at Main (line 345, column 25 - line 349, column 40): "+[e.constructor.name])}},function(n){if(n instanceof cn)return a.modify_(k.monadStateHalogenM)((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.modelText=n.value0,r}));if(n instanceof ln)return a.modify_(k.monadStateHalogenM)((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.pieceText=n.value0,r}));if(n instanceof sn)return e(n.value0)(cn.create);if(n instanceof fn)return e(n.value0)(ln.create);if(n instanceof dn)return k.raise(new t.ImportPiece(n.value0));if(n instanceof wn)return k.raise(new t.ImportModel(n.value0));throw new Error("Failed pattern match at Main (line 337, column 24 - line 343, column 49): "+[n.constructor.name])});return T.mkComponent({initialState:function(n){return{modelText:"",pieceText:""}},render:function(n){var e=function(n){return f.Left.create("Errors parsing JSON:\n  "+w.intercalate(m.foldableNonEmptyList)(F.monoidString)("\n  ")(g.map(m.functorNonEmptyList)(M.renderForeignError)(n)))},r=function(){var r=j.readJSON(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"notes"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"hold"})))(j.readBoolean)(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(j.readString)(j.readFieldsNil)()())()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"time"})))(j.readString)(j.readFieldsNil)()())()())))(n.pieceText);if(r instanceof f.Right){if((t=V.pieceFromJSON(r.value0))instanceof p.Just)return f.Right.create(f.Right.create(G.loadPiece(t.value0)));if(t instanceof p.Nothing)return new f.Left("Invalid piece!");throw new Error("Failed pattern match at Main (line 326, column 21 - line 328, column 41): "+[t.constructor.name])}if(r instanceof f.Left){var t;if((t=j.readJSON(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"notes"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"hold"})))(j.readBoolean)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(j.readString)(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"time"})))(j.readString)(j.readFieldsNil)()())()())))(n.pieceText))instanceof f.Right){var i=V.pieceFromJSON(V.addJSONIds(t.value0));if(i instanceof p.Just)return f.Right.create(f.Left.create(G.loadPiece(i.value0)));if(i instanceof p.Nothing)return new f.Left("Invalid piece!");throw new Error("Failed pattern match at Main (line 330, column 28 - line 332, column 43): "+[i.constructor.name])}if(t instanceof f.Left)return e(d.eq(m.eqNonEmptyList(M.eqForeignError))(r.value0)(t.value0)?r.value0:I.append(m.semigroupNonEmptyList)(r.value0)(t.value0));throw new Error("Failed pattern match at Main (line 329, column 21 - line 333, column 84): "+[t.constructor.name])}throw new Error("Failed pattern match at Main (line 325, column 19 - line 333, column 84): "+[r.constructor.name])}(),t=f.either(e)(V.modelFromJSON)(j.readJSON(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"derivation"})))(j.readArray(j.readForeignVariant()(j.readVariantCons(new R.IsSymbol((function(){return"freezeLeft"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"prevTime"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"ties"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))()(j.readVariantCons(new R.IsSymbol((function(){return"freezeOnly"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"prevTime"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"ties"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))()(j.readVariantCons(new R.IsSymbol((function(){return"hori"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readForeignVariant()(j.readVariantCons(new R.IsSymbol((function(){return"bothChildren"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()()))()(j.readVariantCons(new R.IsSymbol((function(){return"leftChild"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))()(j.readVariantCons(new R.IsSymbol((function(){return"rightChild"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))()(j.readVariantCons(new R.IsSymbol((function(){return"tooManyChildren"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))()(j.readVariantNil))))))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"ids"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"lslice"})))(G.readForeignSliceId)(j.readFieldsCons(new R.IsSymbol((function(){return"mid"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"rslice"})))(G.readForeignSliceId)(j.readFieldsNil)()())()())()())()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"midEdges"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"passing"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"regular"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"unexplained"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())()())()()))()(j.readVariantCons(new R.IsSymbol((function(){return"splitLeft"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"fromLeft"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"fromRight"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"ids"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"slice"})))(G.readForeignSliceId)(j.readFieldsNil)()())()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"keepLeft"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"keepRight"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"passing"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"regular"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"unexplained"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())()())()())()())()())()())()()))()(j.readVariantCons(new R.IsSymbol((function(){return"splitOnly"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"fromLeft"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"fromRight"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"ids"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"slice"})))(G.readForeignSliceId)(j.readFieldsNil)()())()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"keepLeft"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"keepRight"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"passing"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"regular"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"unexplained"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())()())()())()())()())()())()()))()(j.readVariantCons(new R.IsSymbol((function(){return"splitRight"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"fromLeft"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"fromRight"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"ids"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"slice"})))(G.readForeignSliceId)(j.readFieldsNil)()())()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"keepLeft"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"keepRight"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"passing"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"regular"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"children"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"child"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"orn"})))(j.readMaybe(j.readString))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"parent"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"unexplained"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())()())()())()())()())()())()()))()(j.readVariantNil)))))))))(j.readFieldsCons(new R.IsSymbol((function(){return"start"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(G.readForeignSliceId)(j.readFieldsCons(new R.IsSymbol((function(){return"notes"})))(G.readForeignStartStop(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"topSegments"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"rslice"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(G.readForeignSliceId)(j.readFieldsCons(new R.IsSymbol((function(){return"notes"})))(G.readForeignStartStop(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()()))))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"trans"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"edges"})))(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"passing"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"regular"})))(j.readArray(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"left"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsCons(new R.IsSymbol((function(){return"right"})))(G.readForeignStartStop(j.readRecord()(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(j.readString)(j.readFieldsCons(new R.IsSymbol((function(){return"pitch"})))(y.readForeignPitch(b.readForeignSPitch))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()()))(j.readFieldsCons(new R.IsSymbol((function(){return"id"})))(G.readForeignTransId)(j.readFieldsCons(new R.IsSymbol((function(){return"is2nd"})))(j.readBoolean)(j.readFieldsNil)()())()())()()))(j.readFieldsNil)()())()())))(j.readFieldsNil)()())()())()()))(n.modelText));return O.div([Q.class_("tab")])([O.button([Q.class_("pure-button"),J.onClick((function(n){return new dn(X.examplePiece)}))])([H.text("Load Example")]),O.button([Q.class_("pure-button"),J.onClick((function(n){return new dn(X.examplePieceLong)}))])([H.text("Load Example (Long)")]),O.div_([O.h3_([H.text("Import Piece")]),O.div_([O.label([_.for("upload-piece")])([H.text("Choose a file: ")]),O.input([_.type_(H.isPropInputType)(l.InputFile.value),_.name("upload-piece"),_.accept([new c.AcceptFileExtension(".json")]),J.onFileUpload(m.unfoldableList)((function(n){return fn.create(v.head(n))}))])]),O.p_([H.text("or enter JSON directly:")]),O.textarea([_.value(n.pieceText),J.onValueInput(ln.create)]),function(){if(""===n.pieceText)return H.text("");if(r instanceof f.Left)return O.p([Q.class_("alert")])([H.text("Invalid input:  "),O.pre_([H.text(r.value0)])]);if(r instanceof f.Right){if(r.value0 instanceof f.Left)return O.div_([O.p_([H.text("Input valid, but no (or not all) IDs were given. Use generated IDs?")]),O.button([Q.class_("pure-button pure-button-primary"),J.onClick(h.const(new wn(r.value0.value0)))])([H.text("Import Piece (New IDs)")])]);if(r.value0 instanceof f.Right)return O.div_([O.p_([H.text("Input valid!")]),O.button([Q.class_("pure-button pure-button-primary"),J.onClick(h.const(new wn(r.value0.value0)))])([H.text("Import Piece")])]);throw new Error("Failed pattern match at Main (line 282, column 30 - line 294, column 22): "+[r.value0.constructor.name])}throw new Error("Failed pattern match at Main (line 280, column 18 - line 294, column 22): "+[r.constructor.name])}()]),O.div_([O.h3_([H.text("Import Analysis")]),O.div_([O.label([_.for("upload-analysis")])([H.text("Choose a file: ")]),O.input([_.type_(H.isPropInputType)(l.InputFile.value),_.name("upload-analysis"),_.accept([new c.AcceptFileExtension(".json")]),J.onFileUpload(m.unfoldableList)((function(n){return sn.create(v.head(n))}))])]),O.p_([H.text("or enter JSON directly:")]),O.textarea([_.value(n.modelText),J.onValueInput(cn.create)]),function(){if(""===n.modelText)return H.text("");if(t instanceof f.Left)return O.p([Q.class_("alert")])([H.text("Invalid input:  "),O.pre_([H.text(t.value0)])]);if(t instanceof f.Right)return O.div_([O.p_([H.text("Input valid!")]),O.button([Q.class_("pure-button pure-button-primary"),J.onClick(h.const(new wn(t.value0)))])([H.text("Import Analysis")])]);throw new Error("Failed pattern match at Main (line 311, column 18 - line 318, column 20): "+[t.constructor.name])}()])])},eval:T.mkEval({handleAction:r,handleQuery:T.defaultEval.handleQuery,receive:T.defaultEval.receive,initialize:T.defaultEval.initialize,finalize:T.defaultEval.finalize})})},yn=O.div([Q.class_("tab")])([O.h2_([H.text("Manual")]),O.p_([H.text("This app can be used to create protovoice analyses of pieces.")]),O.p_([H.text("Load pieces or analyses using the Import tab. Save analyses using the Export tab.")]),O.p_([H.text("A piece is analyzed by reducing it using outer structure operations. "),H.text("Reducing a slice creates a 'split' operation, reducing a transition creates a horizontalization. "),H.text("Select a top-level slice or transition and press Enter to reduce it. "),H.text("Pressing Backspace removes the operation below the selected slice or transition, if possible. ")]),O.p_([H.text('The inner structure is determined by providing an "explanation" for every note. '),H.text("This done by selecting the parent(s) of a note: "),H.text("Click on a note in a slice below the top-level to select it. "),H.text("Then hold CTRL and click on a note in one of its parent slices. "),H.text("For notes that result from a split, you also have to provide the type of operation. "),H.text("This is automatically determined from to the selected pitches, but can be overriden if desired. "),H.text("Split notes can have either one (left/right ornament) or two parents (double-parent ornament). "),H.text('Double-parent ornaments create new "mandatory edges", which must be used in the next reduction step.'),H.text("Correctly reduced notes are shown in grey, unreduced notes are shown in black, and inconsistencies are shown in orange or red.")])]),bn=function(n){return T.mkComponent({initialState:function(n){return{model:n,pretty:!1}},render:function(n){if(n.model instanceof p.Nothing)return H.text("");if(n.model instanceof p.Just){var e=Y.validateReduction(n.model.value0.reduction),t=V.modelToJSON(n.model.value0),i=g.map(f.functorEither)(n.pretty?V.writeJSONPretty(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"derivation"})))(j.writeForeignArray(j.writeForeignVariant()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"freezeLeft"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"prevTime"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"ties"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"freezeOnly"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"prevTime"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"ties"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"hori"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.writeForeignVariant()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"bothChildren"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"leftChild"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"rightChild"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"tooManyChildren"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))()(j.nilWriteForeignVariant))))))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"ids"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"lslice"})))(G.writeForeignSliceId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"mid"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"rslice"})))(G.writeForeignSliceId)(j.nilWriteForeignFields)()()())()()())()()())()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"midEdges"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"unexplained"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"splitLeft"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"ids"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"slice"})))(G.writeForeignSliceId)(j.nilWriteForeignFields)()()())()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"unexplained"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"splitOnly"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"ids"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"slice"})))(G.writeForeignSliceId)(j.nilWriteForeignFields)()()())()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"unexplained"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"splitRight"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"ids"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"slice"})))(G.writeForeignSliceId)(j.nilWriteForeignFields)()()())()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"unexplained"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(j.nilWriteForeignVariant)))))))))(j.consWriteForeignFields(new R.IsSymbol((function(){return"start"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(G.writeForeignSliceId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"notes"})))(G.writeForeignStartStop(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"topSegments"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"rslice"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(G.writeForeignSliceId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"notes"})))(G.writeForeignStartStop(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"trans"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"edges"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"is2nd"})))(j.writeForeignBoolean)(j.nilWriteForeignFields)()()())()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())()()())):j.writeJSON(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"derivation"})))(j.writeForeignArray(j.writeForeignVariant()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"freezeLeft"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"prevTime"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"ties"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"freezeOnly"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"prevTime"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"ties"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"hori"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.writeForeignVariant()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"bothChildren"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"leftChild"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"rightChild"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"tooManyChildren"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))()(j.nilWriteForeignVariant))))))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"ids"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"lslice"})))(G.writeForeignSliceId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"mid"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"rslice"})))(G.writeForeignSliceId)(j.nilWriteForeignFields)()()())()()())()()())()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"midEdges"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"unexplained"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"splitLeft"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"ids"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"slice"})))(G.writeForeignSliceId)(j.nilWriteForeignFields)()()())()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"unexplained"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"splitOnly"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"ids"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"slice"})))(G.writeForeignSliceId)(j.nilWriteForeignFields)()()())()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"unexplained"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(j.consWriteForeignVariant(new R.IsSymbol((function(){return"splitRight"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"fromRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"ids"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"slice"})))(G.writeForeignSliceId)(j.nilWriteForeignFields)()()())()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepLeft"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"keepRight"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"children"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"child"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"orn"})))(j.writeForeignMaybe(j.writeForeignString))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"parent"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"unexplained"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(j.nilWriteForeignVariant)))))))))(j.consWriteForeignFields(new R.IsSymbol((function(){return"start"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(G.writeForeignSliceId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"notes"})))(G.writeForeignStartStop(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"topSegments"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"rslice"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(G.writeForeignSliceId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"notes"})))(G.writeForeignStartStop(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()()))))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"trans"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"edges"})))(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"passing"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"regular"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"left"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"right"})))(G.writeForeignStartStop(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(y.writeForeignPitch(b.writeForeignSPitch))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()()))(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(G.writeForeignTransId)(j.consWriteForeignFields(new R.IsSymbol((function(){return"is2nd"})))(j.writeForeignBoolean)(j.nilWriteForeignFields)()()())()()())()()()))(j.nilWriteForeignFields)()()())()()())))(j.nilWriteForeignFields)()()())()()())()()())))(t),o=u.bindFlipped(f.bindEither)(V.modelFromJSON)(t);return O.div([Q.class_("tab")])([Y.validationIsOk(e)?H.text(""):O.p([Q.class_("alert")])([H.text("Warning: reduction is incomplete and/or contains errors.")]),O.h3_([H.text("JSON String")]),function(){if(i instanceof f.Right)return O.div_([O.div([Q.class_("pure-g")])([O.div([Q.class_("pure-u-3-5")])([O.input([_.type_(H.isPropInputType)(l.InputCheckbox.value),_.checked(n.pretty),J.onChange((function(n){return vn.value})),_.name("prettyJSON")]),O.label([_.for("prettyJSON")])([H.text(" pretty")])]),O.button([Q.class_("pure-button pure-u-1-5"),J.onClick((function(n){return new hn(i.value0)}))])([H.text("Copy to Clipboard")]),O.button([Q.class_("pure-button pure-button-primary pure-u-1-5"),J.onClick((function(n){return new gn("analysis.json",i.value0)}))])([H.text("Download")])]),O.pre_([H.text(i.value0)])]);if(i instanceof f.Left)return O.p([Q.class_("alert")])([H.text("Cannot serialize reduction to JSON:"+i.value0)]);throw new Error("Failed pattern match at Main (line 392, column 13 - line 418, column 109): "+[i.constructor.name])}(),O.div_(function(){if(o instanceof f.Left)return[H.text("Error re-reading reduction: "+o.value0)];if(o instanceof f.Right){if(d.eq(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"reduction"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"start"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"x"})))(d.eqNumber))()(new R.IsSymbol((function(){return"parents"})))(G.eqParents(G.eqSliceId)))()(new R.IsSymbol((function(){return"notes"})))(G.eqStartStop(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"note"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))()(new R.IsSymbol((function(){return"expl"})))(G.eqNoteExplanation))))))()(new R.IsSymbol((function(){return"id"})))(G.eqSliceId))))()(new R.IsSymbol((function(){return"segments"})))(m.eqList(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"trans"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"is2nd"})))(d.eqBoolean))()(new R.IsSymbol((function(){return"id"})))(G.eqTransId))()(new R.IsSymbol((function(){return"edges"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"regular"})))(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"right"})))(G.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString)))))()(new R.IsSymbol((function(){return"left"})))(G.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))))))()(new R.IsSymbol((function(){return"passing"})))(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"right"})))(G.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString)))))()(new R.IsSymbol((function(){return"left"})))(G.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))))))))))()(new R.IsSymbol((function(){return"rslice"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"x"})))(d.eqNumber))()(new R.IsSymbol((function(){return"parents"})))(G.eqParents(G.eqSliceId)))()(new R.IsSymbol((function(){return"notes"})))(G.eqStartStop(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"note"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))()(new R.IsSymbol((function(){return"expl"})))(G.eqNoteExplanation))))))()(new R.IsSymbol((function(){return"id"})))(G.eqSliceId))))()(new R.IsSymbol((function(){return"op"})))(G.eqOp)))))()(new R.IsSymbol((function(){return"nextTransId"})))(G.eqTransId))()(new R.IsSymbol((function(){return"nextSliceId"})))(G.eqSliceId))))()(new R.IsSymbol((function(){return"piece"})))(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"time"})))(f.eqEither(d.eqString)(r.eqMBS)))()(new R.IsSymbol((function(){return"notes"})))(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"note"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))()(new R.IsSymbol((function(){return"hold"})))(d.eqBoolean)))))))))(o.value0)(n.model.value0))return[H.text("roundtrip ok")];if(d.notEq(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"time"})))(f.eqEither(d.eqString)(r.eqMBS)))()(new R.IsSymbol((function(){return"notes"})))(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"note"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))()(new R.IsSymbol((function(){return"hold"})))(d.eqBoolean)))))))(o.value0.piece)(n.model.value0.piece))return[H.text("pieces are different! original"),O.pre_([H.text(C.show(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"time"})))(C.showRecordFieldsNil)(f.showEither(C.showString)(r.showMBS)))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"hold"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(C.showBoolean)))))))(n.model.value0.piece))]),H.text("re-read:"),O.pre_([H.text(C.show(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"time"})))(C.showRecordFieldsNil)(f.showEither(C.showString)(r.showMBS)))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"hold"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(C.showBoolean)))))))(o.value0.piece))])];var e=w.find(m.foldableList)((function(n){return d.notEq(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"trans"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"is2nd"})))(d.eqBoolean))()(new R.IsSymbol((function(){return"id"})))(G.eqTransId))()(new R.IsSymbol((function(){return"edges"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"regular"})))(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"right"})))(G.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString)))))()(new R.IsSymbol((function(){return"left"})))(G.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))))))()(new R.IsSymbol((function(){return"passing"})))(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"right"})))(G.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString)))))()(new R.IsSymbol((function(){return"left"})))(G.eqStartStop(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))))))))))()(new R.IsSymbol((function(){return"rslice"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"x"})))(d.eqNumber))()(new R.IsSymbol((function(){return"parents"})))(G.eqParents(G.eqSliceId)))()(new R.IsSymbol((function(){return"notes"})))(G.eqStartStop(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"note"})))(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new R.IsSymbol((function(){return"pitch"})))(y.eqPitch(b.eqSInterval)))()(new R.IsSymbol((function(){return"id"})))(d.eqString))))()(new R.IsSymbol((function(){return"expl"})))(G.eqNoteExplanation))))))()(new R.IsSymbol((function(){return"id"})))(G.eqSliceId))))()(new R.IsSymbol((function(){return"op"})))(G.eqOp)))(n.value0)(n.value1)}))(v.zip(n.model.value0.reduction.segments)(o.value0.reduction.segments));if(e instanceof p.Nothing)return[H.text("roundtrip not ok (but can't find wrong segment)! original:"),O.pre_([H.text(C.show(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"piece"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"reduction"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"nextSliceId"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"nextTransId"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"segments"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"start"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"parents"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"x"})))(C.showRecordFieldsNil)(C.showNumber))(G.showParents(G.showSliceId)))(G.showStartStop(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"expl"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(G.showNoteExplanation))))))(G.showSliceId))))(m.showList(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"op"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"rslice"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"trans"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"edges"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"is2nd"})))(C.showRecordFieldsNil)(C.showBoolean))(G.showTransId))(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"passing"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"regular"})))(C.showRecordFieldsNil)(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"left"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"right"})))(C.showRecordFieldsNil)(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString)))))(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))))))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"left"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"right"})))(C.showRecordFieldsNil)(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString)))))(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))))))))))(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"parents"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"x"})))(C.showRecordFieldsNil)(C.showNumber))(G.showParents(G.showSliceId)))(G.showStartStop(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"expl"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(G.showNoteExplanation))))))(G.showSliceId))))(G.showOp)))))(G.showTransId))(G.showSliceId))))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"time"})))(C.showRecordFieldsNil)(f.showEither(C.showString)(r.showMBS)))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"hold"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(C.showBoolean)))))))))(n.model.value0))]),H.text("re-read:"),O.pre_([H.text(C.show(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"piece"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"reduction"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"nextSliceId"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"nextTransId"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"segments"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"start"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"parents"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"x"})))(C.showRecordFieldsNil)(C.showNumber))(G.showParents(G.showSliceId)))(G.showStartStop(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"expl"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(G.showNoteExplanation))))))(G.showSliceId))))(m.showList(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"op"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"rslice"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"trans"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"edges"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"is2nd"})))(C.showRecordFieldsNil)(C.showBoolean))(G.showTransId))(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"passing"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"regular"})))(C.showRecordFieldsNil)(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"left"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"right"})))(C.showRecordFieldsNil)(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString)))))(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))))))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"left"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"right"})))(C.showRecordFieldsNil)(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString)))))(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))))))))))(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"parents"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"x"})))(C.showRecordFieldsNil)(C.showNumber))(G.showParents(G.showSliceId)))(G.showStartStop(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"expl"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(G.showNoteExplanation))))))(G.showSliceId))))(G.showOp)))))(G.showTransId))(G.showSliceId))))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"time"})))(C.showRecordFieldsNil)(f.showEither(C.showString)(r.showMBS)))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"hold"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(C.showBoolean)))))))))(o.value0))])];if(e instanceof p.Just)return[H.text("roundtrip not ok! offending segment original: "),O.pre_([H.text(C.show(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"op"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"rslice"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"trans"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"edges"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"is2nd"})))(C.showRecordFieldsNil)(C.showBoolean))(G.showTransId))(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"passing"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"regular"})))(C.showRecordFieldsNil)(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"left"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"right"})))(C.showRecordFieldsNil)(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString)))))(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))))))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"left"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"right"})))(C.showRecordFieldsNil)(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString)))))(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))))))))))(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"parents"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"x"})))(C.showRecordFieldsNil)(C.showNumber))(G.showParents(G.showSliceId)))(G.showStartStop(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"expl"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(G.showNoteExplanation))))))(G.showSliceId))))(G.showOp)))(e.value0.value0))]),H.text(" re-read:"),O.pre_([H.text(C.show(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"op"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"rslice"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"trans"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"edges"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"is2nd"})))(C.showRecordFieldsNil)(C.showBoolean))(G.showTransId))(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"passing"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"regular"})))(C.showRecordFieldsNil)(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"left"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"right"})))(C.showRecordFieldsNil)(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString)))))(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))))))(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"left"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"right"})))(C.showRecordFieldsNil)(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString)))))(G.showStartStop(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))))))))))(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"notes"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"parents"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"x"})))(C.showRecordFieldsNil)(C.showNumber))(G.showParents(G.showSliceId)))(G.showStartStop(C.showArray(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"expl"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"note"})))(C.showRecordFieldsNil)(C.showRecord()(C.showRecordFieldsCons(new R.IsSymbol((function(){return"id"})))(C.showRecordFieldsCons(new R.IsSymbol((function(){return"pitch"})))(C.showRecordFieldsNil)(y.showPitchInst(b.showpitchSInterval)))(C.showString))))(G.showNoteExplanation))))))(G.showSliceId))))(G.showOp)))(e.value0.value1))])];throw new Error("Failed pattern match at Main (line 430, column 22 - line 442, column 22): "+[e.constructor.name])}throw new Error("Failed pattern match at Main (line 419, column 21 - line 442, column 22): "+[o.constructor.name])}())])}throw new Error("Failed pattern match at Main (line 374, column 42 - line 443, column 12): "+[n.model.constructor.name])},eval:T.mkEval({handleAction:function(e){if(e instanceof hn)return D.liftEffect(k.monadEffectHalogenM(n))(X.copyToClipboard(e.value0));if(e instanceof gn)return u.bind(k.bindHalogenM)(D.liftEffect(k.monadEffectHalogenM(n))(Z.download(Z.dlString)(e.value1)(e.value0)("application/json")))((function(){return i.pure(k.applicativeHalogenM)(E.unit)}));if(e instanceof vn)return a.modify_(k.monadStateHalogenM)((function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.pretty=!n.pretty,e}));if(e instanceof mn)return a.modify_(k.monadStateHalogenM)((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.model=e.value0,r}));throw new Error("Failed pattern match at Main (line 445, column 24 - line 451, column 59): "+[e.constructor.name])},handleQuery:T.defaultEval.handleQuery,receive:function(n){return p.Just.create(mn.create(n))},initialize:T.defaultEval.initialize,finalize:T.defaultEval.finalize})})},In=function(n){return O.div([Q.class_("tab")])([O.h3_([H.text("Selection")]),O.p_([H.text("Selection: "),H.text(C.show(t.showOuterSelection)(n.selected))]),O.h3_([H.text("Reduction Steps")]),function(){if(n.model instanceof p.Nothing)return H.text("No active reduction.");if(n.model instanceof p.Just){var e=x.reductionToLeftmost(n.model.value0);if(e instanceof f.Right)return O.ol_(g.map(g.functorArray)((function(n){return O.li_([H.text(C.show(z.showLeftmost(z.showSplitOp)(z.showFreezeOp)(z.showHoriOp))(n))])}))(e.value0));if(e instanceof f.Left)return O.p([Q.class_("alert")])([H.text("Warning: reduction cannot be turned into leftmost derivation: "+e.value0)]);throw new Error("Failed pattern match at Main (line 466, column 23 - line 468, column 132): "+[e.constructor.name])}throw new Error("Failed pattern match at Main (line 464, column 7 - line 468, column 132): "+[n.model.constructor.name])}(),O.h3_([H.text("Piece JSON")]),function(){if(n.model instanceof p.Nothing)return H.text("No active piece.");if(n.model instanceof p.Just)return O.div_([O.p_([H.text("with IDs:")]),O.pre_([H.text(j.writeJSON(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"notes"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"hold"})))(j.writeForeignBoolean)(j.consWriteForeignFields(new R.IsSymbol((function(){return"id"})))(j.writeForeignString)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(j.writeForeignString)(j.nilWriteForeignFields)()()())()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"time"})))(j.writeForeignString)(j.nilWriteForeignFields)()()())()()())))(V.pieceToJSON(n.model.value0.piece)))]),O.p_([H.text("without IDs:")]),O.pre_([H.text(j.writeJSON(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"notes"})))(j.writeForeignArray(j.recordWriteForeign()(j.consWriteForeignFields(new R.IsSymbol((function(){return"hold"})))(j.writeForeignBoolean)(j.consWriteForeignFields(new R.IsSymbol((function(){return"pitch"})))(j.writeForeignString)(j.nilWriteForeignFields)()()())()()())))(j.consWriteForeignFields(new R.IsSymbol((function(){return"time"})))(j.writeForeignString)(j.nilWriteForeignFields)()()())()()())))(V.stripJSONIds(V.pieceToJSON(n.model.value0.piece))))])]);throw new Error("Failed pattern match at Main (line 470, column 7 - line 478, column 14): "+[n.model.constructor.name])}()])},Cn=function(n){return function(n){return function(e){return O.div_([O.div([Q.class_("pure-menu pure-menu-horizontal")])([O.ul([Q.class_("pure-menu-list")])([Fn(e)(t.ImportTab.value)("Import"),Fn(e)(t.ExportTab.value)("Export"),Fn(e)(t.HelpTab.value)("Help"),Fn(e)(t.DebugTab.value)("Debug")])]),function(){if(e.tab instanceof p.Nothing)return H.text("");if(e.tab instanceof p.Just&&e.tab.value0 instanceof t.HelpTab)return yn;if(e.tab instanceof p.Just&&e.tab.value0 instanceof t.ImportTab)return L.slot()(new R.IsSymbol((function(){return"importTab"})))(S.ordInt)(K.Proxy.value)(1)(Sn(n))(E.unit)(t.HandleImport.create);if(e.tab instanceof p.Just&&e.tab.value0 instanceof t.ExportTab)return L.slot_()(new R.IsSymbol((function(){return"exportTab"})))(S.ordInt)(K.Proxy.value)(0)(bn(n.MonadEffect0()))(e.model);if(e.tab instanceof p.Just&&e.tab.value0 instanceof t.DebugTab)return In(e);throw new Error("Failed pattern match at Main (line 211, column 7 - line 216, column 43): "+[e.tab.constructor.name])}()])}}},Rn=function(n){return u.bind(k.bindHalogenM)(a.get(k.monadStateHalogenM))((function(e){return e.selected instanceof t.SelTrans?En(n)(t.UnMergeAtSelected.value):e.selected instanceof t.SelSlice?En(n)(t.UnVertAtSelected.value):i.pure(k.applicativeHalogenM)(E.unit)}))},En=function(n){var e=function(e){return D.liftEffect(k.monadEffectHalogenM(n))($.preventDefault(un.toEvent(e)))};return function(r){if(r instanceof t.NoOp)return N.log(k.monadEffectHalogenM(n))("NoOp");if(r instanceof t.Init)return u.bind(k.bindHalogenM)(D.liftEffect(k.monadEffectHalogenM(n))(u.bindFlipped(W.bindEffect)(on.document)(rn.window)))((function(n){return k["subscribe'"]((function(e){return U.eventListener(an.keyup)(tn.toEventTarget(n))((r=g.map(p.functorMaybe)(t.HandleKey.create),function(n){return r(un.fromEvent(n))}));var r}))}));if(r instanceof t.SwitchTab)return a.modify_(k.monadStateHalogenM)((function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.tab=r.value0,e}));if(r instanceof t.HandleKey){var c=un.key(r.value0);return"m"===c?o.applySecond(k.applyHalogenM)(e(r.value0))(En(n)(t.MergeAtSelected.value)):"M"===c?o.applySecond(k.applyHalogenM)(e(r.value0))(En(n)(t.UnMergeAtSelected.value)):"v"===c?o.applySecond(k.applyHalogenM)(e(r.value0))(En(n)(t.VertAtSelected.value)):"V"===c?o.applySecond(k.applyHalogenM)(e(r.value0))(En(n)(t.UnVertAtSelected.value)):"Enter"===c?u.discard(u.discardUnit)(k.bindHalogenM)(e(r.value0))((function(){return Wn(n)})):"Backspace"===c?u.discard(u.discardUnit)(k.bindHalogenM)(e(r.value0))((function(){return Rn(n)})):i.pure(k.applicativeHalogenM)(E.unit)}if(r instanceof t.Select)return a.modify_(k.monadStateHalogenM)((function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.selected=r.value0,e}));if(r instanceof t.HandleImport){if(r.value0 instanceof t.ImportPiece)return a.modify_(k.monadStateHalogenM)((function(n){var e={};for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.model=p.Just.create(G.loadPiece(r.value0.value0)),e.selected=t.SelNone.value,e.tab=p.Nothing.value,e}));if(r.value0 instanceof t.ImportModel)return a.modify_(k.monadStateHalogenM)((function(n){var e={};for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.model=new p.Just(r.value0.value0),e.selected=t.SelNone.value,e.tab=p.Nothing.value,e}));throw new Error("Failed pattern match at Main (line 125, column 21 - line 127, column 103): "+[r.value0.constructor.name])}if(r instanceof t.MergeAtSelected)return pn(k.monadStateHalogenM)(k.monadEffectHalogenM(n))(t.getSelSlice)(G.mergeAtSlice)(!0);if(r instanceof t.VertAtSelected)return pn(k.monadStateHalogenM)(k.monadEffectHalogenM(n))(t.getSelTrans)(G.vertAtMid)(!0);if(r instanceof t.UnMergeAtSelected)return pn(k.monadStateHalogenM)(k.monadEffectHalogenM(n))(t.getSelTrans)(G.undoMergeAtTrans)(!0);if(r instanceof t.UnVertAtSelected)return pn(k.monadStateHalogenM)(k.monadEffectHalogenM(n))(t.getSelSlice)(G.undoVertAtSlice)(!0);if(r instanceof t.CombineAny)return Wn(n);if(r instanceof t.RemoveAny)return Rn(n);if(r instanceof t.SetNoteExplanation)return u.discard(u.discardUnit)(k.bindHalogenM)(pn(k.monadStateHalogenM)(k.monadEffectHalogenM(n))(h.const(new p.Just(r.value0)))((function(n){return G.noteSetExplanation(n.noteId)(n.expl)}))(!1))((function(){return a.modify_(k.monadStateHalogenM)((function(n){var e={};for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.selected=function(n){return function(e){var r=function(r){if(s.otherwise)return e;throw new Error("Failed pattern match at Main (line 96, column 1 - line 96, column 94): "+[n.constructor.name,e.constructor.name])};return e instanceof t.SelNote&&e.value0.note.id===n.noteId?t.SelNote.create({note:e.value0.note,expl:n.expl,parents:e.value0.parents}):r()}}(r.value0)(n.selected),e}))}));throw new Error("Failed pattern match at Main (line 105, column 16 - line 139, column 70): "+[r.constructor.name])}},Wn=function(n){return u.bind(k.bindHalogenM)(a.get(k.monadStateHalogenM))((function(e){return e.selected instanceof t.SelTrans?En(n)(t.VertAtSelected.value):e.selected instanceof t.SelSlice?En(n)(t.MergeAtSelected.value):i.pure(k.applicativeHalogenM)(E.unit)}))},Pn=function(n){return function(n){return T.mkComponent({initialState:function(n){return{selected:t.SelNone.value,model:p.Nothing.value,tab:new p.Just(t.ImportTab.value)}},render:function(e){return O.div_([O.div([Q.class_("content")])([O.h1_([H.text("Proto-Voice Annotation Tool")]),Cn(n.MonadEffect0())(n)(e),O.h2_([H.text("Annotation")]),O.button([Q.class_("pure-button"),J.onClick((function(n){return t.CombineAny.value})),_.enabled(t.outerSelected(e.selected))])([H.text("Combine (Enter)")]),O.button([Q.class_("pure-button"),J.onClick((function(n){return t.RemoveAny.value})),_.enabled(t.outerSelected(e.selected))])([H.text("Remove (Backspace)")])]),function(){if(e.model instanceof p.Nothing)return H.text("");if(e.model instanceof p.Just){var n=Y.validateReduction(e.model.value0.reduction),r=x.evalGraph(e.model.value0.reduction);return O.div_([O.p([Q.class_("content")])([Q.renderNoteExplanation(r)(e.selected)]),O.div([Q.class_("wide")])([Q.renderReduction(e.model.value0.piece)(r)(n)(e.selected)])])}throw new Error("Failed pattern match at Main (line 173, column 9 - line 183, column 16): "+[e.model.constructor.name])}()])},eval:T.mkEval({handleAction:En(n.MonadEffect0()),handleQuery:T.defaultEval.handleQuery,receive:T.defaultEval.receive,initialize:new p.Just(t.Init.value),finalize:T.defaultEval.finalize})})}},An=q.runHalogenAff(u.discard(u.discardUnit)(P.bindAff)(q.awaitLoad)((function(){return u.bind(P.bindAff)(q.selectElement("#app"))((function(n){return w.for_(P.applicativeAff)(w.foldableMaybe)(n)(B.runUI(Pn(P.monadEffectAff)(A.monadAffAff))(E.unit))}))})));e.main=An,e.tryModelAction=pn,e.combineAny=Wn,e.removeAny=Rn,e.handleAction=En,e.appComponent=Pn,e.tabHandle=Fn,e.renderTabs=Cn,e.helpText=yn,e.ImportUpdateModelInput=cn,e.ImportUpdatePieceInput=ln,e.ImportUploadModel=sn,e.ImportUploadPiece=fn,e.ImportLoadPiece=dn,e.ImportLoadModel=wn,e.importComponent=Sn,e.CopyToClipboard=hn,e.DownloadJSON=gn,e.TogglePretty=vn,e.Receive=mn,e.exportComponent=bn,e.debugComponent=In}(n),n.Main.main()}();
//# sourceMappingURL=index.bead01f7.js.map
