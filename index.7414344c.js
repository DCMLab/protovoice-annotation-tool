!function(){var n,e,r={};!function(n){n["Data.Boolean"]=n["Data.Boolean"]||{};n["Data.Boolean"].otherwise=!0}(r),n=r["Data.Eq"]=r["Data.Eq"]||{},e=function(n){return function(e){return n===e}},n.eqBooleanImpl=e,n.eqIntImpl=e,n.eqNumberImpl=e,n.eqCharImpl=e,n.eqStringImpl=e,n.eqArrayImpl=function(n){return function(e){return function(r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!n(e[t])(r[t]))return!1;return!0}}},function(n){n["Data.Symbol"]=n["Data.Symbol"]||{};var e=n["Data.Symbol"],r=function(){function n(){}return n.value=new n,n}();e.IsSymbol=function(n){this.reflectSymbol=n},e.reflectSymbol=function(n){return n.reflectSymbol},e.SProxy=r}(r),function(n){n.unsafeGet=function(n){return function(e){return e[n]}},n.unsafeSet=function(n){return function(e){return function(r){var t={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t[n]=e,t}}}}(r["Record.Unsafe"]=r["Record.Unsafe"]||{}),function(n){n["Record.Unsafe"]=n["Record.Unsafe"]||{};var e=n["Record.Unsafe"],r=n["Record.Unsafe"];e.unsafeGet=r.unsafeGet,e.unsafeSet=r.unsafeSet}(r),function(n){n["Type.Proxy"]=n["Type.Proxy"]||{};var e=n["Type.Proxy"],r=function(){function n(){}return n.value=new n,n}();e.Proxy=r}(r),function(n){n["Data.Eq"]=n["Data.Eq"]||{};var e=n["Data.Eq"],r=n["Data.Eq"],t=n["Data.Symbol"],o=n["Record.Unsafe"],i=n["Type.Proxy"],u=function(n){this.eqRecord=n},a=function(n){this.eq=n},c=new a(r.eqStringImpl),l=new u((function(n){return function(n){return function(n){return!0}}})),s=function(n){return n.eqRecord},f=new a(r.eqNumberImpl),d=new a(r.eqIntImpl),w=new a(r.eqCharImpl),h=new a(r.eqBooleanImpl),g=function(n){return n.eq};e.Eq=a,e.eq=g,e.notEq=function(n){return function(e){return function(r){return g(h)(g(n)(e)(r))(!1)}}},e.Eq1=function(n){this.eq1=n},e.eq1=function(n){return n.eq1},e.eqBoolean=h,e.eqInt=d,e.eqNumber=f,e.eqChar=w,e.eqString=c,e.eqArray=function(n){return new a(r.eqArrayImpl(g(n)))},e.eqRec=function(n){return function(n){return new a(s(n)(i.Proxy.value))}},e.eqRowNil=l,e.eqRowCons=function(n){return function(e){return function(e){return function(r){return new u((function(u){return function(u){return function(a){var c=s(n)(i.Proxy.value)(u)(a),l=t.reflectSymbol(e)(i.Proxy.value),f=o.unsafeGet(l);return g(r)(f(u))(f(a))&&c}}}))}}}}}(r),function(n){n["Data.Generic.Rep"]=n["Data.Generic.Rep"]||{};var e=n["Data.Generic.Rep"],r=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),o=function(){function n(){}return n.value=new n,n}();e.Generic=function(n,e){this.from=n,this.to=e},e.from=function(n){return n.from},e.NoArguments=o,e.Inl=r,e.Inr=t}(r),function(n){n.arrayApply=function(n){return function(e){for(var r=n.length,t=e.length,o=new Array(r*t),i=0,u=0;u<r;u++)for(var a=n[u],c=0;c<t;c++)o[i++]=a(e[c]);return o}}}(r["Control.Apply"]=r["Control.Apply"]||{}),function(n){n["Control.Semigroupoid"]=n["Control.Semigroupoid"]||{};var e=n["Control.Semigroupoid"],r=new function(n){this.compose=n}((function(n){return function(e){return function(r){return n(e(r))}}}));e.compose=function(n){return n.compose},e.semigroupoidFn=r}(r),function(n){n["Control.Category"]=n["Control.Category"]||{};var e=n["Control.Category"],r=n["Control.Semigroupoid"],t=new function(n,e){this.Semigroupoid0=n,this.identity=e}((function(){return r.semigroupoidFn}),(function(n){return n}));e.identity=function(n){return n.identity},e.categoryFn=t}(r),function(n){n["Data.Function"]=n["Data.Function"]||{};var e=n["Data.Function"];e.flip=function(n){return function(e){return function(r){return n(r)(e)}}},e.const=function(n){return function(e){return n}}}(r),function(n){n.arrayMap=function(n){return function(e){for(var r=e.length,t=new Array(r),o=0;o<r;o++)t[o]=n(e[o]);return t}}}(r["Data.Functor"]=r["Data.Functor"]||{}),function(n){n.unit={}}(r["Data.Unit"]=r["Data.Unit"]||{}),function(n){n["Data.Unit"]=n["Data.Unit"]||{};var e=n["Data.Unit"],r=n["Data.Unit"];e.unit=r.unit}(r),function(n){n["Data.Functor"]=n["Data.Functor"]||{};var e=n["Data.Functor"],r=n["Data.Functor"],t=n["Data.Function"],o=n["Data.Unit"],i=function(n){this.map=n},u=function(n){return n.map},a=new i(r.arrayMap);e.Functor=i,e.map=u,e.void=function(n){return u(n)(t.const(o.unit))},e.voidLeft=function(n){return function(e){return function(r){return u(n)(t.const(r))(e)}}},e.functorArray=a}(r),function(n){n["Control.Apply"]=n["Control.Apply"]||{};var e=n["Control.Apply"],r=n["Control.Apply"],t=n["Control.Category"],o=n["Data.Function"],i=n["Data.Functor"],u=function(n,e){this.Functor0=n,this.apply=e},a=new u((function(){return i.functorArray}),r.arrayApply),c=function(n){return n.apply};e.Apply=u,e.apply=c,e.applySecond=function(n){return function(e){return function(r){return c(n)(i.map(n.Functor0())(o.const(t.identity(t.categoryFn)))(e))(r)}}},e.applyArray=a}(r),function(n){n["Control.Applicative"]=n["Control.Applicative"]||{};var e=n["Control.Applicative"],r=n["Control.Apply"],t=n["Data.Unit"],o=function(n,e){this.Apply0=n,this.pure=e},i=function(n){return n.pure},u=new o((function(){return r.applyArray}),(function(n){return[n]}));e.Applicative=o,e.pure=i,e.liftA1=function(n){return function(e){return function(t){return r.apply(n.Apply0())(i(n)(e))(t)}}},e.unless=function(n){return function(e){return function(r){if(!e)return r;if(e)return i(n)(t.unit);throw new Error("Failed pattern match at Control.Applicative (line 66, column 1 - line 66, column 65): "+[e.constructor.name,r.constructor.name])}}},e.when=function(n){return function(e){return function(r){if(e)return r;if(!e)return i(n)(t.unit);throw new Error("Failed pattern match at Control.Applicative (line 61, column 1 - line 61, column 63): "+[e.constructor.name,r.constructor.name])}}},e.applicativeArray=u}(r),function(n){n.arrayBind=function(n){return function(e){for(var r=[],t=0,o=n.length;t<o;t++)Array.prototype.push.apply(r,e(n[t]));return r}}}(r["Control.Bind"]=r["Control.Bind"]||{}),function(n){n["Control.Bind"]=n["Control.Bind"]||{};var e=n["Control.Bind"],r=n["Control.Bind"],t=n["Control.Apply"],o=n["Data.Function"],i=function(n,e){this.Apply0=n,this.bind=e},u=new i((function(){return t.applyArray}),r.arrayBind),a=function(n){return n.bind},c=function(n){return o.flip(a(n))},l=new function(n){this.discard=n}((function(n){return a(n)}));e.Bind=i,e.bind=a,e.bindFlipped=c,e.discard=function(n){return n.discard},e.composeKleisli=function(n){return function(e){return function(r){return function(t){return a(n)(e(t))(r)}}}},e.composeKleisliFlipped=function(n){return function(e){return function(r){return function(t){return c(n)(e)(r(t))}}}},e.bindArray=u,e.discardUnit=l}(r),function(n){n.showIntImpl=function(n){return n.toString()},n.showNumberImpl=function(n){var e=n.toString();return isNaN(e+".0")?e:e+".0"},n.showCharImpl=function(n){var e=n.charCodeAt(0);if(e<32||127===e){switch(n){case"":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case"\n":return"'\\n'";case"\r":return"'\\r'";case"\t":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return"'"===n||"\\"===n?"'\\"+n+"'":"'"+n+"'"},n.showStringImpl=function(n){var e=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,(function(r,t){switch(r){case'"':case"\\":return"\\"+r;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var o=t+1,i=o<e&&n[o]>="0"&&n[o]<="9"?"\\&":"";return"\\"+r.charCodeAt(0).toString(10)+i}))+'"'},n.showArrayImpl=function(n){return function(e){for(var r=[],t=0,o=e.length;t<o;t++)r[t]=n(e[t]);return"["+r.join(",")+"]"}},n.cons=function(n){return function(e){return[n].concat(e)}},n.join=function(n){return function(e){return e.join(n)}}}(r["Data.Show"]=r["Data.Show"]||{}),function(n){n["Data.Show"]=n["Data.Show"]||{};var e=n["Data.Show"],r=n["Data.Show"],t=n["Data.Symbol"],o=n["Record.Unsafe"],i=n["Type.Proxy"],u=function(n){this.showRecordFields=n},a=function(n){this.show=n},c=new a(r.showStringImpl),l=new u((function(n){return function(n){return[]}})),s=function(n){return n.showRecordFields},f=new a(r.showNumberImpl),d=new a(r.showIntImpl),w=new a(r.showCharImpl),h=new a((function(n){if(n)return"true";if(!n)return"false";throw new Error("Failed pattern match at Data.Show (line 20, column 1 - line 22, column 23): "+[n.constructor.name])})),g=function(n){return n.show};e.Show=a,e.show=g,e.showBoolean=h,e.showInt=d,e.showNumber=f,e.showChar=w,e.showString=c,e.showArray=function(n){return new a(r.showArrayImpl(g(n)))},e.showRecord=function(n){return function(n){return new a((function(e){var t=s(n)(i.Proxy.value)(e);return 0===t.length?"{}":r.join(" ")(["{",r.join(", ")(t),"}"])}))}},e.showRecordFieldsNil=l,e.showRecordFieldsCons=function(n){return function(e){return function(a){return new u((function(u){return function(u){var c=s(e)(i.Proxy.value)(u),l=t.reflectSymbol(n)(i.Proxy.value),f=o.unsafeGet(l)(u);return r.cons(r.join(": ")([l,g(a)(f)]))(c)}}))}}}}(r),function(n){n["Data.Maybe"]=n["Data.Maybe"]||{};var e=n["Data.Maybe"],r=n["Control.Applicative"],t=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Category"],u=n["Data.Eq"],a=n["Data.Function"],c=n["Data.Functor"],l=n["Data.Show"],s=function(){function n(){}return n.value=new n,n}(),f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),d=function(n){return function(e){return function(r){if(r instanceof s)return n;if(r instanceof f)return e(r.value0);throw new Error("Failed pattern match at Data.Maybe (line 230, column 1 - line 230, column 51): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}},w=d(!0)(a.const(!1)),h=d(!1)(a.const(!0)),g=new c.Functor((function(n){return function(e){return e instanceof f?new f(n(e.value0)):s.value}})),p=new t.Apply((function(){return g}),(function(n){return function(e){if(n instanceof f)return c.map(g)(n.value0)(e);if(n instanceof s)return s.value;throw new Error("Failed pattern match at Data.Maybe (line 68, column 1 - line 70, column 30): "+[n.constructor.name,e.constructor.name])}})),v=new o.Bind((function(){return p}),(function(n){return function(e){if(n instanceof f)return e(n.value0);if(n instanceof s)return s.value;throw new Error("Failed pattern match at Data.Maybe (line 126, column 1 - line 128, column 28): "+[n.constructor.name,e.constructor.name])}})),m=new r.Applicative((function(){return p}),f.create);e.Nothing=s,e.Just=f,e.maybe=d,e.fromMaybe=function(n){return d(n)(i.identity(i.categoryFn))},e.isJust=h,e.isNothing=w,e.fromJust=function(n){return function(n){if(n instanceof f)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 281, column 1 - line 281, column 46): "+[n.constructor.name])}},e.functorMaybe=g,e.applicativeMaybe=m,e.bindMaybe=v,e.eqMaybe=function(n){return new u.Eq((function(e){return function(r){return e instanceof s&&r instanceof s||e instanceof f&&r instanceof f&&u.eq(n)(e.value0)(r.value0)}}))},e.showMaybe=function(n){return new l.Show((function(e){if(e instanceof f)return"(Just "+l.show(n)(e.value0)+")";if(e instanceof s)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 216, column 1 - line 218, column 28): "+[e.constructor.name])}))}}(r),function(n){n["Control.Alt"]=n["Control.Alt"]||{};var e=n["Control.Alt"];e.Alt=function(n,e){this.Functor0=n,this.alt=e},e.alt=function(n){return n.alt}}(r),function(n){n["Control.Monad"]=n["Control.Monad"]||{};var e=n["Control.Monad"],r=n["Control.Applicative"],t=n["Control.Bind"];e.Monad=function(n,e){this.Applicative0=n,this.Bind1=e},e.unlessM=function(n){return function(e){return function(o){return t.bind(n.Bind1())(e)((function(e){return r.unless(n.Applicative0())(e)(o)}))}}},e.ap=function(n){return function(e){return function(o){return t.bind(n.Bind1())(e)((function(e){return t.bind(n.Bind1())(o)((function(t){return r.pure(n.Applicative0())(e(t))}))}))}}}}(r),function(n){n["Data.Either"]=n["Data.Either"]||{};var e=n["Data.Either"],r=n["Control.Applicative"],t=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Monad"],u=n["Data.Eq"],a=n["Data.Function"],c=n["Data.Functor"],l=n["Data.Maybe"],s=n["Data.Show"],f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=new c.Functor((function(n){return function(e){if(e instanceof f)return new f(e.value0);if(e instanceof d)return new d(n(e.value0));throw new Error("Failed pattern match at Data.Either (line 31, column 1 - line 31, column 52): "+[e.constructor.name])}})),h=function(n){return function(e){return function(r){if(r instanceof f)return n(r.value0);if(r instanceof d)return e(r.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}},g=h(a.const(l.Nothing.value))(l.Just.create),p=new t.Apply((function(){return w}),(function(n){return function(e){if(n instanceof f)return new f(n.value0);if(n instanceof d)return c.map(w)(n.value0)(e);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,e.constructor.name])}})),v=new o.Bind((function(){return p}),h((function(n){return function(e){return new f(n)}}))((function(n){return function(e){return e(n)}}))),m=new r.Applicative((function(){return p}),d.create),F=new i.Monad((function(){return m}),(function(){return v}));e.Left=f,e.Right=d,e.either=h,e.hush=g,e.functorEither=w,e.applicativeEither=m,e.bindEither=v,e.monadEither=F,e.showEither=function(n){return function(e){return new s.Show((function(r){if(r instanceof f)return"(Left "+s.show(n)(r.value0)+")";if(r instanceof d)return"(Right "+s.show(e)(r.value0)+")";throw new Error("Failed pattern match at Data.Either (line 173, column 1 - line 175, column 46): "+[r.constructor.name])}))}},e.eqEither=function(n){return function(e){return new u.Eq((function(r){return function(t){return r instanceof f&&t instanceof f?u.eq(n)(r.value0)(t.value0):r instanceof d&&t instanceof d&&u.eq(e)(r.value0)(t.value0)}}))}}}(r),function(n){n["Control.Monad.Error.Class"]=n["Control.Monad.Error.Class"]||{};var e=n["Control.Monad.Error.Class"],r=n["Control.Applicative"],t=n["Data.Either"],o=n["Data.Functor"];e.throwError=function(n){return n.throwError},e.MonadThrow=function(n,e){this.Monad0=n,this.throwError=e},e.MonadError=function(n,e){this.MonadThrow0=n,this.catchError=e},e.try=function(n){return function(e){return n.catchError(o.map(n.MonadThrow0().Monad0().Bind1().Apply0().Functor0())(t.Right.create)(e))((i=r.pure(n.MonadThrow0().Monad0().Applicative0()),function(n){return i(t.Left.create(n))}));var i}}}(r),function(n){n.concatString=function(n){return function(e){return n+e}},n.concatArray=function(n){return function(e){return 0===n.length?e:0===e.length?n:n.concat(e)}}}(r["Data.Semigroup"]=r["Data.Semigroup"]||{}),function(n){n["Data.Semigroup"]=n["Data.Semigroup"]||{};var e=n["Data.Semigroup"],r=n["Data.Semigroup"],t=n["Data.Symbol"],o=n["Record.Unsafe"],i=n["Type.Proxy"],u=function(n){this.appendRecord=n},a=function(n){this.append=n},c=new a(r.concatString),l=new u((function(n){return function(n){return function(n){return{}}}})),s=new a(r.concatArray),f=function(n){return n.appendRecord},d=function(n){return n.append};e.Semigroup=a,e.append=d,e.semigroupString=c,e.semigroupArray=s,e.semigroupRecord=function(n){return function(n){return new a(f(n)(i.Proxy.value))}},e.semigroupRecordNil=l,e.semigroupRecordCons=function(n){return function(e){return function(e){return function(r){return new u((function(u){return function(u){return function(a){var c=f(e)(i.Proxy.value)(u)(a),l=t.reflectSymbol(n)(i.Proxy.value),s=o.unsafeSet(l),w=o.unsafeGet(l);return s(d(r)(w(u))(w(a)))(c)}}}))}}}}}(r),function(n){n["Control.Monad.Except.Trans"]=n["Control.Monad.Except.Trans"]||{};var e=n["Control.Monad.Except.Trans"],r=n["Control.Alt"],t=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Bind"],u=n["Control.Monad"],a=n["Control.Monad.Error.Class"],c=n["Data.Either"],l=n["Data.Functor"],s=n["Data.Semigroup"],f=function(n){return n},d=function(n){return function(e){return n(e)}},w=function(n){return new l.Functor((function(e){return d(l.map(n)(l.map(c.functorEither)(e)))}))},h=function(n){return new u.Monad((function(){return v(n)}),(function(){return g(n)}))},g=function(n){return new i.Bind((function(){return p(n)}),(function(e){return function(r){return i.bind(n.Bind1())(e)(c.either((o=t.pure(n.Applicative0()),function(n){return o(c.Left.create(n))}))((function(n){return r(n)})));var o}}))},p=function(n){return new o.Apply((function(){return w(n.Bind1().Apply0().Functor0())}),u.ap(h(n)))},v=function(n){return new t.Applicative((function(){return p(n)}),(e=t.pure(n.Applicative0()),function(n){return e(c.Right.create(n))}));var e};e.ExceptT=f,e.runExceptT=function(n){return n},e.withExceptT=function(n){return function(e){return function(r){var t;return l.map(n)((t=e,function(n){if(n instanceof c.Right)return new c.Right(n.value0);if(n instanceof c.Left)return new c.Left(t(n.value0));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 43, column 3 - line 43, column 32): "+[t.constructor.name,n.constructor.name])}))(r)}}},e.mapExceptT=d,e.functorExceptT=w,e.applicativeExceptT=v,e.bindExceptT=g,e.altExceptT=function(n){return function(e){return new r.Alt((function(){return w(e.Bind1().Apply0().Functor0())}),(function(r){return function(o){return i.bind(e.Bind1())(r)((function(r){if(r instanceof c.Right)return t.pure(e.Applicative0())(new c.Right(r.value0));if(r instanceof c.Left)return i.bind(e.Bind1())(o)((function(o){if(o instanceof c.Right)return t.pure(e.Applicative0())(new c.Right(o.value0));if(o instanceof c.Left)return t.pure(e.Applicative0())(new c.Left(s.append(n)(r.value0)(o.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): "+[o.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): "+[r.constructor.name])}))}}))}},e.monadThrowExceptT=function(n){return new a.MonadThrow((function(){return h(n)}),(e=t.pure(n.Applicative0()),function(n){return e(c.Left.create(n))}));var e}}(r),function(n){n["Data.Group"]=n["Data.Group"]||{};var e=n["Data.Group"];e.ginverse=function(n){return n.ginverse},e.Group=function(n,e){this.Monoid0=n,this.ginverse=e}}(r),function(n){n["Data.Identity"]=n["Data.Identity"]||{};var e=n["Data.Identity"],r=n["Control.Applicative"],t=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Monad"],u=function(n){return n},a=new n["Data.Functor"].Functor((function(n){return function(e){return n(e)}})),c=new t.Apply((function(){return a}),(function(n){return function(e){return n(e)}})),l=new o.Bind((function(){return c}),(function(n){return function(e){return e(n)}})),s=new r.Applicative((function(){return c}),u),f=new i.Monad((function(){return s}),(function(){return l}));e.Identity=u,e.functorIdentity=a,e.applicativeIdentity=s,e.monadIdentity=f}(r),function(n){n._parseJSON=JSON.parse,n._undefined=void 0,n._unsafeStringify=JSON.stringify}(r["Simple.JSON"]=r["Simple.JSON"]||{}),function(n){n.unsafeCoerce=function(n){return n}}(r["Unsafe.Coerce"]=r["Unsafe.Coerce"]||{}),function(n){n["Unsafe.Coerce"]=n["Unsafe.Coerce"]||{};var e=n["Unsafe.Coerce"],r=n["Unsafe.Coerce"];e.unsafeCoerce=r.unsafeCoerce}(r),function(n){n["Safe.Coerce"]=n["Safe.Coerce"]||{};var e=n["Safe.Coerce"],r=n["Unsafe.Coerce"];e.coerce=function(n){return r.unsafeCoerce}}(r),function(n){n["Data.Newtype"]=n["Data.Newtype"]||{};var e=n["Data.Newtype"],r=n["Safe.Coerce"];e.unwrap=function(n){return r.coerce()},e.alaF=function(n){return function(n){return function(n){return function(n){return function(n){return r.coerce()}}}}}}(r),function(n){n["Control.Monad.Except"]=n["Control.Monad.Except"]||{};var e,r=n["Control.Monad.Except"],t=n["Control.Monad.Except.Trans"],o=n["Data.Identity"],i=n["Data.Newtype"],u=t.withExceptT(o.functorIdentity),a=(e=i.unwrap(),function(n){return e(t.runExceptT(n))});r.runExcept=a,r.withExcept=u}(r),function(n){n["Data.Bifunctor"]=n["Data.Bifunctor"]||{};var e=n["Data.Bifunctor"],r=n["Control.Category"],t=n["Data.Either"],o=function(n){this.bimap=n},i=function(n){return n.bimap},u=new o((function(n){return function(e){return function(r){if(r instanceof t.Left)return new t.Left(n(r.value0));if(r instanceof t.Right)return new t.Right(e(r.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 32, column 1 - line 34, column 36): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}}));e.bimap=i,e.Bifunctor=o,e.lmap=function(n){return function(e){return i(n)(e)(r.identity(r.categoryFn))}},e.bifunctorEither=u}(r),function(n){n["Control.Plus"]=n["Control.Plus"]||{};var e=n["Control.Plus"];e.Plus=function(n,e){this.Alt0=n,this.empty=e},e.empty=function(n){return n.empty}}(r),function(n){n.foldrArray=function(n){return function(e){return function(r){for(var t=e,o=r.length-1;o>=0;o--)t=n(r[o])(t);return t}}},n.foldlArray=function(n){return function(e){return function(r){for(var t=e,o=r.length,i=0;i<o;i++)t=n(t)(r[i]);return t}}}}(r["Data.Foldable"]=r["Data.Foldable"]||{}),function(n){n.boolConj=function(n){return function(e){return n&&e}},n.boolDisj=function(n){return function(e){return n||e}},n.boolNot=function(n){return!n}}(r["Data.HeytingAlgebra"]=r["Data.HeytingAlgebra"]||{}),function(n){n["Data.HeytingAlgebra"]=n["Data.HeytingAlgebra"]||{};var e=n["Data.HeytingAlgebra"],r=n["Data.HeytingAlgebra"],t=function(n,e,r,t,o,i){this.conj=n,this.disj=e,this.ff=r,this.implies=t,this.not=o,this.tt=i},o=function(n){return n.not},i=function(n){return n.ff},u=function(n){return n.disj},a=new t(r.boolConj,r.boolDisj,!1,(function(n){return function(e){return u(a)(o(a)(n))(e)}}),r.boolNot,!0);e.ff=i,e.disj=u,e.not=o,e.heytingAlgebraBoolean=a,e.heytingAlgebraFunction=function(n){return new t((function(e){return function(r){return function(t){return n.conj(e(t))(r(t))}}}),(function(e){return function(r){return function(t){return u(n)(e(t))(r(t))}}}),(function(e){return i(n)}),(function(e){return function(r){return function(t){return n.implies(e(t))(r(t))}}}),(function(e){return function(r){return o(n)(e(r))}}),(function(e){return n.tt}))}}(r),function(n){n.intDegree=function(n){return Math.min(Math.abs(n),2147483647)},n.intDiv=function(n){return function(e){return 0===e?0:e>0?Math.floor(n/e):-Math.floor(n/-e)}},n.intMod=function(n){return function(e){if(0===e)return 0;var r=Math.abs(e);return(n%r+r)%r}}}(r["Data.EuclideanRing"]=r["Data.EuclideanRing"]||{}),function(n){n.intSub=function(n){return function(e){return n-e|0}}}(r["Data.Ring"]=r["Data.Ring"]||{}),function(n){n.intAdd=function(n){return function(e){return n+e|0}},n.intMul=function(n){return function(e){return n*e|0}}}(r["Data.Semiring"]=r["Data.Semiring"]||{}),function(n){n["Data.Semiring"]=n["Data.Semiring"]||{};var e=n["Data.Semiring"],r=n["Data.Semiring"],t=new function(n,e,r,t){this.add=n,this.mul=e,this.one=r,this.zero=t}(r.intAdd,r.intMul,1,0);e.add=function(n){return n.add},e.zero=function(n){return n.zero},e.mul=function(n){return n.mul},e.one=function(n){return n.one},e.semiringInt=t}(r),function(n){n["Data.Ring"]=n["Data.Ring"]||{};var e=n["Data.Ring"],r=n["Data.Ring"],t=n["Data.Semiring"],o=new function(n,e){this.Semiring0=n,this.sub=e}((function(){return t.semiringInt}),r.intSub);e.negate=function(n){return function(e){return n.sub(t.zero(n.Semiring0()))(e)}},e.ringInt=o}(r),function(n){n["Data.CommutativeRing"]=n["Data.CommutativeRing"]||{};var e=n["Data.CommutativeRing"],r=n["Data.Ring"],t=new function(n){this.Ring0=n}((function(){return r.ringInt}));e.commutativeRingInt=t}(r),function(n){n["Data.EuclideanRing"]=n["Data.EuclideanRing"]||{};var e=n["Data.EuclideanRing"],r=n["Data.EuclideanRing"],t=n["Data.CommutativeRing"],o=n["Data.Eq"],i=n["Data.Semiring"],u=function(n){return n.mod},a=new function(n,e,r,t){this.CommutativeRing0=n,this.degree=e,this.div=r,this.mod=t}((function(){return t.commutativeRingInt}),r.intDegree,r.intDiv,r.intMod);e.div=function(n){return n.div},e.mod=u,e.gcd=function(n){return function(e){return function(r){return function(t){var a,c=n,l=e,s=r,f=!1;function d(n,e,r,a){if(o.eq(n)(a)(i.zero(e.CommutativeRing0().Ring0().Semiring0())))return f=!0,r;c=n,l=e,s=a,t=u(e)(r)(a)}for(;!f;)a=d(c,l,s,t);return a}}}},e.euclideanRingInt=a}(r),function(n){n["Data.Monoid"]=n["Data.Monoid"]||{};var e=n["Data.Monoid"],r=n["Data.Boolean"],t=n["Data.EuclideanRing"],o=n["Data.Semigroup"],i=n["Data.Symbol"],u=n["Record.Unsafe"],a=n["Type.Proxy"],c=function(n,e){this.SemigroupRecord0=n,this.memptyRecord=e},l=function(n,e){this.Semigroup0=n,this.mempty=e},s=new l((function(){return o.semigroupString}),""),f=new c((function(){return o.semigroupRecordNil}),(function(n){return{}})),d=function(n){return n.memptyRecord},w=function(n){return n.mempty};e.Monoid=l,e.mempty=w,e.power=function(n){return function(e){var i=function(u){if(u<=0)return w(n);if(1===u)return e;if(0===t.mod(t.euclideanRingInt)(u)(2)){var a=i(t.div(t.euclideanRingInt)(u)(2));return o.append(n.Semigroup0())(a)(a)}if(r.otherwise){a=i(t.div(t.euclideanRingInt)(u)(2));return o.append(n.Semigroup0())(a)(o.append(n.Semigroup0())(a)(e))}throw new Error("Failed pattern match at Data.Monoid (line 86, column 3 - line 86, column 17): "+[u.constructor.name])};return i}},e.monoidString=s,e.monoidRecord=function(n){return function(n){return new l((function(){return o.semigroupRecord()(n.SemigroupRecord0())}),d(n)(a.Proxy.value))}},e.monoidRecordNil=f,e.monoidRecordCons=function(n){return function(e){return function(r){return function(r){return new c((function(){return o.semigroupRecordCons(n)()(r.SemigroupRecord0())(e.Semigroup0())}),(function(t){var o=d(r)(a.Proxy.value),c=i.reflectSymbol(n)(a.Proxy.value);return u.unsafeSet(c)(w(e))(o)}))}}}}}(r),function(n){n["Data.Monoid.Disj"]=n["Data.Monoid.Disj"]||{};var e=n["Data.Monoid.Disj"],r=n["Data.HeytingAlgebra"],t=n["Data.Monoid"],o=n["Data.Semigroup"];e.Disj=function(n){return n},e.monoidDisj=function(n){return new t.Monoid((function(){return function(n){return new o.Semigroup((function(e){return function(t){return r.disj(n)(e)(t)}}))}(n)}),r.ff(n))}}(r),function(n){n["Data.Foldable"]=n["Data.Foldable"]||{};var e=n["Data.Foldable"],r=n["Data.Foldable"],t=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Category"],u=n["Data.Eq"],a=n["Data.Function"],c=n["Data.HeytingAlgebra"],l=n["Data.Maybe"],s=n["Data.Monoid"],f=n["Data.Monoid.Disj"],d=n["Data.Newtype"],w=n["Data.Semigroup"],h=n["Data.Unit"],g=function(n,e,r){this.foldMap=n,this.foldl=e,this.foldr=r},p=function(n){return n.foldr},v=function(n){return function(e){return function(r){return p(e)((i=o.applySecond(n.Apply0()),function(n){return i(r(n))}))(t.pure(n)(h.unit));var i}}},m=function(n){return n.foldl},F=new g((function(n){return function(e){return function(r){if(r instanceof l.Nothing)return s.mempty(n);if(r instanceof l.Just)return e(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[e.constructor.name,r.constructor.name])}}}),(function(n){return function(e){return function(r){if(r instanceof l.Nothing)return e;if(r instanceof l.Just)return n(e)(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}}),(function(n){return function(e){return function(r){if(r instanceof l.Nothing)return e;if(r instanceof l.Just)return n(r.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}})),S=new g((function(n){return(e=S,function(n){return function(r){return p(e)((function(e){return function(t){return w.append(n.Semigroup0())(r(e))(t)}}))(s.mempty(n))}})(n);var e}),r.foldlArray,r.foldrArray),y=function(n){return n.foldMap};e.Foldable=g,e.foldr=p,e.foldl=m,e.foldMap=y,e.fold=function(n){return function(e){return y(n)(e)(i.identity(i.categoryFn))}},e.traverse_=v,e.for_=function(n){return function(e){return a.flip(v(n)(e))}},e.intercalate=function(n){return function(e){return function(r){return function(t){return m(n)((function(n){return function(t){return n.init?{init:!1,acc:t}:{init:!1,acc:w.append(e.Semigroup0())(n.acc)(w.append(e.Semigroup0())(r)(t))}}}))({init:!0,acc:s.mempty(e)})(t).acc}}}},e.elem=function(n){return function(e){var r=function(n){return function(e){return d.alaF()()()()(f.Disj)(y(n)(f.monoidDisj(e)))}}(n)(c.heytingAlgebraBoolean),t=u.eq(e);return function(n){return r(t(n))}}},e.find=function(n){return function(e){return m(n)((function(n){return function(r){return n instanceof l.Nothing&&e(r)?new l.Just(r):n}}))(l.Nothing.value)}},e.foldableArray=S,e.foldableMaybe=F}(r),function(n){n["Data.NonEmpty"]=n["Data.NonEmpty"]||{};var e=n["Data.NonEmpty"],r=n["Control.Plus"],t=n["Data.Eq"],o=n["Data.Foldable"],i=n["Data.Functor"],u=n["Data.Semigroup"],a=n["Data.Show"],c=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}();e.NonEmpty=c,e.singleton=function(n){return function(e){return new c(e,r.empty(n))}},e.showNonEmpty=function(n){return function(e){return new a.Show((function(r){return"(NonEmpty "+a.show(n)(r.value0)+" "+a.show(e)(r.value1)+")"}))}},e.eqNonEmpty=function(n){return function(e){return new t.Eq((function(r){return function(o){return t.eq(e)(r.value0)(o.value0)&&t.eq1(n)(e)(r.value1)(o.value1)}}))}},e.functorNonEmpty=function(n){return new i.Functor((function(e){return function(r){return new c(e(r.value0),i.map(n)(e)(r.value1))}}))},e.foldableNonEmpty=function(n){return new o.Foldable((function(e){return function(r){return function(t){return u.append(e.Semigroup0())(r(t.value0))(o.foldMap(n)(e)(r)(t.value1))}}}),(function(e){return function(r){return function(t){return o.foldl(n)(e)(e(r)(t.value0))(t.value1)}}}),(function(e){return function(r){return function(t){return e(t.value0)(o.foldr(n)(e)(r)(t.value1))}}}))}}(r),function(n){n.unfoldrArrayImpl=function(n){return function(e){return function(r){return function(t){return function(o){return function(i){for(var u=[],a=i;;){var c=o(a);if(n(c))return u;var l=e(c);u.push(r(l)),a=t(l)}}}}}}}}(r["Data.Unfoldable"]=r["Data.Unfoldable"]||{}),function(n){var e=function(n){return function(e){return function(r){return function(t){return function(o){return t<o?n:t===o?e:r}}}}};n.ordIntImpl=e,n.ordNumberImpl=e,n.ordStringImpl=e,n.ordCharImpl=e,n.ordArrayImpl=function(n){return function(e){return function(r){for(var t=0,o=e.length,i=r.length;t<o&&t<i;){var u=e[t],a=r[t],c=n(u)(a);if(0!==c)return c;t++}return o===i?0:o>i?-1:1}}}}(r["Data.Ord"]=r["Data.Ord"]||{}),function(n){n["Data.Ordering"]=n["Data.Ordering"]||{};var e=n["Data.Ordering"],r=n["Data.Eq"],t=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),u=new r.Eq((function(n){return function(e){return n instanceof t&&e instanceof t||(n instanceof o&&e instanceof o||n instanceof i&&e instanceof i)}}));e.LT=t,e.GT=o,e.EQ=i,e.invert=function(n){if(n instanceof o)return t.value;if(n instanceof i)return i.value;if(n instanceof t)return o.value;throw new Error("Failed pattern match at Data.Ordering (line 33, column 1 - line 33, column 31): "+[n.constructor.name])},e.eqOrdering=u}(r),function(n){n["Data.Ord"]=n["Data.Ord"]||{};var e=n["Data.Ord"],r=n["Data.Ord"],t=n["Data.Eq"],o=n["Data.Ordering"],i=n["Data.Ring"],u=n["Data.Semiring"],a=n["Data.Symbol"],c=n["Record.Unsafe"],l=n["Type.Proxy"],s=function(n,e){this.EqRecord0=n,this.compareRecord=e},f=function(n,e){this.Eq0=n,this.compare=e},d=new f((function(){return t.eqString}),r.ordStringImpl(o.LT.value)(o.EQ.value)(o.GT.value)),w=new s((function(){return t.eqRowNil}),(function(n){return function(n){return function(n){return o.EQ.value}}})),h=new f((function(){return t.eqNumber}),r.ordNumberImpl(o.LT.value)(o.EQ.value)(o.GT.value)),g=new f((function(){return t.eqInt}),r.ordIntImpl(o.LT.value)(o.EQ.value)(o.GT.value)),p=new f((function(){return t.eqChar}),r.ordCharImpl(o.LT.value)(o.EQ.value)(o.GT.value)),v=function(n){return n.compareRecord},m=function(n){return n.compare},F=function(n){return function(e){return function(r){return!(m(n)(e)(r)instanceof o.LT)}}};e.Ord=f,e.compare=m,e.comparing=function(n){return function(e){return function(r){return function(t){return m(n)(e(r))(e(t))}}}},e.max=function(n){return function(e){return function(r){var t=m(n)(e)(r);if(t instanceof o.LT)return r;if(t instanceof o.EQ)return e;if(t instanceof o.GT)return e;throw new Error("Failed pattern match at Data.Ord (line 176, column 3 - line 179, column 12): "+[t.constructor.name])}}},e.abs=function(n){return function(e){return function(r){return F(n)(r)(u.zero(e.Semiring0()))?r:i.negate(e)(r)}}},e.signum=function(n){return function(e){return function(r){return F(n)(r)(u.zero(e.Semiring0()))?u.one(e.Semiring0()):i.negate(e)(u.one(e.Semiring0()))}}},e.ordInt=g,e.ordNumber=h,e.ordString=d,e.ordChar=p,e.ordArray=function(n){return new f((function(){return t.eqArray(n.Eq0())}),(e=function(e){return function(r){var t=m(n)(e)(r);if(t instanceof o.EQ)return 0;if(t instanceof o.LT)return 1;if(t instanceof o.GT)return-1;throw new Error("Failed pattern match at Data.Ord (line 74, column 7 - line 77, column 17): "+[t.constructor.name])}},function(n){return function(t){return m(g)(0)(r.ordArrayImpl(e)(n)(t))}}));var e},e.ordRecordNil=w,e.ordRecordCons=function(n){return function(e){return function(e){return function(r){return new s((function(){return t.eqRowCons(n.EqRecord0())()(e)(r.Eq0())}),(function(i){return function(i){return function(u){var s=a.reflectSymbol(e)(l.Proxy.value),f=m(r)(c.unsafeGet(s)(i))(c.unsafeGet(s)(u));return t.notEq(o.eqOrdering)(f)(o.EQ.value)?f:v(n)(l.Proxy.value)(i)(u)}}}))}}}},e.ordRecord=function(n){return function(n){return new f((function(){return t.eqRec()(n.EqRecord0())}),v(n)(l.Proxy.value))}}}(r),function(n){n["Data.Tuple"]=n["Data.Tuple"]||{};var e=n["Data.Tuple"],r=n["Data.Eq"],t=n["Data.Functor"],o=n["Data.Ord"],i=n["Data.Ordering"],u=n["Data.Show"],a=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),c=new t.Functor((function(n){return function(e){return new a(e.value0,n(e.value1))}}));e.Tuple=a,e.fst=function(n){return n.value0},e.snd=function(n){return n.value1},e.showTuple=function(n){return function(e){return new u.Show((function(r){return"(Tuple "+u.show(n)(r.value0)+" "+u.show(e)(r.value1)+")"}))}},e.ordTuple=function(n){return function(e){return new o.Ord((function(){return(t=n.Eq0(),function(n){return new r.Eq((function(e){return function(o){return r.eq(t)(e.value0)(o.value0)&&r.eq(n)(e.value1)(o.value1)}}))})(e.Eq0());var t}),(function(r){return function(t){var u=o.compare(n)(r.value0)(t.value0);return u instanceof i.LT?i.LT.value:u instanceof i.GT?i.GT.value:o.compare(e)(r.value1)(t.value1)}}))}},e.functorTuple=c}(r),function(n){n.unfoldr1ArrayImpl=function(n){return function(e){return function(r){return function(t){return function(o){return function(i){for(var u=[],a=i;;){var c=o(a);u.push(r(c));var l=t(c);if(n(l))return u;a=e(l)}}}}}}}}(r["Data.Unfoldable1"]=r["Data.Unfoldable1"]||{}),function(n){n["Data.Unfoldable1"]=n["Data.Unfoldable1"]||{};var e=n["Data.Unfoldable1"],r=n["Data.Unfoldable1"],t=n["Data.Maybe"],o=n["Data.Tuple"],i=function(n){this.unfoldr1=n},u=new i(r.unfoldr1ArrayImpl(t.isNothing)(t.fromJust())(o.fst)(o.snd));e.Unfoldable1=i,e.unfoldable1Array=u}(r),function(n){n["Data.Unfoldable"]=n["Data.Unfoldable"]||{};var e=n["Data.Unfoldable"],r=n["Data.Unfoldable"],t=n["Data.Function"],o=n["Data.Maybe"],i=n["Data.Tuple"],u=n["Data.Unfoldable1"],a=n["Data.Unit"],c=function(n,e){this.Unfoldable10=n,this.unfoldr=e},l=function(n){return n.unfoldr},s=new c((function(){return u.unfoldable1Array}),r.unfoldrArrayImpl(o.isNothing)(o.fromJust())(i.fst)(i.snd));e.Unfoldable=c,e.unfoldr=l,e.none=function(n){return l(n)(t.const(o.Nothing.value))(a.unit)},e.unfoldableArray=s}(r),function(n){n["Data.List.Types"]=n["Data.List.Types"]||{};var e,r=n["Data.List.Types"],t=n["Control.Alt"],o=n["Control.Applicative"],i=n["Control.Apply"],u=n["Control.Plus"],a=n["Data.Eq"],c=n["Data.Foldable"],l=n["Data.Function"],s=n["Data.Functor"],f=n["Data.Maybe"],d=n["Data.Monoid"],w=n["Data.NonEmpty"],h=n["Data.Semigroup"],g=n["Data.Show"],p=n["Data.Unfoldable"],v=n["Data.Unfoldable1"],m=function(){function n(){}return n.value=new n,n}(),F=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),S=function(n){return n},y=new s.Functor((function(n){var e;return e=m.value,function(r){var t,o=e,i=!1;function u(e,t){return t instanceof F&&t.value1 instanceof F&&t.value1.value1 instanceof F?(o=new F(t,e),void(r=t.value1.value1.value1)):(i=!0,(a=e,function(e){for(var r,t,o,i=a,u=!1;!u;)o=e,r=(t=i)instanceof F&&t.value0 instanceof F&&t.value0.value1 instanceof F&&t.value0.value1.value1 instanceof F?(i=t.value1,void(e=new F(n(t.value0.value0),new F(n(t.value0.value1.value0),new F(n(t.value0.value1.value1.value0),o))))):(u=!0,o);return r})((u=t)instanceof F&&u.value1 instanceof F&&u.value1.value1 instanceof m?new F(n(u.value0),new F(n(u.value1.value0),m.value)):u instanceof F&&u.value1 instanceof m?new F(n(u.value0),m.value):m.value));var u,a}for(;!i;)t=u(o,r);return t}})),b=w.functorNonEmpty(y),I=new c.Foldable((function(n){return function(e){return c.foldl(I)((function(r){var t=h.append(n.Semigroup0())(r);return function(n){return t(e(n))}}))(d.mempty(n))}}),(function(n){return function(e){return function(r){var t,o=e,i=!1;function u(e,t){if(t instanceof m)return i=!0,e;if(t instanceof F)return o=n(e)(t.value0),void(r=t.value1);throw new Error("Failed pattern match at Data.List.Types (line 112, column 12 - line 114, column 30): "+[t.constructor.name])}for(;!i;)t=u(o,r);return t}}}),(function(n){return function(e){var r,t=(r=m.value,function(n){var e,t=r,o=!1;function i(e,r){if(r instanceof m)return o=!0,e;if(r instanceof F)return t=new F(r.value0,e),void(n=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 108, column 7 - line 108, column 23): "+[e.constructor.name,r.constructor.name])}for(;!o;)e=i(t,n);return e}),o=c.foldl(I)(l.flip(n))(e);return function(n){return o(t(n))}}})),C=w.foldableNonEmpty(I),R=new h.Semigroup((function(n){return function(e){return c.foldr(I)(F.create)(e)(n)}})),E=new h.Semigroup((function(n){return function(e){return new w.NonEmpty(n.value0,h.append(R)(n.value1)(function(n){return new F(n.value0,n.value1)}(e)))}})),W=function(n){return new g.Show((function(e){return e instanceof m?"Nil":"("+c.intercalate(I)(d.monoidString)(" : ")(s.map(y)(g.show(n))(e))+" : Nil)"}))},P=new v.Unfoldable1((function(n){return function(e){var r;return(r=e,function(e){var t,o=r,i=!1;function u(r,t){var u=n(r);if(u.value1 instanceof f.Just)return o=u.value1.value0,void(e=new F(u.value0,t));if(u.value1 instanceof f.Nothing)return i=!0,c.foldl(I)(l.flip(F.create))(m.value)(new F(u.value0,t));throw new Error("Failed pattern match at Data.List.Types (line 136, column 22 - line 138, column 61): "+[u.constructor.name])}for(;!i;)t=u(o,e);return t})(m.value)}})),A=new p.Unfoldable((function(){return P}),(function(n){return function(e){var r;return(r=e,function(e){var t,o=r,i=!1;function u(r,t){var u=n(r);if(u instanceof f.Nothing)return i=!0,c.foldl(I)(l.flip(F.create))(m.value)(t);if(u instanceof f.Just)return o=u.value0.value1,void(e=new F(u.value0.value0,t));throw new Error("Failed pattern match at Data.List.Types (line 143, column 22 - line 145, column 52): "+[u.constructor.name])}for(;!i;)t=u(o,e);return t})(m.value)}})),D=new a.Eq1((function(n){return function(e){return function(r){var t;return(t=e,function(e){return function(r){for(var o,i,u,c,l=t,s=e,f=!1;!f;)i=l,u=s,o=(c=r)?i instanceof m&&u instanceof m?(f=!0,c):i instanceof F&&u instanceof F?(l=i.value1,s=u.value1,void(r=c&&a.eq(n)(u.value0)(i.value0))):(f=!0,!1):(f=!0,!1);return o}})(r)(!0)}}})),N=new i.Apply((function(){return y}),(function(n){return function(e){if(n instanceof m)return m.value;if(n instanceof F)return h.append(R)(s.map(y)(n.value0)(e))(i.apply(N)(n.value1)(e));throw new Error("Failed pattern match at Data.List.Types (line 158, column 1 - line 160, column 48): "+[n.constructor.name,e.constructor.name])}})),x=new i.Apply((function(){return b}),(function(n){return function(e){return new w.NonEmpty(n.value0(e.value0),h.append(R)(i.apply(N)(n.value1)(new F(e.value0,m.value)))(i.apply(N)(new F(n.value0,n.value1))(e.value1)))}})),M=new o.Applicative((function(){return N}),(function(n){return new F(n,m.value)})),T=new t.Alt((function(){return y}),h.append(R)),q=new u.Plus((function(){return T}),m.value),L=new o.Applicative((function(){return x}),(e=w.singleton(q),function(n){return e(n)}));r.Nil=m,r.Cons=F,r.NonEmptyList=S,r.showList=W,r.eqList=function(n){return new a.Eq(a.eq1(D)(n))},r.semigroupList=R,r.functorList=y,r.foldableList=I,r.unfoldableList=A,r.applicativeList=M,r.plusList=q,r.eqNonEmptyList=function(n){return w.eqNonEmpty(D)(n)},r.showNonEmptyList=function(n){return new g.Show((function(e){return"(NonEmptyList "+g.show(w.showNonEmpty(n)(W(n)))(e)+")"}))},r.functorNonEmptyList=b,r.applicativeNonEmptyList=L,r.semigroupNonEmptyList=E,r.foldableNonEmptyList=C}(r),function(n){n.mapWithIndexArray=function(n){return function(e){for(var r=e.length,t=Array(r),o=0;o<r;o++)t[o]=n(o)(e[o]);return t}}}(r["Data.FunctorWithIndex"]=r["Data.FunctorWithIndex"]||{}),function(n){n["Data.FunctorWithIndex"]=n["Data.FunctorWithIndex"]||{};var e=n["Data.FunctorWithIndex"],r=n["Data.FunctorWithIndex"],t=n["Data.Functor"],o=new function(n,e){this.Functor0=n,this.mapWithIndex=e}((function(){return t.functorArray}),r.mapWithIndexArray);e.mapWithIndex=function(n){return n.mapWithIndex},e.functorWithIndexArray=o}(r),function(n){n["Data.FoldableWithIndex"]=n["Data.FoldableWithIndex"]||{};var e=n["Data.FoldableWithIndex"],r=n["Data.Foldable"],t=n["Data.FunctorWithIndex"],o=n["Data.Monoid"],i=n["Data.Semigroup"],u=n["Data.Tuple"],a=new function(n,e,r,t){this.Foldable0=n,this.foldMapWithIndex=e,this.foldlWithIndex=r,this.foldrWithIndex=t}((function(){return r.foldableArray}),(function(n){return(e=a,function(n){return function(r){return e.foldrWithIndex((function(e){return function(t){return function(o){return i.append(n.Semigroup0())(r(e)(t))(o)}}}))(o.mempty(n))}})(n);var e}),(function(n){return function(e){var o=r.foldl(r.foldableArray)((function(e){return function(r){return n(r.value0)(e)(r.value1)}}))(e),i=t.mapWithIndex(t.functorWithIndexArray)(u.Tuple.create);return function(n){return o(i(n))}}}),(function(n){return function(e){var o=r.foldr(r.foldableArray)((function(e){return function(r){return n(e.value0)(e.value1)(r)}}))(e),i=t.mapWithIndex(t.functorWithIndexArray)(u.Tuple.create);return function(n){return o(i(n))}}}));e.foldableWithIndexArray=a}(r),function(n){n.traverseArrayImpl=function(){function n(n){return[n]}function e(n){return function(e){return[n,e]}}function r(n){return function(e){return function(r){return[n,e,r]}}}function t(n){return function(e){return n.concat(e)}}return function(o){return function(i){return function(u){return function(a){return function(c){return function l(s,f){switch(f-s){case 0:return u([]);case 1:return i(n)(a(c[s]));case 2:return o(i(e)(a(c[s])))(a(c[s+1]));case 3:return o(o(i(r)(a(c[s])))(a(c[s+1])))(a(c[s+2]));default:var d=s+2*Math.floor((f-s)/4);return o(i(t)(l(s,d)))(l(d,f))}}(0,c.length)}}}}}}()}(r["Data.Traversable"]=r["Data.Traversable"]||{}),function(n){n["Data.Traversable.Accum.Internal"]=n["Data.Traversable.Accum.Internal"]||{};var e=n["Data.Traversable.Accum.Internal"],r=n["Control.Applicative"],t=n["Control.Apply"],o=n["Data.Functor"],i=function(n){return n},u=new o.Functor((function(n){return function(e){return function(r){var t=e(r);return{accum:t.accum,value:n(t.value)}}}})),a=new t.Apply((function(){return u}),(function(n){return function(e){return function(r){var t=n(r),o=e(t.accum);return{accum:o.accum,value:t.value(o.value)}}}})),c=new r.Applicative((function(){return a}),(function(n){return function(e){return{accum:e,value:n}}}));e.stateL=i,e.applicativeStateL=c}(r),function(n){n["Data.Traversable"]=n["Data.Traversable"]||{};var e=n["Data.Traversable"],r=n["Data.Traversable"],t=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Category"],u=n["Data.Foldable"],a=n["Data.Functor"],c=n["Data.Traversable.Accum.Internal"],l=function(n){return n.traverse},s=new function(n,e,r,t){this.Foldable1=n,this.Functor0=e,this.sequence=r,this.traverse=t}((function(){return u.foldableArray}),(function(){return a.functorArray}),(function(n){return(e=s,function(n){return l(e)(n)(i.identity(i.categoryFn))})(n);var e}),(function(n){return r.traverseArrayImpl(o.apply(n.Apply0()))(a.map(n.Apply0().Functor0()))(t.pure(n))}));e.sequence=function(n){return n.sequence},e.for=function(n){return function(e){return function(r){return function(t){return l(e)(n)(t)(r)}}}},e.scanl=function(n){return function(e){return function(r){return function(t){return function(n){return function(e){return function(r){return function(t){return c.stateL(l(n)(c.applicativeStateL)((function(n){return function(r){return e(r)(n)}}))(t))(r)}}}}(n)((function(n){return function(r){var t=e(n)(r);return{accum:t,value:t}}}))(r)(t).value}}}},e.traversableArray=s}(r),function(n){n["Data.TraversableWithIndex"]=n["Data.TraversableWithIndex"]||{};var e=n["Data.TraversableWithIndex"],r=n["Data.FoldableWithIndex"],t=n["Data.FunctorWithIndex"],o=n["Data.Traversable"],i=new function(n,e,r,t){this.FoldableWithIndex1=n,this.FunctorWithIndex0=e,this.Traversable2=r,this.traverseWithIndex=t}((function(){return r.foldableWithIndexArray}),(function(){return t.functorWithIndexArray}),(function(){return o.traversableArray}),(function(n){return(e=i,function(n){return function(r){var i=o.sequence(e.Traversable2())(n),u=t.mapWithIndex(e.FunctorWithIndex0())(r);return function(n){return i(u(n))}}})(n);var e}));e.traverseWithIndex=function(n){return n.traverseWithIndex},e.traversableWithIndexArray=i}(r),function(n){n._unsafePartial=function(n){return n()}}(r["Partial.Unsafe"]=r["Partial.Unsafe"]||{}),function(n){n._crashWith=function(n){throw new Error(n)}}(r.Partial=r.Partial||{}),function(n){n.Partial=n.Partial||{};var e=n.Partial,r=n.Partial;e.crashWith=function(n){return r._crashWith}}(r),function(n){n["Partial.Unsafe"]=n["Partial.Unsafe"]||{};var e=n["Partial.Unsafe"],r=n["Partial.Unsafe"],t=n.Partial,o=r._unsafePartial;e.unsafeCrashWith=function(n){return o((function(e){return t.crashWith()(n)}))}}(r),function(n){n["Data.Variant"]=n["Data.Variant"]||{};var e=n["Data.Variant"],r=n["Data.Symbol"],t=n["Partial.Unsafe"];e.inj=function(n){return function(n){return function(e){return function(t){return{type:r.reflectSymbol(n)(e),value:t}}}}},e.on=function(n){return function(n){return function(e){return function(t){return function(o){return function(i){return i.type===r.reflectSymbol(n)(e)?t(i.value):o(i)}}}}}},e.case_=function(n){return t.unsafeCrashWith("Data.Variant: pattern match failure ["+n.type+"]")}}(r),function(n){n.error=function(n){return new Error(n)},n.message=function(n){return n.message},n.throwException=function(n){return function(){throw n}},n.catchException=function(n){return function(e){return function(){try{return e()}catch(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)?n(e)():n(new Error(e.toString()))()}}}}}(r["Effect.Exception"]=r["Effect.Exception"]||{}),function(n){n.pureE=function(n){return function(){return n}},n.bindE=function(n){return function(e){return function(){return e(n())()}}}}(r.Effect=r.Effect||{}),function(n){n.Effect=n.Effect||{};var e=n.Effect,r=n.Effect,t=n["Control.Applicative"],o=n["Control.Apply"],i=n["Control.Bind"],u=n["Control.Monad"],a=n["Data.Functor"],c=new u.Monad((function(){return f}),(function(){return l})),l=new i.Bind((function(){return s}),r.bindE),s=new o.Apply((function(){return d}),u.ap(c)),f=new t.Applicative((function(){return s}),r.pureE),d=new a.Functor(t.liftA1(f));e.functorEffect=d,e.applicativeEffect=f,e.bindEffect=l,e.monadEffect=c}(r),function(n){n["Effect.Exception"]=n["Effect.Exception"]||{};var e=n["Effect.Exception"],r=n["Effect.Exception"],t=n["Control.Applicative"],o=n["Data.Either"],i=n["Data.Functor"],u=n.Effect;e.throw=function(n){return r.throwException(r.error(n))},e.try=function(n){return r.catchException((e=t.pure(u.applicativeEffect),function(n){return e(o.Left.create(n))}))(i.map(u.functorEffect)(o.Right.create)(n));var e},e.error=r.error,e.message=r.message,e.throwException=r.throwException}(r),function(n){n.runEffectFn1=function(n){return function(e){return function(){return n(e)}}}}(r["Effect.Uncurried"]=r["Effect.Uncurried"]||{}),function(n){n["Effect.Uncurried"]=n["Effect.Uncurried"]||{};var e=n["Effect.Uncurried"],r=n["Effect.Uncurried"];e.runEffectFn1=r.runEffectFn1}(r),function(n){n.unsafePerformEffect=function(n){return n()}}(r["Effect.Unsafe"]=r["Effect.Unsafe"]||{}),function(n){n["Effect.Unsafe"]=n["Effect.Unsafe"]||{};var e=n["Effect.Unsafe"],r=n["Effect.Unsafe"];e.unsafePerformEffect=r.unsafePerformEffect}(r),function(n){n.typeOf=function(n){return typeof n},n.tagOf=function(n){return Object.prototype.toString.call(n).slice(8,-1)},n.isNull=function(n){return null===n},n.isUndefined=function(n){return void 0===n},n.isArray=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)}}(r.Foreign=r.Foreign||{}),function(n){n.fromNumberImpl=function(n){return function(e){return function(r){return(0|r)===r?n(r):e}}},n.toNumber=function(n){return n},n.toStringAs=function(n){return function(e){return e.toString(n)}}}(r["Data.Int"]=r["Data.Int"]||{}),function(n){n["Data.Int"]=n["Data.Int"]||{};var e=n["Data.Int"],r=n["Data.Int"],t=n["Data.Maybe"],o=r.fromNumberImpl(t.Just.create)(t.Nothing.value);e.fromNumber=o,e.hexadecimal=16,e.toNumber=r.toNumber,e.toStringAs=r.toStringAs}(r),function(n){n.new=function(n){return function(){return{value:n}}},n.read=function(n){return function(){return n.value}},n.modifyImpl=function(n){return function(e){return function(){var r=n(e.value);return e.value=r.state,r.value}}},n.write=function(n){return function(e){return function(){e.value=n}}}}(r["Effect.Ref"]=r["Effect.Ref"]||{}),function(n){n["Effect.Ref"]=n["Effect.Ref"]||{};var e=n["Effect.Ref"],r=n["Effect.Ref"],t=n["Data.Functor"],o=n.Effect,i=r.modifyImpl;e["modify'"]=i,e.modify_=function(n){return function(e){return t.void(o.functorEffect)(function(n){return i((function(e){var r=n(e);return{state:r,value:r}}))}(n)(e))}},e.new=r.new,e.read=r.read,e.write=r.write}(r),function(n){n["Control.Monad.Rec.Class"]=n["Control.Monad.Rec.Class"]||{};var e=n["Control.Monad.Rec.Class"],r=n["Control.Bind"],t=n["Data.Bifunctor"],o=n["Data.Either"],i=n["Data.Functor"],u=n.Effect,a=n["Effect.Ref"],c=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(n,e){this.Monad0=n,this.tailRecM=e},f=function(n){return function(e){return function(e){var r,t=!1;function o(r){if(!(r instanceof c)){if(r instanceof l)return t=!0,r.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 93, column 3 - line 93, column 25): "+[r.constructor.name])}e=n(r.value0)}for(;!t;)r=o(e);return r}(n(e))}},d=new s((function(){return o.monadEither}),(function(n){return function(e){return f((function(e){if(e instanceof o.Left)return new l(new o.Left(e.value0));if(e instanceof o.Right&&e.value0 instanceof c)return new c(n(e.value0.value0));if(e instanceof o.Right&&e.value0 instanceof l)return new l(new o.Right(e.value0.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 121, column 7 - line 121, column 33): "+[e.constructor.name])}))(n(e))}})),w=new s((function(){return u.monadEffect}),(function(n){return function(e){var t=function(n){if(n instanceof l)return n.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 113, column 30 - line 113, column 44): "+[n.constructor.name])};return function(){var o=r.bindFlipped(u.bindEffect)(a.new)(n(e))();return function(){for(;!function(){var e=a.read(o)();if(e instanceof c){var r=n(e.value0)();return a.write(r)(o)(),!1}if(e instanceof l)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 104, column 22 - line 109, column 28): "+[e.constructor.name])}(););}(),i.map(u.functorEffect)(t)(a.read(o))()}}})),h=new t.Bifunctor((function(n){return function(e){return function(r){if(r instanceof c)return new c(n(r.value0));if(r instanceof l)return new l(e(r.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 29, column 1 - line 31, column 34): "+[n.constructor.name,e.constructor.name,r.constructor.name])}}}));e.Loop=c,e.Done=l,e.MonadRec=s,e.tailRecM=function(n){return n.tailRecM},e.bifunctorStep=h,e.monadRecEffect=w,e.monadRecEither=d}(r),function(n){n["Data.List"]=n["Data.List"]||{};var e,r,t=n["Data.List"],o=n["Control.Alt"],i=n["Control.Applicative"],u=n["Control.Bind"],a=n["Control.Monad.Rec.Class"],c=n["Data.Bifunctor"],l=n["Data.Foldable"],s=n["Data.Functor"],f=n["Data.List.Types"],d=n["Data.Maybe"],w=n["Data.Tuple"],h=n["Data.Unit"],g=(e=f.Nil.value,function(n){var r,t=e,o=!1;function i(e,r){if(r instanceof f.Nil)return o=!0,e;if(r instanceof f.Cons)return t=new f.Cons(r.value0,e),void(n=r.value1);throw new Error("Failed pattern match at Data.List (line 372, column 3 - line 372, column 19): "+[e.constructor.name,r.constructor.name])}for(;!o;)r=i(t,n);return r}),p=(r=w.Tuple.create,function(n){return function(e){var t;return g((t=n,function(n){return function(e){var o,i=t,u=n,a=!1;function c(n,t,o){if(n instanceof f.Nil)return a=!0,o;if(t instanceof f.Nil)return a=!0,o;if(n instanceof f.Cons&&t instanceof f.Cons)return i=n.value1,u=t.value1,void(e=new f.Cons(r(n.value0)(t.value0),o));throw new Error("Failed pattern match at Data.List (line 795, column 3 - line 795, column 21): "+[n.constructor.name,t.constructor.name,o.constructor.name])}for(;!a;)o=c(i,u,e);return o}})(e)(f.Nil.value))}}),v=l.foldl(f.foldableList)((function(n){return function(e){return n+1|0}}))(0);t.fromFoldable=function(n){return l.foldr(n)(f.Cons.create)(f.Nil.value)},t.manyRec=function(n){return function(e){return function(r){return a.tailRecM(n)((function(t){return u.bind(n.Monad0().Bind1())(o.alt(e.Plus1().Alt0())(s.map(e.Plus1().Alt0().Functor0())(a.Loop.create)(r))(i.pure(e.Applicative0())(new a.Done(h.unit))))((function(n){return i.pure(e.Applicative0())(c.bimap(a.bifunctorStep)((function(n){return new f.Cons(n,t)}))((function(n){return g(t)}))(n))}))}))(f.Nil.value)}}},t.null=function(n){return n instanceof f.Nil},t.length=v,t.head=function(n){if(n instanceof f.Nil)return d.Nothing.value;if(n instanceof f.Cons)return new d.Just(n.value0);throw new Error("Failed pattern match at Data.List (line 234, column 1 - line 234, column 22): "+[n.constructor.name])},t.reverse=g,t.zip=p}(r),function(n){n["Data.List.NonEmpty"]=n["Data.List.NonEmpty"]||{};var e,r=n["Data.List.NonEmpty"],t=n["Data.List"],o=n["Data.List.Types"],i=n["Data.NonEmpty"],u=(e=i.singleton(o.plusList),function(n){return o.NonEmptyList(e(n))});r.singleton=u,r.length=function(n){return 1+t.length(n.value1)|0},r.cons=function(n){return function(e){return new i.NonEmpty(n,new o.Cons(e.value0,e.value1))}}}(r),function(n){n.Foreign=n.Foreign||{};var e=n.Foreign,r=n.Foreign,t=n["Control.Applicative"],o=n["Control.Monad.Error.Class"],i=n["Control.Monad.Except.Trans"],u=n["Data.Boolean"],a=n["Data.Either"],c=n["Data.Eq"],l=n["Data.Function"],s=n["Data.Functor"],f=n["Data.Int"],d=n["Data.List.NonEmpty"],w=n["Data.Maybe"],h=n["Data.Show"],g=n["Unsafe.Coerce"],p=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),v=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),m=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),F=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),S=g.unsafeCoerce,y=g.unsafeCoerce,b=new h.Show((function(n){if(n instanceof p)return"(ForeignError "+h.show(h.showString)(n.value0)+")";if(n instanceof m)return"(ErrorAtIndex "+h.show(h.showInt)(n.value0)+" "+h.show(b)(n.value1)+")";if(n instanceof F)return"(ErrorAtProperty "+h.show(h.showString)(n.value0)+" "+h.show(b)(n.value1)+")";if(n instanceof v)return"(TypeMismatch "+h.show(h.showString)(n.value0)+" "+h.show(h.showString)(n.value1)+")";throw new Error("Failed pattern match at Foreign (line 64, column 1 - line 68, column 89): "+[n.constructor.name])})),I=function(n){if(n instanceof p)return n.value0;if(n instanceof m)return"Error at array index "+h.show(h.showInt)(n.value0)+": "+I(n.value1);if(n instanceof F)return"Error at property "+h.show(h.showString)(n.value0)+": "+I(n.value1);if(n instanceof v)return"Type mismatch: expected "+n.value0+", found "+n.value1;throw new Error("Failed pattern match at Foreign (line 73, column 1 - line 73, column 45): "+[n.constructor.name])},C=function(n){var e=o.throwError(i.monadThrowExceptT(n));return function(n){return e(d.singleton(n))}},R=function(n){return function(e){return function(o){if(r.tagOf(o)===e)return t.pure(i.applicativeExceptT(n))(y(o));if(u.otherwise)return C(n)(new v(e,r.tagOf(o)));throw new Error("Failed pattern match at Foreign (line 110, column 1 - line 110, column 71): "+[e.constructor.name,o.constructor.name])}}},E=new c.Eq((function(n){return function(e){return n instanceof p&&e instanceof p?n.value0===e.value0:n instanceof v&&e instanceof v?n.value0===e.value0&&n.value1===e.value1:(n instanceof m&&e instanceof m||n instanceof F&&e instanceof F)&&n.value0===e.value0&&c.eq(E)(n.value1)(e.value1)}}));e.ForeignError=p,e.TypeMismatch=v,e.ErrorAtIndex=m,e.ErrorAtProperty=F,e.renderForeignError=I,e.unsafeToForeign=S,e.readString=function(n){return R(n)("String")},e.readBoolean=function(n){return R(n)("Boolean")},e.readInt=function(n){return function(e){var o,u=a.Left.create(d.singleton(new v("Int",r.tagOf(e)))),c=(o=w.maybe(u)(t.pure(a.applicativeEither)),function(n){return o(f.fromNumber(n))});return i.mapExceptT(s.map(n.Bind1().Apply0().Functor0())(a.either(l.const(u))(c)))(function(n){return R(n)("Number")}(n)(e))}},e.readArray=function(n){return function(e){if(r.isArray(e))return t.pure(i.applicativeExceptT(n))(y(e));if(u.otherwise)return C(n)(new v("array",r.tagOf(e)));throw new Error("Failed pattern match at Foreign (line 151, column 1 - line 151, column 66): "+[e.constructor.name])}},e.fail=C,e.eqForeignError=E,e.showForeignError=b,e.typeOf=r.typeOf,e.isNull=r.isNull,e.isUndefined=r.isUndefined}(r),function(n){n.unsafeReadPropImpl=function(n,e,r,t){return null==t?n:e(t[r])}}(r["Foreign.Index"]=r["Foreign.Index"]||{}),function(n){n["Foreign.Index"]=n["Foreign.Index"]||{};var e=n["Foreign.Index"],r=n["Foreign.Index"],t=n["Control.Applicative"],o=n["Control.Monad.Except.Trans"],i=n.Foreign;e.readProp=function(n){return function(n){return function(e){return function(u){return r.unsafeReadPropImpl(i.fail(n)(new i.TypeMismatch("object",i.typeOf(u))),t.pure(o.applicativeExceptT(n)),e,u)}}}(n)}}(r),function(n){n.Record=n.Record||{};var e=n.Record,r=n["Data.Symbol"],t=n["Record.Unsafe"];e.get=function(n){return function(e){return function(e){return function(o){return t.unsafeGet(r.reflectSymbol(n)(e))(o)}}}}}(r),function(n){n.copyRecord=function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},n.unsafeInsert=function(n){return function(e){return function(r){return r[n]=e,r}}}}(r["Record.Builder"]=r["Record.Builder"]||{}),function(n){n["Record.Builder"]=n["Record.Builder"]||{};var e=n["Record.Builder"],r=n["Record.Builder"],t=n["Control.Category"],o=n["Control.Semigroupoid"],i=n["Data.Symbol"],u=o.semigroupoidFn,a=t.categoryFn;e.build=function(n){return function(e){return n(r.copyRecord(e))}},e.insert=function(n){return function(n){return function(n){return function(e){return function(t){return function(o){return r.unsafeInsert(i.reflectSymbol(n)(e))(t)(o)}}}}}},e.semigroupoidBuilder=u,e.categoryBuilder=a}(r),function(n){n["Simple.JSON"]=n["Simple.JSON"]||{};var e,r,t,o=n["Simple.JSON"],i=n["Simple.JSON"],u=n["Control.Alt"],a=n["Control.Applicative"],c=n["Control.Apply"],l=n["Control.Bind"],s=n["Control.Category"],f=n["Control.Monad.Except"],d=n["Control.Monad.Except.Trans"],w=n["Control.Semigroupoid"],h=n["Data.Bifunctor"],g=n["Data.Either"],p=n["Data.Function"],v=n["Data.Functor"],m=n["Data.Identity"],F=n["Data.List.Types"],S=n["Data.Maybe"],y=n["Data.Semigroup"],b=n["Data.Symbol"],I=n["Data.TraversableWithIndex"],C=n["Data.Variant"],R=n["Effect.Exception"],E=n["Effect.Uncurried"],W=n["Effect.Unsafe"],P=n.Foreign,A=n["Foreign.Index"],D=n["Partial.Unsafe"],N=n.Record,x=n["Record.Builder"],M=n["Type.Proxy"],T=function(n){this.writeVariantImpl=n},q=function(n){this.writeImplFields=n},L=function(n){this.writeImpl=n},H=function(n){this.readVariantImpl=n},O=function(n){this.getFields=n},_=function(n){this.readImpl=n},J=function(n){return n.writeVariantImpl},k=function(n){return n.writeImplFields},U=function(n){return n.writeImpl},V=new L(P.unsafeToForeign),B=new L(P.unsafeToForeign),z=new L(P.unsafeToForeign),G=i._undefined,Q=new H((function(n){return function(n){return P.fail(m.monadIdentity)(new P.ForeignError("Unable to match any variant member."))}})),j=function(n){return n.readVariantImpl},K=new _(P.readString(m.monadIdentity)),X=new _(P.readInt(m.monadIdentity)),Y=function(n){return n.readImpl},Z=new _(a.pure(d.applicativeExceptT(m.monadIdentity))),$=new O((function(n){return function(n){return a.pure(d.applicativeExceptT(m.monadIdentity))(s.identity(x.categoryBuilder))}})),nn=new _(P.readBoolean(m.monadIdentity)),en=(r=h.lmap(h.bifunctorEither)((e=a.pure(F.applicativeNonEmptyList),function(n){return e(P.ForeignError.create(R.message(n)))})),t=E.runEffectFn1(i._parseJSON),function(n){return d.ExceptT(m.Identity(r(W.unsafePerformEffect(R.try(t(n))))))}),rn=new T((function(n){return function(n){return D.unsafeCrashWith("Variant was not able to be writen row WriteForeign.")}})),tn=new q((function(n){return function(n){return s.identity(x.categoryBuilder)}})),on=function(n){return n.getFields},un=function(n){return function(n){return new _((function(e){return v.map(d.functorExceptT(m.functorIdentity))(p.flip(x.build)({}))(on(n)(M.Proxy.value)(e))}))}},an=function(n){return function(e){return function(r){return function(t){return d.ExceptT(c.apply(e.Apply0())(v.map(e.Apply0().Functor0())(function(n){return function(e){return function(r){if(e instanceof g.Left&&r instanceof g.Right)return new g.Left(e.value0);if(e instanceof g.Left&&r instanceof g.Left)return new g.Left(y.append(n)(e.value0)(r.value0));if(e instanceof g.Right&&r instanceof g.Left)return new g.Left(r.value0);if(e instanceof g.Right&&r instanceof g.Right)return new g.Right(e.value0(r.value0));throw new Error("Failed pattern match at Simple.JSON (line 241, column 1 - line 241, column 90): "+[e.constructor.name,r.constructor.name])}}}(n))(d.runExceptT(r)))(d.runExceptT(t)))}}}},cn=function(n){return function(e){return function(r){return function(t){return function(t){return new O((function(t){return function(t){var o=on(r)(M.Proxy.value)(t),i=b.reflectSymbol(n)(b.SProxy.value),u=f.withExcept(v.map(F.functorNonEmptyList)(P.ErrorAtProperty.create(i))),c=l.bind(d.bindExceptT(m.monadIdentity))(u(l.bindFlipped(d.bindExceptT(m.monadIdentity))(Y(e))(A.readProp(m.monadIdentity)(i)(t))))((function(e){return a.pure(d.applicativeExceptT(m.monadIdentity))(x.insert()()(n)(b.SProxy.value)(e))}));return an(F.semigroupNonEmptyList)(m.applicativeIdentity)(v.map(d.functorExceptT(m.functorIdentity))(w.compose(x.semigroupoidBuilder))(c))(o)}}))}}}}};o.readJSON=function(n){var e=l.composeKleisliFlipped(d.bindExceptT(m.monadIdentity))(Y(n))(en);return function(n){return f.runExcept(e(n))}},o.writeJSON=function(n){var e=U(n);return function(n){return i._unsafeStringify(e(n))}},o.ReadForeign=_,o.readImpl=Y,o.WriteForeign=L,o.writeImpl=U,o.readInt=X,o.readString=K,o.readBoolean=nn,o.readArray=function(n){return new _(l.composeKleisliFlipped(d.bindExceptT(m.monadIdentity))(I.traverseWithIndex(I.traversableWithIndexArray)(d.applicativeExceptT(m.monadIdentity))((function(e){return function(r){return f.withExcept(v.map(F.functorNonEmptyList)(P.ErrorAtIndex.create(e)))(Y(n)(r))}})))(P.readArray(m.monadIdentity)))},o.readMaybe=function(n){return new _((e=Y(n),function(n){return P.isNull(n)||P.isUndefined(n)?a.pure(d.applicativeExceptT(m.monadIdentity))(S.Nothing.value):v.map(d.functorExceptT(m.functorIdentity))(S.Just.create)(e(n))}));var e},o.readRecord=un,o.readFieldsCons=cn,o.readFieldsNil=$,o.readForeignVariant=function(n){return function(n){return new _((function(e){return j(n)(M.Proxy.value)(e)}))}},o.readVariantNil=Q,o.readVariantCons=function(n){return function(e){return function(r){return function(r){return new H((function(t){return function(t){var o=b.reflectSymbol(n)(b.SProxy.value);return u.alt(d.altExceptT(F.semigroupNonEmptyList)(m.monadIdentity))(l.bind(d.bindExceptT(m.monadIdentity))(Y(un()(cn(new b.IsSymbol((function(){return"type"})))(K)(cn(new b.IsSymbol((function(){return"value"})))(Z)($)()())()()))(t))((function(r){return r.type===o?l.bind(d.bindExceptT(m.monadIdentity))(Y(e)(r.value))((function(e){return a.pure(d.applicativeExceptT(m.monadIdentity))(C.inj()(n)(b.SProxy.value)(e))})):P.fail(m.monadIdentity)(P.ForeignError.create("Did not match variant tag "+o))})))(j(r)(M.Proxy.value)(t))}}))}}}},o.writeForeignString=V,o.writeForeignInt=B,o.writeForeignBoolean=z,o.writeForeignArray=function(n){return new L((function(e){return P.unsafeToForeign(v.map(v.functorArray)(U(n))(e))}))},o.writeForeignMaybe=function(n){return new L(S.maybe(G)(U(n)))},o.recordWriteForeign=function(n){return function(n){return new L((function(e){var r=k(n)(M.Proxy.value)(e);return P.unsafeToForeign(x.build(r)({}))}))}},o.consWriteForeignFields=function(n){return function(e){return function(r){return function(t){return function(t){return function(t){return new q((function(t){return function(t){var o=k(r)(M.Proxy.value)(t),i=U(e)(N.get(n)()(b.SProxy.value)(t));return w.compose(x.semigroupoidBuilder)(x.insert()()(n)(b.SProxy.value)(i))(o)}}))}}}}}},o.nilWriteForeignFields=tn,o.writeForeignVariant=function(n){return function(n){return new L((function(e){return J(n)(M.Proxy.value)(e)}))}},o.nilWriteForeignVariant=rn,o.consWriteForeignVariant=function(n){return function(e){return function(r){return function(r){return new T((function(t){return function(t){return C.on()(n)(b.SProxy.value)((function(r){return P.unsafeToForeign({type:b.reflectSymbol(n)(b.SProxy.value),value:U(e)(r)})}))(J(r)(M.Proxy.value))(t)}}))}}}}}(r),function(n){n["Data.Pitches.Class"]=n["Data.Pitches.Class"]||{};var e=n["Data.Pitches.Class"],r=n["Control.Monad.Except.Trans"],t=n["Data.Functor"],o=n["Data.Group"],i=n["Data.Identity"],u=n["Data.Semigroup"],a=n["Data.Show"],c=n["Simple.JSON"],l=function(n){return n},s=function(n){this.parseNotation=n},f=function(n){return n.ic},d=new t.Functor((function(n){return function(e){return n(e)}})),w=function(n){return o.ginverse(n.Group0())};e.Interval=function(n,e,r,t){this.Group0=n,this.direction=e,this.iabs=r,this.octave=t},e.direction=function(n){return n.direction},e.iabs=function(n){return n.iabs},e.down=w,e.HasIntervalClass=function(n,e,r){this.Interval0=n,this.Interval1=e,this.ic=r},e.ic=f,e.pc=function(n){return t.map(d)(f(n))},e.Diatonic=function(n,e){this.Interval0=n,this.isStep=e},e.isStep=function(n){return n.isStep},e.parseNotation=function(n){return n.parseNotation},e.Pitch=l,e.toInterval=function(n){return function(n){return n}},e.pto=function(n){return function(e){return function(r){return u.append(n.Group0().Monoid0().Semigroup0())(r)(w(n)(e))}}},e.ShowPitch=function(n){this.showPitch=n},e.ParsePitchNotation=function(n){this.parsePitchNotation=n},e.WriteForeignPitch=function(n){this.writeImplPitch=n},e.ReadForeignPitch=function(n){this.readImplPitch=n},e.eqPitch=function(n){return n},e.ordPitch=function(n){return n},e.showPitchInst=function(n){return new a.Show((function(e){return n.showPitch(e)}))},e.parsenotationPitch=function(n){return new s(n.parsePitchNotation)},e.writeForeignPitch=function(n){return new c.WriteForeign((function(e){return n.writeImplPitch(e)}))},e.readForeignPitch=function(n){return new c.ReadForeign((function(e){return t.map(r.functorExceptT(i.functorIdentity))(l)(n.readImplPitch(e))}))}}(r),function(n){n.toCharCode=function(n){return n.charCodeAt(0)},n.fromCharCode=function(n){return String.fromCharCode(n)}}(r["Data.Enum"]=r["Data.Enum"]||{}),function(n){n.topInt=2147483647,n.bottomInt=-2147483648,n.topChar=String.fromCharCode(65535),n.bottomChar=String.fromCharCode(0)}(r["Data.Bounded"]=r["Data.Bounded"]||{}),function(n){n["Data.Bounded"]=n["Data.Bounded"]||{};var e=n["Data.Bounded"],r=n["Data.Bounded"],t=n["Data.Ord"],o=function(n,e,r){this.Ord0=n,this.bottom=e,this.top=r},i=new o((function(){return t.ordInt}),r.bottomInt,r.topInt),u=new o((function(){return t.ordChar}),r.bottomChar,r.topChar);e.Bounded=o,e.bottom=function(n){return n.bottom},e.top=function(n){return n.top},e.boundedInt=i,e.boundedChar=u}(r),function(n){n["Data.Enum"]=n["Data.Enum"]||{};var e=n["Data.Enum"],r=n["Data.Enum"],t=n["Data.Bounded"],o=n["Data.Maybe"],i=n["Data.Ord"],u=function(n,e,r){this.Ord0=n,this.pred=e,this.succ=r},a=function(n,e,r,t,o){this.Bounded0=n,this.Enum1=e,this.cardinality=r,this.fromEnum=t,this.toEnum=o},c=function(n){return n.toEnum},l=function(n){return n.fromEnum},s=function(n){return function(e){return function(r){return n(e(r)+1|0)}}},f=function(n){return function(e){return function(r){return n(e(r)-1|0)}}},d=function(n){return n>=t.bottom(t.boundedInt)&&n<=t.top(t.boundedInt)?new o.Just(r.fromCharCode(n)):o.Nothing.value},w=new u((function(){return i.ordChar}),f(d)(r.toCharCode),s(d)(r.toCharCode)),h=new a((function(){return t.boundedChar}),(function(){return w}),r.toCharCode(t.top(t.boundedChar))-r.toCharCode(t.bottom(t.boundedChar))|0,r.toCharCode,d);e.Enum=u,e.BoundedEnum=a,e.toEnum=c,e.fromEnum=l,e.toEnumWithDefaults=function(n){return function(e){return function(r){return function(i){var u=c(n)(i);if(u instanceof o.Just)return u.value0;if(u instanceof o.Nothing)return i<l(n)(t.bottom(n.Bounded0()))?e:r;throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[u.constructor.name])}}}},e.defaultSucc=s,e.defaultPred=f,e.boundedEnumChar=h}(r),function(n){n["Data.Char"]=n["Data.Char"]||{};var e=n["Data.Char"],r=n["Data.Enum"],t=r.fromEnum(r.boundedEnumChar),o=r.toEnum(r.boundedEnumChar);e.toCharCode=t,e.fromCharCode=o}(r),function(n){n["Control.Alternative"]=n["Control.Alternative"]||{};n["Control.Alternative"].Alternative=function(n,e){this.Applicative0=n,this.Plus1=e}}(r),function(n){n["Text.Parsing.StringParser"]=n["Text.Parsing.StringParser"]||{};var e=n["Text.Parsing.StringParser"],r=n["Control.Alt"],t=n["Control.Alternative"],o=n["Control.Applicative"],i=n["Control.Apply"],u=n["Control.Bind"],a=n["Control.Monad"],c=n["Control.Monad.Rec.Class"],l=n["Control.Plus"],s=n["Data.Bifunctor"],f=n["Data.Boolean"],d=n["Data.Either"],w=n["Data.Functor"],h=new w.Functor((function(n){return function(e){var r=w.map(d.functorEither)((function(e){return{result:n(e.result),suffix:e.suffix}}));return function(n){return r(e(n))}}})),g=function(n){return function(e){return new d.Left({pos:e.pos,error:n})}},p=new i.Apply((function(){return h}),(function(n){return function(e){return function(r){return u.bind(d.bindEither)(n(r))((function(n){return u.bind(d.bindEither)(e(n.suffix))((function(e){return o.pure(d.applicativeEither)({result:n.result(e.result),suffix:e.suffix})}))}))}}})),v=new u.Bind((function(){return p}),(function(n){return function(e){return function(r){return u.bind(d.bindEither)(n(r))((function(n){return e(n.result)(n.suffix)}))}}})),m=new o.Applicative((function(){return p}),(function(n){return function(e){return new d.Right({result:n,suffix:e})}})),F=new a.Monad((function(){return m}),(function(){return v})),S=new c.MonadRec((function(){return F}),(function(n){return function(e){var r=function(n){if(n.result instanceof c.Loop)return new c.Loop({state:n.result.value0,str:n.suffix});if(n.result instanceof c.Done)return new c.Done({result:n.result.value0,suffix:n.suffix});throw new Error("Failed pattern match at Text.Parsing.StringParser (line 90, column 7 - line 90, column 70): "+[n.constructor.name])};return function(t){return c.tailRecM(c.monadRecEither)((function(e){return w.map(d.functorEither)(r)(n(e.state)(e.str))}))({state:e,str:t})}}})),y=new r.Alt((function(){return h}),(function(n){return function(e){return function(r){var t=n(r);if(t instanceof d.Left){if(r.pos===t.value0.pos)return e(r);if(f.otherwise)return new d.Left({error:t.value0.error,pos:t.value0.pos})}return t}}})),b=new l.Plus((function(){return y}),g("No alternative")),I=new t.Alternative((function(){return m}),(function(){return b}));e.runParser=function(n){return function(e){return w.map(d.functorEither)((function(n){return n.result}))(n({str:e,pos:0}))}},e.fail=g,e.try=function(n){return function(e){return s.lmap(s.bifunctorEither)((function(n){return{pos:e.pos,error:n.error}}))(n(e))}},e.functorParser=h,e.applyParser=p,e.applicativeParser=m,e.altParser=y,e.alternativeParser=I,e.bindParser=v,e.monadRecParser=S}(r),function(n){var e="function"==typeof Array.from,r="undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator],t="function"==typeof String.prototype.fromCodePoint,o="function"==typeof String.prototype.codePointAt;n._unsafeCodePointAt0=function(n){return o?function(n){return n.codePointAt(0)}:n},n._codePointAt=function(n){return function(e){return function(t){return function(o){return function(i){return function(u){var a=u.length;if(i<0||i>=a)return t;if(r)for(var c=u[Symbol.iterator](),l=i;;--l){var s=c.next();if(s.done)return t;if(0===l)return e(o(s.value))}return n(i)(u)}}}}}},n._singleton=function(n){return t?String.fromCodePoint:n},n._take=function(n){return function(e){return r?function(n){for(var r="",t=n[Symbol.iterator](),o=0;o<e;++o){var i=t.next();if(i.done)return r;r+=i.value}return r}:n(e)}},n._toCodePointArray=function(n){return function(r){return e?function(n){return Array.from(n,r)}:n}}}(r["Data.String.CodePoints"]=r["Data.String.CodePoints"]||{}),function(n){n.range=function(n){return function(e){for(var r=n>e?-1:1,t=new Array(r*(e-n)+1),o=n,i=0;o!==e;)t[i++]=o,o+=r;return t[i]=o,t}};n.replicate="function"==typeof Array.prototype.fill?function(n){return function(e){return n<1?[]:new Array(n).fill(e)}}:function(n){return function(e){for(var r=[],t=0,o=0;o<n;o++)r[t++]=e;return r}},n.fromFoldableImpl=function(){function n(n,e){this.head=n,this.tail=e}var e={};function r(e){return function(r){return new n(e,r)}}return function(n){return function(t){return function(n){for(var r=[],t=0,o=n;o!==e;)r[t++]=o.head,o=o.tail;return r}(n(r)(e)(t))}}}(),n.length=function(n){return n.length},n.unconsImpl=function(n){return function(e){return function(r){return 0===r.length?n({}):e(r[0])(r.slice(1))}}},n.indexImpl=function(n){return function(e){return function(r){return function(t){return t<0||t>=r.length?e:n(r[t])}}}},n.findIndexImpl=function(n){return function(e){return function(r){return function(t){for(var o=0,i=t.length;o<i;o++)if(r(t[o]))return n(o);return e}}}},n._deleteAt=function(n){return function(e){return function(r){return function(t){if(r<0||r>=t.length)return e;var o=t.slice();return o.splice(r,1),n(o)}}}},n.reverse=function(n){return n.slice().reverse()},n.filter=function(n){return function(e){return e.filter(n)}},n.sortByImpl=function(){function n(e,r,t,o,i,u){var a,c,l,s,f,d;for((a=i+(u-i>>1))-i>1&&n(e,r,o,t,i,a),u-a>1&&n(e,r,o,t,a,u),c=i,l=a,s=i;c<a&&l<u;)f=o[c],d=o[l],r(e(f)(d))>0?(t[s++]=d,++l):(t[s++]=f,++c);for(;c<a;)t[s++]=o[c++];for(;l<u;)t[s++]=o[l++]}return function(e){return function(r){return function(t){var o;return t.length<2?t:(o=t.slice(0),n(e,r,o,t.slice(0),0,t.length),o)}}}}(),n.zipWith=function(n){return function(e){return function(r){for(var t=e.length<r.length?e.length:r.length,o=new Array(t),i=0;i<t;i++)o[i]=n(e[i])(r[i]);return o}}},n.any=function(n){return function(e){for(var r=e.length,t=0;t<r;t++)if(n(e[t]))return!0;return!1}},n.all=function(n){return function(e){for(var r=e.length,t=0;t<r;t++)if(!n(e[t]))return!1;return!0}},n.unsafeIndexImpl=function(n){return function(e){return n[e]}}}(r["Data.Array"]=r["Data.Array"]||{}),function(n){n.pushAll=function(n){return function(e){return function(){return e.push.apply(e,n)}}},n.unsafeFreeze=function(n){return function(){return n}},n.thaw=function(n){return function(){return n.slice()}}}(r["Data.Array.ST"]=r["Data.Array.ST"]||{}),function(n){n["Data.Array.ST"]=n["Data.Array.ST"]||{};var e=n["Data.Array.ST"],r=n["Data.Array.ST"];e.withArray=function(n){return function(e){return function(){var t=r.thaw(e)();return n(t)(),r.unsafeFreeze(t)()}}},e.push=function(n){return r.pushAll([n])}}(r),function(n){n["Data.Array"]=n["Data.Array"]||{};var e,r,t=n["Data.Array"],o=n["Data.Array"],i=n["Control.Bind"],u=n["Control.Category"],a=n["Data.Array.ST"],c=n["Data.Eq"],l=n["Data.Foldable"],s=n["Data.Function"],f=n["Data.Functor"],d=n["Data.Maybe"],w=n["Data.Ord"],h=n["Data.Ordering"],g=n["Data.Semigroup"],p=o.unconsImpl(s.const(d.Nothing.value))((function(n){return function(n){return new d.Just(n)}})),v=function(n){return o.sortByImpl(n)((function(n){if(n instanceof h.GT)return 1;if(n instanceof h.EQ)return 0;if(n instanceof h.LT)return-1;throw new Error("Failed pattern match at Data.Array (line 831, column 31 - line 834, column 11): "+[n.constructor.name])}))},m=function(n){return[n]},F=o.indexImpl(d.Just.create)(d.Nothing.value),S=(l.foldr(l.foldableArray),o.findIndexImpl(d.Just.create)(d.Nothing.value)),y=o._deleteAt(d.Just.create)(d.Nothing.value),b=s.flip(i.bind(i.bindArray)),I=(e=u.identity(u.categoryFn),b((r=d.maybe([])(m),function(n){return r(e(n))})));t.fromFoldable=function(n){return o.fromFoldableImpl(l.foldr(n))},t.cons=function(n){return function(e){return g.append(g.semigroupArray)([n])(e)}},t.snoc=function(n){return function(e){return a.withArray(a.push(e))(n)()}},t.last=function(n){return F(n)(o.length(n)-1|0)},t.tail=p,t.elem=function(n){return function(e){return function(r){return d.isJust(function(n){return function(e){return S((function(r){return c.eq(n)(r)(e)}))}}(n)(e)(r))}}},t.find=function(n){return function(e){return f.map(d.functorMaybe)(o.unsafeIndexImpl(e))(S(n)(e))}},t.findIndex=S,t.concatMap=b,t.catMaybes=I,t.mapWithIndex=function(n){return function(e){return o.zipWith(n)(o.range(0)(o.length(e)-1|0))(e)}},t.sortBy=v,t.sortWith=function(n){return function(e){return v(w.comparing(n)(e))}},t.deleteBy=function(n){return function(e){return function(r){return 0===r.length?[]:d.maybe(r)((function(n){return d.fromJust()(y(n)(r))}))(S(n(e))(r))}}},t.replicate=o.replicate,t.length=o.length,t.reverse=o.reverse,t.filter=o.filter,t.any=o.any,t.all=o.all}(r),function(n){n.singleton=function(n){return n},n.length=function(n){return n.length},n.drop=function(n){return function(e){return e.substring(n)}}}(r["Data.String.CodeUnits"]=r["Data.String.CodeUnits"]||{}),function(n){n["Data.String.CodeUnits"]=n["Data.String.CodeUnits"]||{};var e=n["Data.String.CodeUnits"],r=n["Data.String.CodeUnits"];e.singleton=r.singleton,e.length=r.length,e.drop=r.drop}(r),function(n){n.split=function(n){return function(e){return e.split(n)}},n.toUpper=function(n){return n.toUpperCase()},n.joinWith=function(n){return function(e){return e.join(n)}}}(r["Data.String.Common"]=r["Data.String.Common"]||{}),function(n){n["Data.String.Common"]=n["Data.String.Common"]||{};var e=n["Data.String.Common"],r=n["Data.String.Common"];e.split=r.split,e.toUpper=r.toUpper,e.joinWith=r.joinWith}(r),function(n){n.charAt=function(n){return function(e){if(n>=0&&n<e.length)return e.charAt(n);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}}}(r["Data.String.Unsafe"]=r["Data.String.Unsafe"]||{}),function(n){n["Data.String.Unsafe"]=n["Data.String.Unsafe"]||{};var e=n["Data.String.Unsafe"],r=n["Data.String.Unsafe"];e.charAt=r.charAt}(r),function(n){n["Data.String.CodePoints"]=n["Data.String.CodePoints"]||{};var e,r,t=n["Data.String.CodePoints"],o=n["Data.String.CodePoints"],i=(n["Data.Array"],n["Data.Boolean"]),u=n["Data.Bounded"],a=n["Data.Enum"],c=n["Data.Eq"],l=n["Data.EuclideanRing"],s=n["Data.Functor"],f=n["Data.Int"],d=n["Data.Maybe"],w=n["Data.Ord"],h=n["Data.Show"],g=n["Data.String.CodeUnits"],p=n["Data.String.Common"],v=n["Data.String.Unsafe"],m=n["Data.Tuple"],F=n["Data.Unfoldable"],S=function(n){return function(e){return 65536+((1024*(n-55296|0)|0)+(e-56320|0)|0)|0}},y=new h.Show((function(n){return"(CodePoint 0x"+p.toUpper(f.toStringAs(f.hexadecimal)(n))+")"})),b=function(n){return 56320<=n&&n<=57343},I=function(n){return 55296<=n&&n<=56319},C=function(n){var e=g.length(n);if(0===e)return d.Nothing.value;if(1===e)return new d.Just({head:a.fromEnum(a.boundedEnumChar)(v.charAt(0)(n)),tail:""});var r=a.fromEnum(a.boundedEnumChar)(v.charAt(1)(n)),t=a.fromEnum(a.boundedEnumChar)(v.charAt(0)(n));return I(t)&&b(r)?new d.Just({head:S(t)(r),tail:g.drop(2)(n)}):new d.Just({head:t,tail:g.drop(1)(n)})},R=function(n){return s.map(d.functorMaybe)((function(n){return new m.Tuple(n.head,n.tail)}))(C(n))},E=o._unsafeCodePointAt0((function(n){var e=a.fromEnum(a.boundedEnumChar)(v.charAt(0)(n));if(I(e)&&g.length(n)>1){var r=a.fromEnum(a.boundedEnumChar)(v.charAt(1)(n));return b(r)?S(e)(r):e}return e})),W=(o._toCodePointArray((function(n){return F.unfoldr(F.unfoldableArray)(R)(n)}))(E),e=a.toEnumWithDefaults(a.boundedEnumChar)(u.bottom(u.boundedChar))(u.top(u.boundedChar)),function(n){return g.singleton(e(n))}),P=o._singleton((function(n){if(n<=65535)return W(n);var e=l.div(l.euclideanRingInt)(n-65536|0)(1024)+55296|0,r=l.mod(l.euclideanRingInt)(n-65536|0)(1024)+56320|0;return W(e)+W(r)})),A=function(n){return function(e){if(n<1)return"";var r=C(e);return r instanceof d.Just?P(r.value0.head)+A(n-1|0)(r.value0.tail):e}},D=(o._take(A),new c.Eq((function(n){return function(e){return n===e}}))),N=new w.Ord((function(){return D}),(function(n){return function(e){return w.compare(w.ordInt)(n)(e)}})),x=(r=a.fromEnum(a.boundedEnumChar),function(n){return r(n)}),M=function(n){return function(e){var r,t,o,i=n,u=!1;for(;!u;)t=i,o=void 0,r=(o=C(e))instanceof d.Just?0===t?(u=!0,new d.Just(o.value0.head)):(i=t-1|0,void(e=o.value0.tail)):(u=!0,d.Nothing.value);return r}},T=new u.Bounded((function(){return N}),0,1114111),q=new a.BoundedEnum((function(){return T}),(function(){return L}),1114112,(function(n){return n}),(function(n){if(n>=0&&n<=1114111)return new d.Just(n);if(i.otherwise)return d.Nothing.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[n.constructor.name])})),L=new a.Enum((function(){return N}),a.defaultPred(a.toEnum(q))(a.fromEnum(q)),a.defaultSucc(a.toEnum(q))(a.fromEnum(q)));t.codePointFromChar=x,t.singleton=P,t.codePointAt=function(n){return function(e){return n<0||0===n&&""===e?d.Nothing.value:0===n?new d.Just(E(e)):o._codePointAt(M)(d.Just.create)(d.Nothing.value)(E)(n)(e)}},t.showCodePoint=y,t.boundedEnumCodePoint=q}(r),function(n){n["Text.Parsing.StringParser.Combinators"]=n["Text.Parsing.StringParser.Combinators"]||{};var e=n["Text.Parsing.StringParser.Combinators"],r=n["Control.Alt"],t=n["Control.Applicative"],o=n["Control.Apply"],i=n["Data.Functor"],u=n["Data.List"],a=n["Data.NonEmpty"],c=n["Text.Parsing.StringParser"],l=u.manyRec(c.monadRecParser)(c.alternativeParser),s=function(n){return function(e){return new a.NonEmpty(n,e)}};e.many1=function(n){return o.apply(c.applyParser)(i.map(c.functorParser)(s)(n))(l(n))},e.withError=function(n){return function(e){return r.alt(c.altParser)(n)(c.fail(e))}},e.option=function(n){return function(e){return r.alt(c.altParser)(e)(t.pure(c.applicativeParser)(n))}}}(r),function(n){n["Text.Parsing.StringParser.CodePoints"]=n["Text.Parsing.StringParser.CodePoints"]||{};var e,r,t=n["Text.Parsing.StringParser.CodePoints"],o=n["Control.Applicative"],i=n["Control.Bind"],u=n["Data.Char"],a=n["Data.Either"],c=n["Data.Enum"],l=n["Data.Eq"],s=n["Data.Foldable"],f=n["Data.Function"],d=n["Data.Maybe"],w=n["Data.Show"],h=n["Data.String.CodePoints"],g=n["Text.Parsing.StringParser"],p=n["Text.Parsing.StringParser.Combinators"],v=(e=c.fromEnum(h.boundedEnumCodePoint),r=function(n){return u.fromCharCode(e(n))},function(n){var e=h.codePointAt(n.pos)(n.str);if(e instanceof d.Just){var t=r(e.value0);if(t instanceof d.Just)return new a.Right({result:t.value0,suffix:{str:n.str,pos:n.pos+1|0}});if(t instanceof d.Nothing)return new a.Left({pos:n.pos,error:"CodePoint "+w.show(h.showCodePoint)(e.value0)+" is not a character"});throw new Error("Failed pattern match at Text.Parsing.StringParser.CodePoints (line 53, column 16 - line 55, column 87): "+[t.constructor.name])}if(e instanceof d.Nothing)return new a.Left({pos:n.pos,error:"Unexpected EOF"});throw new Error("Failed pattern match at Text.Parsing.StringParser.CodePoints (line 52, column 3 - line 56, column 53): "+[e.constructor.name])}),m=g.try(i.bind(g.bindParser)(v)((function(n){return n>="0"&&n<="9"?o.pure(g.applicativeParser)(n):g.fail("Character "+w.show(w.showChar)(n)+" is not a digit")}))),F=function(n){return g.try(i.bind(g.bindParser)(v)((function(e){return n(e)?o.pure(g.applicativeParser)(e):g.fail("Character "+w.show(w.showChar)(e)+" did not satisfy predicate")})))};t.anyDigit=m,t.char=function(n){return p.withError(F((function(e){return e===n})))("Could not match character "+w.show(w.showChar)(n))},t.oneOf=function(n){var e=f.flip(s.elem(n)(l.eqChar));return function(n){return F(e(n))}}}(r),function(n){n["Data.Pitches.Internal"]=n["Data.Pitches.Internal"]||{};var e=n["Data.Pitches.Internal"],r=n["Control.Applicative"],t=n["Control.Bind"],o=n["Control.Monad.Except.Trans"],i=n["Data.Char"],u=n["Data.Foldable"],a=n["Data.Identity"],c=n["Data.List.Types"],l=n["Data.Maybe"],s=n["Data.Pitches.Class"],f=n.Foreign,d=n["Simple.JSON"],w=n["Text.Parsing.StringParser"],h=n["Text.Parsing.StringParser.CodePoints"],g=n["Text.Parsing.StringParser.Combinators"],p=i.toCharCode("0"),v=t.bind(w.bindParser)(g.option("+")(h.char("-")))((function(n){var e="-"===n?-1:1;return t.bind(w.bindParser)(g.many1(h.anyDigit))((function(n){return r.pure(w.applicativeParser)(e*u.foldl(c.foldableNonEmptyList)((function(n){return function(e){return(10*n|0)+function(n){return i.toCharCode(n)-p|0}(e)|0}}))(0)(n)|0)}))}));e.parseInt=v,e.readJSONviaParse=function(n){return function(e){return function(i){return t.bind(o.bindExceptT(a.monadIdentity))(d.readImpl(d.readString)(i))((function(t){var i=s.parseNotation(n)(t);if(i instanceof l.Nothing)return f.fail(a.monadIdentity)(f.ForeignError.create("Cannot parse "+t+" as "+e+"!"));if(i instanceof l.Just)return r.pure(o.applicativeExceptT(a.monadIdentity))(i.value0);throw new Error("Failed pattern match at Data.Pitches.Internal (line 36, column 3 - line 38, column 21): "+[i.constructor.name])}))}}}}(r),function(n){n["Data.Pitches.Spelled"]=n["Data.Pitches.Spelled"]||{};var e,r,t,o,i=n["Data.Pitches.Spelled"],u=n["Control.Alt"],a=n["Control.Applicative"],c=n["Control.Bind"],l=n["Control.Monad.Except.Trans"],s=n["Data.Boolean"],f=n["Data.Char"],d=n["Data.Either"],w=n["Data.Eq"],h=n["Data.EuclideanRing"],g=n["Data.Foldable"],p=n["Data.Functor"],v=n["Data.Group"],m=n["Data.Identity"],F=n["Data.List.NonEmpty"],S=n["Data.Maybe"],y=n["Data.Monoid"],b=n["Data.Ord"],I=n["Data.Ordering"],C=n["Data.Pitches.Class"],R=n["Data.Pitches.Internal"],E=n["Data.Ring"],W=n["Data.Semigroup"],P=n["Data.Show"],A=n["Data.String.CodePoints"],D=n["Simple.JSON"],N=n["Text.Parsing.StringParser"],x=n["Text.Parsing.StringParser.CodePoints"],M=n["Text.Parsing.StringParser.Combinators"],T=function(n,e,r,t,o,i,u){this.alteration=n,this.degree=e,this.diasteps=r,this.fifths=t,this.generic=o,this.internalOctaves=i,this.octaves=u},q=function(n){return function(e){return{fifths:n,octaves:e}}},L=function(n){return n},H=new W.Semigroup((function(n){return function(e){return q(n.fifths+e.fifths|0)(n.octaves+e.octaves|0)}})),O=new W.Semigroup((function(n){return function(e){return L(n+e|0)}})),_=(r=function(n){return M.many1(x.char(n))},t=p.map(N.functorParser)(F.length)(u.alt(N.altParser)(r("♯"))(r("#"))),o=p.map(N.functorParser)((e=E.negate(E.ringInt),function(n){return e(F.length(n))}))(u.alt(N.altParser)(r("♭"))(r("b"))),M.option(0)(u.alt(N.altParser)(t)(o))),J=function(n){return n.octaves},k=new y.Monoid((function(){return H}),q(0)(0)),U=new y.Monoid((function(){return O}),L(0)),V=new v.Group((function(){return k}),(function(n){return q(0|-n.fifths)(0|-n.octaves)})),B=new v.Group((function(){return U}),(function(n){return L(0|-n)})),z=function(n){return h.mod(h.euclideanRingInt)(4*n|0)(7)},G=new T((function(n){return h.div(h.euclideanRingInt)(n+1|0)(7)}),(function(n){return z(n)}),(function(n){return z(n)}),(function(n){return n}),(function(n){return z(n)}),(function(n){return 0}),(function(n){return 0})),Q=function(n){return n.fifths},j=new w.Eq((function(n){return function(e){return n.fifths===e.fifths&&n.octaves===e.octaves}})),K=new w.Eq((function(n){return function(e){return n===e}})),X=function(n){return n.diasteps},Y=new C.Interval((function(){return B}),(function(n){var e=X(G)(n);return 0===e?I.EQ.value:e<4?I.GT.value:I.LT.value}),(function(n){if(w.eq(I.eqOrdering)(C.direction(Y)(n))(I.LT.value))return C.down(Y)(n);if(s.otherwise)return n;throw new Error("Failed pattern match at Data.Pitches.Spelled (line 295, column 1 - line 302, column 20): "+[n.constructor.name])}),L(0)),Z=function(n){return n.degree},$=new C.Diatonic((function(){return Y}),(function(n){var e=Z(G)(n);return 0===e||1===e||6===e})),nn=new T((function(n){return h.div(h.euclideanRingInt)(Q(nn)(C.iabs(en)(n))+1|0)(7)}),(function(n){return z(n.fifths)}),(function(n){return(4*n.fifths|0)+(7*n.octaves|0)|0}),(function(n){return n.fifths}),(function(n){if(w.eq(I.eqOrdering)(C.direction(en)(n))(I.LT.value))return 0|-Z(nn)(C.down(en)(n));if(s.otherwise)return Z(nn)(n);throw new Error("Failed pattern match at Data.Pitches.Spelled (line 170, column 1 - line 179, column 47): "+[n.constructor.name])}),(function(n){return n.octaves}),(function(n){return n.octaves+h.div(h.euclideanRingInt)(4*n.fifths|0)(7)|0})),en=new C.Interval((function(){return V}),(function(n){return b.compare(b.ordInt)(X(nn)(n))(0)}),(function(n){if(w.eq(I.eqOrdering)(C.direction(en)(n))(I.LT.value))return C.down(en)(n);if(s.otherwise)return n;throw new Error("Failed pattern match at Data.Pitches.Spelled (line 193, column 1 - line 198, column 20): "+[n.constructor.name])}),q(0)(1)),rn=new C.HasIntervalClass((function(){return en}),(function(){return Y}),(function(n){return L(n.fifths)})),tn=f.toCharCode("A"),on=c.bind(N.bindParser)(x.oneOf(g.foldableArray)(["A","B","C","D","E","F","G"]))((function(n){var e=h.mod(h.euclideanRingInt)((f.toCharCode(n)-tn|0)-2|0)(7);return c.bind(N.bindParser)(_)((function(n){return a.pure(N.applicativeParser)((h.mod(h.euclideanRingInt)(1+(2*e|0)|0)(7)-1|0)+(7*n|0)|0)}))})),un=new C.ParsePitchNotation((function(n){var e=c.bind(N.bindParser)(on)((function(n){return c.bind(N.bindParser)(R.parseInt)((function(e){return a.pure(N.applicativeParser)(function(n){return function(e){return C.Pitch(q(n)(e))}}(n)(e-h.div(h.euclideanRingInt)(4*n|0)(7)|0))}))}));return d.hush(N.runParser(e)(n))})),an=new C.ReadForeignPitch((function(n){return p.map(l.functorExceptT(m.functorIdentity))(C.toInterval(en))(R.readJSONviaParse(C.parsenotationPitch(un))("spelled pitch")(n))})),cn=function(n){return n.alteration},ln=new b.Ord((function(){return j}),(function(n){return function(e){return b.compare(b.ordArray(b.ordInt))([X(nn)(n),cn(nn)(n)])([X(nn)(e),cn(nn)(e)])}})),sn=function(n){return function(e){return function(r){return new T((function(n){return cn(r)(C.ic(e)(n))}),(function(e){return Z(n)(e)}),(function(e){return X(n)(e)}),(function(e){return Q(n)(e)}),(function(e){return n.generic(e)}),(function(e){return n.internalOctaves(e)}),(function(e){return J(n)(e)}))}}},fn=new C.ShowPitch((function(n){var e,r,t=(e=cn(sn(nn)(rn)(G))(n),function(n){return function(r){if(0===e)return"";if(e>0)return y.power(y.monoidString)(n)(e);if(s.otherwise)return y.power(y.monoidString)(r)(b.abs(b.ordInt)(E.ringInt)(e));throw new Error("Failed pattern match at Data.Pitches.Spelled (line 86, column 1 - line 86, column 44): "+[e.constructor.name,n.constructor.name,r.constructor.name])}})("♯")("♭");return(r=sn(nn)(rn)(G),function(n){return A.singleton(A.codePointFromChar(S.fromMaybe("X")(f.fromCharCode(tn+h.mod(h.euclideanRingInt)(Z(r)(n)+2|0)(7)|0))))})(n)+(t+P.show(P.showInt)(J(sn(nn)(rn)(G))(n)))})),dn=new C.WriteForeignPitch((function(n){return D.writeImpl(D.writeForeignString)(P.show(C.showPitchInst(fn))(n))}));i.eqSInterval=j,i.ordSInterval=ln,i.intervalSInterval=en,i.hasintervalclassSInterval=rn,i.eqSIC=K,i.intervalSIC=Y,i.diatonicSIC=$,i.showpitchSInterval=fn,i.writeForeignSPitch=dn,i.readForeignSPitch=an,i.parsenotationSPitch=un}(r),function(n){n.intercalate=function(n){return function(e){var r=e.length;if(0===r)return"";for(var t=e[0],o=1;o<r;o++)t=t+n+e[o];return t}}}(r["Data.Show.Generic"]=r["Data.Show.Generic"]||{}),function(n){n["Data.Show.Generic"]=n["Data.Show.Generic"]||{};var e=n["Data.Show.Generic"],r=n["Data.Show.Generic"],t=n["Data.Generic.Rep"],o=n["Data.Semigroup"],i=n["Data.Show"],u=n["Data.Symbol"],a=n["Type.Proxy"],c=function(n){this.genericShowArgs=n},l=function(n){this["genericShow'"]=n},s=new c((function(n){return[]})),f=function(n){return n["genericShow'"]};e.genericShow=function(n){return function(e){return function(r){return f(e)(t.from(n)(r))}}},e.genericShowArgsNoArguments=s,e.genericShowSum=function(n){return function(e){return new l((function(r){if(r instanceof t.Inl)return f(n)(r.value0);if(r instanceof t.Inr)return f(e)(r.value0);throw new Error("Failed pattern match at Data.Show.Generic (line 26, column 1 - line 28, column 40): "+[r.constructor.name])}))}},e.genericShowConstructor=function(n){return function(e){return new l((function(t){var i=u.reflectSymbol(e)(a.Proxy.value),c=n.genericShowArgs(t);return 0===c.length?i:"("+r.intercalate(" ")(o.append(o.semigroupArray)([i])(c))+")"}))}},e.genericShowArgsArgument=function(n){return new c((function(e){return[i.show(n)(e)]}))}}(r),function(n){n["Data.Map.Internal"]=n["Data.Map.Internal"]||{};var e=n["Data.Map.Internal"],r=n["Control.Applicative"],t=n["Data.Foldable"],o=n["Data.Function"],i=n["Data.List.Types"],u=n["Data.Maybe"],a=n["Data.Ord"],c=n["Data.Ordering"],l=n["Data.Semigroup"],s=n["Data.Show"],f=n["Data.Tuple"],d=n["Data.Unfoldable"],w=function(){function n(){}return n.value=new n,n}(),h=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(o){return new n(e,r,t,o)}}}},n}(),g=function(){function n(n,e,r,t,o,i,u){this.value0=n,this.value1=e,this.value2=r,this.value3=t,this.value4=o,this.value5=i,this.value6=u}return n.create=function(e){return function(r){return function(t){return function(o){return function(i){return function(u){return function(a){return new n(e,r,t,o,i,u,a)}}}}}}},n}(),p=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),v=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),m=function(){function n(n,e,r,t,o,i){this.value0=n,this.value1=e,this.value2=r,this.value3=t,this.value4=o,this.value5=i}return n.create=function(e){return function(r){return function(t){return function(o){return function(i){return function(u){return new n(e,r,t,o,i,u)}}}}}},n}(),F=function(){function n(n,e,r,t,o,i){this.value0=n,this.value1=e,this.value2=r,this.value3=t,this.value4=o,this.value5=i}return n.create=function(e){return function(r){return function(t){return function(o){return function(i){return function(u){return new n(e,r,t,o,i,u)}}}}}},n}(),S=function(){function n(n,e,r,t,o,i){this.value0=n,this.value1=e,this.value2=r,this.value3=t,this.value4=o,this.value5=i}return n.create=function(e){return function(r){return function(t){return function(o){return function(i){return function(u){return new n(e,r,t,o,i,u)}}}}}},n}(),y=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(o){return new n(e,r,t,o)}}}},n}(),b=function(n){if(n instanceof w)return i.Nil.value;if(n instanceof h)return l.append(i.semigroupList)(b(n.value0))(l.append(i.semigroupList)(r.pure(i.applicativeList)(n.value2))(b(n.value3)));if(n instanceof g)return l.append(i.semigroupList)(b(n.value0))(l.append(i.semigroupList)(r.pure(i.applicativeList)(n.value2))(l.append(i.semigroupList)(b(n.value3))(l.append(i.semigroupList)(r.pure(i.applicativeList)(n.value5))(b(n.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 626, column 1 - line 626, column 40): "+[n.constructor.name])},I=function(n){return function(e){return new h(w.value,n,e,w.value)}},C=function(n){return function(e){return d.unfoldr(n)((function(n){var e,r=!1;function t(e){if(e instanceof i.Nil)return r=!0,u.Nothing.value;if(e instanceof i.Cons){if(e.value0 instanceof w)return void(n=e.value1);if(e.value0 instanceof h&&e.value0.value0 instanceof w&&e.value0.value3 instanceof w)return r=!0,u.Just.create(new f.Tuple(new f.Tuple(e.value0.value1,e.value0.value2),e.value1));if(e.value0 instanceof h&&e.value0.value0 instanceof w)return r=!0,u.Just.create(new f.Tuple(new f.Tuple(e.value0.value1,e.value0.value2),new i.Cons(e.value0.value3,e.value1)));if(e.value0 instanceof h)return void(n=new i.Cons(e.value0.value0,new i.Cons(I(e.value0.value1)(e.value0.value2),new i.Cons(e.value0.value3,e.value1))));if(e.value0 instanceof g)return void(n=new i.Cons(e.value0.value0,new i.Cons(I(e.value0.value1)(e.value0.value2),new i.Cons(e.value0.value3,new i.Cons(I(e.value0.value4)(e.value0.value5),new i.Cons(e.value0.value6,e.value1))))));throw new Error("Failed pattern match at Data.Map.Internal (line 591, column 18 - line 600, column 71): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 590, column 3 - line 590, column 19): "+[e.constructor.name])}for(;!r;)e=t(n);return e}))(new i.Cons(e,i.Nil.value))}},R=C(d.unfoldableArray),E=function(n){return function(e){var r=a.compare(n);return function(n){var t,o=!1;function i(t){if(t instanceof w)return o=!0,u.Nothing.value;if(t instanceof h){var i=r(e)(t.value1);return i instanceof c.EQ?(o=!0,new u.Just(t.value2)):i instanceof c.LT?void(n=t.value0):void(n=t.value3)}if(t instanceof g){var a=r(e)(t.value1);if(a instanceof c.EQ)return o=!0,new u.Just(t.value2);var l=r(e)(t.value4);return l instanceof c.EQ?(o=!0,new u.Just(t.value5)):a instanceof c.LT?void(n=t.value0):l instanceof c.GT?void(n=t.value6):void(n=t.value3)}throw new Error("Failed pattern match at Data.Map.Internal (line 211, column 5 - line 211, column 22): "+[t.constructor.name])}for(;!o;)t=i(n);return t}}},W=function(n){return function(e){return function(r){var t,o=n,u=e,a=!1;function c(n,e,t){if(e instanceof i.Nil)return a=!0,t;if(e instanceof i.Cons){if(e.value0 instanceof p)return o=n,u=e.value1,void(r=new h(t,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof v)return o=n,u=e.value1,void(r=new h(e.value0.value0,e.value0.value1,e.value0.value2,t));if(e.value0 instanceof m)return o=n,u=e.value1,void(r=new g(t,e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F)return o=n,u=e.value1,void(r=new g(e.value0.value0,e.value0.value1,e.value0.value2,t,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof S)return o=n,u=e.value1,void(r=new g(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5,t));throw new Error("Failed pattern match at Data.Map.Internal (line 432, column 3 - line 437, column 88): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 429, column 1 - line 429, column 80): "+[e.constructor.name,t.constructor.name])}for(;!a;)t=c(o,u,r);return t}}},P=function(n){return function(e){return function(r){var t,o=a.compare(n);return t=i.Nil.value,function(u){var a,l=t,s=!1;function f(t,a){if(a instanceof w)return s=!0,function(e){return function(r){var t,o=e,u=!1;function a(e,t){if(e instanceof i.Nil)return u=!0,new h(t.value0,t.value1,t.value2,t.value3);if(e instanceof i.Cons){if(e.value0 instanceof p)return u=!0,W(n)(e.value1)(new g(t.value0,t.value1,t.value2,t.value3,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof v)return u=!0,W(n)(e.value1)(new g(e.value0.value0,e.value0.value1,e.value0.value2,t.value0,t.value1,t.value2,t.value3));if(e.value0 instanceof m)return o=e.value1,void(r=new y(new h(t.value0,t.value1,t.value2,t.value3),e.value0.value0,e.value0.value1,new h(e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5)));if(e.value0 instanceof F)return o=e.value1,void(r=new y(new h(e.value0.value0,e.value0.value1,e.value0.value2,t.value0),t.value1,t.value2,new h(t.value3,e.value0.value3,e.value0.value4,e.value0.value5)));if(e.value0 instanceof S)return o=e.value1,void(r=new y(new h(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3),e.value0.value4,e.value0.value5,new h(t.value0,t.value1,t.value2,t.value3)));throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 5 - line 473, column 108): "+[e.value0.constructor.name,t.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 465, column 3 - line 465, column 56): "+[e.constructor.name,t.constructor.name])}for(;!u;)t=a(o,r);return t}}(t)(new y(w.value,e,r,w.value));if(a instanceof h){var f=o(e)(a.value1);return f instanceof c.EQ?(s=!0,W(n)(t)(new h(a.value0,e,r,a.value3))):f instanceof c.LT?(l=new i.Cons(new p(a.value1,a.value2,a.value3),t),void(u=a.value0)):(l=new i.Cons(new v(a.value0,a.value1,a.value2),t),void(u=a.value3))}if(a instanceof g){var d=o(e)(a.value1);if(d instanceof c.EQ)return s=!0,W(n)(t)(new g(a.value0,e,r,a.value3,a.value4,a.value5,a.value6));var b=o(e)(a.value4);return b instanceof c.EQ?(s=!0,W(n)(t)(new g(a.value0,a.value1,a.value2,a.value3,e,r,a.value6))):d instanceof c.LT?(l=new i.Cons(new m(a.value1,a.value2,a.value3,a.value4,a.value5,a.value6),t),void(u=a.value0)):d instanceof c.GT&&b instanceof c.LT?(l=new i.Cons(new F(a.value0,a.value1,a.value2,a.value4,a.value5,a.value6),t),void(u=a.value3)):(l=new i.Cons(new S(a.value0,a.value1,a.value2,a.value3,a.value4,a.value5),t),void(u=a.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 448, column 3 - line 448, column 55): "+[t.constructor.name,a.constructor.name])}for(;!s;)a=f(l,u);return a}}}},A=function(n){return function(e){var r,t=function(e){return function(r){var t,o=e,u=!1;function a(e,t){if(e instanceof i.Nil)return u=!0,t;if(e instanceof i.Cons){if(e.value0 instanceof p&&e.value0.value2 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new h(w.value,e.value0.value0,e.value0.value1,w.value));if(e.value0 instanceof v&&e.value0.value0 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new h(w.value,e.value0.value1,e.value0.value2,w.value));if(e.value0 instanceof p&&e.value0.value2 instanceof h)return o=e.value1,void(r=new g(t,e.value0.value0,e.value0.value1,e.value0.value2.value0,e.value0.value2.value1,e.value0.value2.value2,e.value0.value2.value3));if(e.value0 instanceof v&&e.value0.value0 instanceof h)return o=e.value1,void(r=new g(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3,e.value0.value1,e.value0.value2,t));if(e.value0 instanceof p&&e.value0.value2 instanceof g)return u=!0,W(n)(e.value1)(new h(new h(t,e.value0.value0,e.value0.value1,e.value0.value2.value0),e.value0.value2.value1,e.value0.value2.value2,new h(e.value0.value2.value3,e.value0.value2.value4,e.value0.value2.value5,e.value0.value2.value6)));if(e.value0 instanceof v&&e.value0.value0 instanceof g)return u=!0,W(n)(e.value1)(new h(new h(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3),e.value0.value0.value4,e.value0.value0.value5,new h(e.value0.value0.value6,e.value0.value1,e.value0.value2,t)));if(e.value0 instanceof m&&e.value0.value2 instanceof w&&e.value0.value5 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new g(w.value,e.value0.value0,e.value0.value1,w.value,e.value0.value3,e.value0.value4,w.value));if(e.value0 instanceof F&&e.value0.value0 instanceof w&&e.value0.value5 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new g(w.value,e.value0.value1,e.value0.value2,w.value,e.value0.value3,e.value0.value4,w.value));if(e.value0 instanceof S&&e.value0.value0 instanceof w&&e.value0.value3 instanceof w&&t instanceof w)return u=!0,W(n)(e.value1)(new g(w.value,e.value0.value1,e.value0.value2,w.value,e.value0.value4,e.value0.value5,w.value));if(e.value0 instanceof m&&e.value0.value2 instanceof h)return u=!0,W(n)(e.value1)(new h(new g(t,e.value0.value0,e.value0.value1,e.value0.value2.value0,e.value0.value2.value1,e.value0.value2.value2,e.value0.value2.value3),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F&&e.value0.value0 instanceof h)return u=!0,W(n)(e.value1)(new h(new g(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3,e.value0.value1,e.value0.value2,t),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F&&e.value0.value5 instanceof h)return u=!0,W(n)(e.value1)(new h(e.value0.value0,e.value0.value1,e.value0.value2,new g(t,e.value0.value3,e.value0.value4,e.value0.value5.value0,e.value0.value5.value1,e.value0.value5.value2,e.value0.value5.value3)));if(e.value0 instanceof S&&e.value0.value3 instanceof h)return u=!0,W(n)(e.value1)(new h(e.value0.value0,e.value0.value1,e.value0.value2,new g(e.value0.value3.value0,e.value0.value3.value1,e.value0.value3.value2,e.value0.value3.value3,e.value0.value4,e.value0.value5,t)));if(e.value0 instanceof m&&e.value0.value2 instanceof g)return u=!0,W(n)(e.value1)(new g(new h(t,e.value0.value0,e.value0.value1,e.value0.value2.value0),e.value0.value2.value1,e.value0.value2.value2,new h(e.value0.value2.value3,e.value0.value2.value4,e.value0.value2.value5,e.value0.value2.value6),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F&&e.value0.value0 instanceof g)return u=!0,W(n)(e.value1)(new g(new h(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3),e.value0.value0.value4,e.value0.value0.value5,new h(e.value0.value0.value6,e.value0.value1,e.value0.value2,t),e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof F&&e.value0.value5 instanceof g)return u=!0,W(n)(e.value1)(new g(e.value0.value0,e.value0.value1,e.value0.value2,new h(t,e.value0.value3,e.value0.value4,e.value0.value5.value0),e.value0.value5.value1,e.value0.value5.value2,new h(e.value0.value5.value3,e.value0.value5.value4,e.value0.value5.value5,e.value0.value5.value6)));if(e.value0 instanceof S&&e.value0.value3 instanceof g)return u=!0,W(n)(e.value1)(new g(e.value0.value0,e.value0.value1,e.value0.value2,new h(e.value0.value3.value0,e.value0.value3.value1,e.value0.value3.value2,e.value0.value3.value3),e.value0.value3.value4,e.value0.value3.value5,new h(e.value0.value3.value6,e.value0.value4,e.value0.value5,t)));throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 9 - line 542, column 136): "+[e.value0.constructor.name,t.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 522, column 5 - line 542, column 136): "+[e.constructor.name])}for(;!u;)t=a(o,r);return t}},o=function(n){return function(e){var r,o=n,u=!1;function a(n,r){if(r instanceof h&&r.value0 instanceof w&&r.value3 instanceof w)return u=!0,t(n)(w.value);if(r instanceof h)return o=new i.Cons(new v(r.value0,r.value1,r.value2),n),void(e=r.value3);if(r instanceof g&&r.value0 instanceof w&&r.value3 instanceof w&&r.value6 instanceof w)return u=!0,t(new i.Cons(new v(w.value,r.value1,r.value2),n))(w.value);if(r instanceof g)return o=new i.Cons(new S(r.value0,r.value1,r.value2,r.value3,r.value4,r.value5),n),void(e=r.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 554, column 5 - line 558, column 107): "+[r.constructor.name])}for(;!u;)r=a(o,e);return r}},l=function(n){var e,r=!1;function t(e){if(e instanceof h&&e.value3 instanceof w)return r=!0,{key:e.value1,value:e.value2};if(e instanceof h)n=e.value3;else{if(e instanceof g&&e.value6 instanceof w)return r=!0,{key:e.value4,value:e.value5};if(!(e instanceof g))throw new Error("Failed pattern match at Data.Map.Internal (line 545, column 33 - line 549, column 45): "+[e.constructor.name]);n=e.value6}}for(;!r;)e=t(n);return e},s=a.compare(n);return r=i.Nil.value,function(a){var d,y=r,b=!1;function I(r,d){if(d instanceof w)return b=!0,u.Nothing.value;if(d instanceof h){var I=s(e)(d.value1);if(d.value3 instanceof w&&I instanceof c.EQ)return b=!0,new u.Just(new f.Tuple(d.value2,t(r)(w.value)));if(I instanceof c.EQ){var C=l(d.value0);return b=!0,new u.Just(new f.Tuple(d.value2,o(new i.Cons(new p(C.key,C.value,d.value3),r))(d.value0)))}return I instanceof c.LT?(y=new i.Cons(new p(d.value1,d.value2,d.value3),r),void(a=d.value0)):(y=new i.Cons(new v(d.value0,d.value1,d.value2),r),void(a=d.value3))}if(d instanceof g){var R=d.value0 instanceof w&&d.value3 instanceof w&&d.value6 instanceof w,E=(I=s(e)(d.value4),s(e)(d.value1));return R&&E instanceof c.EQ?(b=!0,new u.Just(new f.Tuple(d.value2,W(n)(r)(new h(w.value,d.value4,d.value5,w.value))))):R&&I instanceof c.EQ?(b=!0,new u.Just(new f.Tuple(d.value5,W(n)(r)(new h(w.value,d.value1,d.value2,w.value))))):E instanceof c.EQ?(C=l(d.value0),b=!0,new u.Just(new f.Tuple(d.value2,o(new i.Cons(new m(C.key,C.value,d.value3,d.value4,d.value5,d.value6),r))(d.value0)))):I instanceof c.EQ?(C=l(d.value3),b=!0,new u.Just(new f.Tuple(d.value5,o(new i.Cons(new F(d.value0,d.value1,d.value2,C.key,C.value,d.value6),r))(d.value3)))):E instanceof c.LT?(y=new i.Cons(new m(d.value1,d.value2,d.value3,d.value4,d.value5,d.value6),r),void(a=d.value0)):E instanceof c.GT&&I instanceof c.LT?(y=new i.Cons(new F(d.value0,d.value1,d.value2,d.value4,d.value5,d.value6),r),void(a=d.value3)):(y=new i.Cons(new S(d.value0,d.value1,d.value2,d.value3,d.value4,d.value5),r),void(a=d.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 34 - line 518, column 80): "+[d.constructor.name])}for(;!b;)d=I(y,a);return d}}},D=new t.Foldable((function(n){return function(e){return function(r){return t.foldMap(i.foldableList)(n)(e)(b(r))}}}),(function(n){return function(e){return function(r){return t.foldl(i.foldableList)(n)(e)(b(r))}}}),(function(n){return function(e){return function(r){return t.foldr(i.foldableList)(n)(e)(b(r))}}})),N=w.value,x=function(n){return function(e){return function(r){return u.maybe(r)(f.snd)(A(n)(e)(r))}}},M=function(n){return function(e){return function(r){return function(t){var o=e(E(n)(r)(t));if(o instanceof u.Nothing)return x(n)(r)(t);if(o instanceof u.Just)return P(n)(r)(o.value0)(t);throw new Error("Failed pattern match at Data.Map.Internal (line 563, column 15 - line 565, column 25): "+[o.constructor.name])}}}},T=function(n){return function(e){return function(r){return function(o){return t.foldl(i.foldableList)((function(r){return function(t){return M(n)((o=u.maybe(t.value1)(e(t.value1)),function(n){return u.Just.create(o(n))}))(t.value0)(r);var o}}))(o)(C(i.unfoldableList)(r))}}}};e.empty=N,e.isEmpty=function(n){return n instanceof w},e.singleton=I,e.insert=P,e.insertWith=function(n){return function(e){return function(r){return function(t){return M(n)((i=u.maybe(t)(o.flip(e)(t)),function(n){return u.Just.create(i(n))}))(r);var i}}}},e.lookup=E,e.fromFoldable=function(n){return function(e){return t.foldl(e)((function(e){return function(r){return P(n)(r.value0)(r.value1)(e)}}))(N)}},e.fromFoldableWith=function(n){return function(e){return function(r){return t.foldl(e)((function(e){return function(t){return M(n)(function(n){return function(e){if(e instanceof u.Just)return u.Just.create(r(n)(e.value0));if(e instanceof u.Nothing)return new u.Just(n);throw new Error("Failed pattern match at Data.Map.Internal (line 580, column 3 - line 580, column 38): "+[n.constructor.name,e.constructor.name])}}(t.value1))(t.value0)(e)}}))(N)}}},e.toUnfoldable=C,e.delete=x,e.pop=A,e.member=function(n){return function(e){return function(r){return u.isJust(E(n)(e)(r))}}},e.alter=M,e.values=b,e.union=function(n){return T(n)(o.const)},e.unionWith=T,e.showMap=function(n){return function(e){return new s.Show((function(r){return"(fromFoldable "+s.show(s.showArray(f.showTuple(n)(e)))(R(r))+")"}))}},e.foldableMap=D}(r),function(n){n["ProtoVoices.Model"]=n["ProtoVoices.Model"]||{};var e,r=n["ProtoVoices.Model"],t=n["Control.Alt"],o=n["Control.Applicative"],i=n["Control.Bind"],u=n["Control.Monad.Except.Trans"],a=n["Data.Array"],c=n["Data.Boolean"],l=n["Data.Either"],s=n["Data.Eq"],f=n["Data.Foldable"],d=n["Data.Functor"],w=n["Data.Generic.Rep"],h=n["Data.Identity"],g=n["Data.Int"],p=n["Data.List"],v=n["Data.List.Types"],m=n["Data.Map.Internal"],F=n["Data.Maybe"],S=n["Data.Ord"],y=n["Data.Ordering"],b=n["Data.Pitches.Class"],I=n["Data.Pitches.Spelled"],C=n["Data.Semigroup"],R=n["Data.Semiring"],E=n["Data.Show"],W=n["Data.Show.Generic"],P=n["Data.Symbol"],A=n["Data.Traversable"],D=n["Data.Tuple"],N=n["Data.Unfoldable"],x=n["Data.Unit"],M=n.Foreign,T=n["Simple.JSON"],q=function(){function n(){}return n.value=new n,n}(),L=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),H=function(){function n(){}return n.value=new n,n}(),O=function(){function n(){}return n.value=new n,n}(),_=function(){function n(){}return n.value=new n,n}(),J=function(){function n(){}return n.value=new n,n}(),k=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),U=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),V=function(){function n(){}return n.value=new n,n}(),B=function(){function n(){}return n.value=new n,n}(),z=function(){function n(){}return n.value=new n,n}(),G=function(){function n(){}return n.value=new n,n}(),Q=function(){function n(){}return n.value=new n,n}(),j=function(){function n(){}return n.value=new n,n}(),K=function(){function n(){}return n.value=new n,n}(),X=function(){function n(){}return n.value=new n,n}(),Y=function(){function n(){}return n.value=new n,n}(),Z=function(){function n(){}return n.value=new n,n}(),$=function(){function n(){}return n.value=new n,n}(),nn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),en=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),rn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),tn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),on=function(){function n(){}return n.value=new n,n}(),un=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),an=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),cn=T.writeForeignInt,ln=T.writeForeignInt,sn=function(n){return function(e){if(e.notes instanceof L){var r=function(n){var r=function(e){if(c.otherwise)return[];throw new Error("Failed pattern match at ProtoVoices.Model (line 609, column 1 - line 609, column 56): "+[n.constructor.name])};if(n.left instanceof L){var t=a.find((function(e){return e.note.id===n.left.value0.id}))(e.notes.value0);return t instanceof F.Just&&t.value0.expl instanceof nn?[{left:new L(t.value0.expl.value0),right:n.right}]:r()}return r()};return l.Right.create({regular:a.concatMap(r)(n.regular),passing:a.concatMap(r)(n.passing)})}return function(r){if(c.otherwise)return new l.Left("The current reduction is invalid: Trying to vert a Start or Stop slice.");throw new Error("Failed pattern match at ProtoVoices.Model (line 609, column 1 - line 609, column 56): "+[n.constructor.name,e.constructor.name])}()}},fn=function(n){return function(e){if(e.notes instanceof L){var r=function(n){var r=function(e){if(c.otherwise)return[];throw new Error("Failed pattern match at ProtoVoices.Model (line 594, column 1 - line 594, column 55): "+[n.constructor.name])};if(n.right instanceof L){var t=a.find((function(e){return e.note.id===n.right.value0.id}))(e.notes.value0);return t instanceof F.Just&&t.value0.expl instanceof nn?[{left:n.left,right:new L(t.value0.expl.value0)}]:r()}return r()};return l.Right.create({regular:a.concatMap(r)(n.regular),passing:a.concatMap(r)(n.passing)})}return function(r){if(c.otherwise)return new l.Left("The current reduction is invalid: Trying to vert a Start or Stop slice.");throw new Error("Failed pattern match at ProtoVoices.Model (line 594, column 1 - line 594, column 55): "+[n.constructor.name,e.constructor.name])}()}},dn=function(n){return function(e){return function(r){var t=d.map(d.functorArray)((function(n){return n.note}))(r);return{id:e,is2nd:!1,edges:{regular:a.catMaybes(d.map(d.functorArray)((function(n){return d.map(F.functorMaybe)((function(e){return{left:new L(n),right:new L(e)}}))(f.find(f.foldableArray)((function(e){return s.eq(b.eqPitch(I.eqSInterval))(e.pitch)(n.pitch)}))(t))}))(n)),passing:[]}}}}},wn={id:0,notes:q.value,x:0,parents:J.value},hn=function(n){var e={seg:F.Nothing.value,ties:[],i:0},r=A.scanl(A.traversableArray)((function(n){return function(e){var r,t=d.map(d.functorArray)((function(n){return n.note}))(a.filter((function(n){return n.hold}))(e.notes));return{seg:new F.Just({trans:dn(n.ties)(n.i)(e.notes),rslice:(r=e.notes,function(n){return{id:n,notes:L.create(d.map(d.functorArray)((function(n){return{note:n.note,expl:Z.value}}))(a.sortBy((function(n){return function(e){return y.invert(S.compare(b.ordPitch(I.ordSInterval))(n.note.pitch)(e.note.pitch))}}))(r))),x:g.toNumber(n),parents:J.value}})(n.i+1|0),op:on.value}),ties:t,i:n.i+1|0}}}))(e)(n),t=F.maybe(0)((function(n){return n.i}))(a.last(r)),o={trans:dn([])(t)([]),rslice:{id:t+1|0,notes:H.value,x:g.toNumber(t+1|0),parents:J.value},op:on.value},i=C.append(C.semigroupArray)(a.catMaybes(d.map(d.functorArray)((function(n){return n.seg}))(r)))([o]);return{start:wn,segments:p.fromFoldable(f.foldableArray)(i),nextSliceId:t+2|0,nextTransId:t+1|0}},gn=new E.Show((function(n){return"t"+E.show(E.showInt)(n)})),pn=function(n){return new E.Show((function(e){if(e instanceof q)return"⋊";if(e instanceof H)return"⋉";if(e instanceof L)return E.show(n)(e.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 246, column 1 - line 249, column 26): "+[e.constructor.name])}))},vn=new E.Show((function(n){return"s"+E.show(E.showInt)(n)})),mn=T.readInt,Fn=T.readInt,Sn=S.ordInt,yn=S.ordInt,bn=function(n){return n.left instanceof L&&n.right instanceof L&&s.eq(b.eqPitch(I.eqSInterval))(n.left.value0.pitch)(n.right.value0.pitch)},In=function(n){return n+1|0},Cn=function(n){return n+1|0},Rn=function(n){if(n.notes instanceof q)return[];if(n.notes instanceof H)return[];if(n.notes instanceof L)return n.notes.value0;throw new Error("Failed pattern match at ProtoVoices.Model (line 347, column 23 - line 350, column 23): "+[n.notes.constructor.name])},En=new w.Generic((function(n){if(n instanceof O)return new w.Inl(w.NoArguments.value);if(n instanceof _)return new w.Inr(w.NoArguments.value);throw new Error("Failed pattern match at ProtoVoices.Model (line 46, column 1 - line 46, column 64): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return O.value;if(n instanceof w.Inr)return _.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 46, column 1 - line 46, column 64): "+[n.constructor.name])})),Wn=new E.Show((function(n){return W.genericShow(En)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"RightRepeat"}))))(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"RightNeighbor"})))))(n)})),Pn=new w.Generic((function(n){if(n instanceof J)return new w.Inl(w.NoArguments.value);if(n instanceof k)return new w.Inr(new w.Inl(n.value0));if(n instanceof U)return new w.Inr(new w.Inr(n.value0));throw new Error("Failed pattern match at ProtoVoices.Model (line 328, column 1 - line 328, column 56): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return J.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inl)return new k(n.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr)return new U(n.value0.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 328, column 1 - line 328, column 56): "+[n.constructor.name])})),An=function(n){return new E.Show((function(e){return W.genericShow(Pn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"NoParents"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(n))(new P.IsSymbol((function(){return"VertParent"}))))(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(n))(n))))(new P.IsSymbol((function(){return"MergeParents"}))))))(e)}))},Dn=new w.Generic((function(n){if(n instanceof on)return new w.Inl(w.NoArguments.value);if(n instanceof un)return new w.Inr(new w.Inl(n.value0));if(n instanceof an)return new w.Inr(new w.Inr(n.value0));throw new Error("Failed pattern match at ProtoVoices.Model (line 371, column 1 - line 371, column 42): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return on.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inl)return new un(n.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr)return new an(n.value0.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 371, column 1 - line 371, column 42): "+[n.constructor.name])})),Nn=new w.Generic((function(n){if(n instanceof Z)return new w.Inl(w.NoArguments.value);if(n instanceof $)return new w.Inr(new w.Inl(w.NoArguments.value));if(n instanceof nn)return new w.Inr(new w.Inr(new w.Inl(n.value0)));if(n instanceof en)return new w.Inr(new w.Inr(new w.Inr(new w.Inl(n.value0))));if(n instanceof rn)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inl(n.value0)))));if(n instanceof tn)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inr(n.value0)))));throw new Error("Failed pattern match at ProtoVoices.Model (line 88, column 1 - line 88, column 68): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return Z.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inl)return $.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inl)return new nn(n.value0.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inl)return new en(n.value0.value0.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inl)return new rn(n.value0.value0.value0.value0.value0);if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inr)return new tn(n.value0.value0.value0.value0.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 88, column 1 - line 88, column 68): "+[n.constructor.name])})),xn=new w.Generic((function(n){if(n instanceof V)return new w.Inl(w.NoArguments.value);if(n instanceof B)return new w.Inr(w.NoArguments.value);throw new Error("Failed pattern match at ProtoVoices.Model (line 57, column 1 - line 57, column 62): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return V.value;if(n instanceof w.Inr)return B.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 57, column 1 - line 57, column 62): "+[n.constructor.name])})),Mn=new E.Show((function(n){return W.genericShow(xn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"LeftRepeat"}))))(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"LeftNeighbor"})))))(n)})),Tn=new w.Generic((function(n){if(n instanceof z)return new w.Inl(w.NoArguments.value);if(n instanceof G)return new w.Inr(new w.Inl(w.NoArguments.value));if(n instanceof Q)return new w.Inr(new w.Inr(new w.Inl(w.NoArguments.value)));if(n instanceof j)return new w.Inr(new w.Inr(new w.Inr(new w.Inl(w.NoArguments.value))));if(n instanceof K)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inl(w.NoArguments.value)))));if(n instanceof X)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inl(w.NoArguments.value))))));if(n instanceof Y)return new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inr(new w.Inr(w.NoArguments.value))))));throw new Error("Failed pattern match at ProtoVoices.Model (line 73, column 1 - line 73, column 66): "+[n.constructor.name])}),(function(n){if(n instanceof w.Inl)return z.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inl)return G.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inl)return Q.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inl)return j.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inl)return K.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0.value0 instanceof w.Inl)return X.value;if(n instanceof w.Inr&&n.value0 instanceof w.Inr&&n.value0.value0 instanceof w.Inr&&n.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0 instanceof w.Inr&&n.value0.value0.value0.value0.value0 instanceof w.Inr)return Y.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 73, column 1 - line 73, column 66): "+[n.constructor.name])})),qn=new E.Show((function(n){return W.genericShow(Tn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"FullNeighbor"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"FullRepeat"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"LeftRepeatOfRight"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"RightRepeatOfLeft"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"PassingMid"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"PassingLeft"}))))(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"PassingRight"}))))))))))(n)})),Ln=new E.Show((function(n){return W.genericShow(Nn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"NoExpl"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"RootExpl"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(new P.IsSymbol((function(){return"HoriExpl"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"leftParent"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"orn"})))(E.showRecordFieldsNil)(F.showMaybe(Wn)))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))(new P.IsSymbol((function(){return"RightExpl"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"orn"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rightParent"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(F.showMaybe(Mn)))))(new P.IsSymbol((function(){return"LeftExpl"}))))(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"leftParent"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"orn"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rightParent"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(F.showMaybe(qn)))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))(new P.IsSymbol((function(){return"DoubleExpl"})))))))))(n)})),Hn=new E.Show((function(n){return W.genericShow(Dn)(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsNoArguments)(new P.IsSymbol((function(){return"Freeze"}))))(W.genericShowSum(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childr"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(Hn))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rslice"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(vn)))(pn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(vn))))(Hn))))))(new P.IsSymbol((function(){return"Split"}))))(W.genericShowConstructor(W.genericShowArgsArgument(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childm"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"childr"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(Hn))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rslice"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(vn)))(pn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(vn))))(Hn))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"op"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"rslice"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"trans"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"edges"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"is2nd"})))(E.showRecordFieldsNil)(E.showBoolean))(gn))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"passing"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"regular"})))(E.showRecordFieldsNil)(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"left"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"right"})))(E.showRecordFieldsNil)(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString)))))(pn(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))))))))))(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(vn)))(pn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(vn))))(Hn))))))(new P.IsSymbol((function(){return"Hori"}))))))(n)})),On=new d.Functor((function(n){return function(e){if(e instanceof q)return q.value;if(e instanceof L)return new L(n(e.value0));if(e instanceof H)return H.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 242, column 1 - line 242, column 54): "+[e.constructor.name])}})),_n=function(n){return{trans:n.trans,rslice:{id:n.rslice.id,notes:d.map(On)(d.map(d.functorArray)((function(n){return{expl:Z.value,note:n.note}})))(n.rslice.notes),x:n.rslice.x,parents:n.rslice.parents},op:n.op}},Jn=function(n){return function(e){if(s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(e.pitch)))return new F.Just(O.value);if(b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch))))return new F.Just(_.value);if(c.otherwise)return F.Nothing.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 131, column 1 - line 131, column 54): "+[n.constructor.name,e.constructor.name])}},kn=function(n){return function(e){if(s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(e.pitch)))return new F.Just(V.value);if(b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch))))return new F.Just(B.value);if(c.otherwise)return F.Nothing.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 125, column 1 - line 125, column 52): "+[n.constructor.name,e.constructor.name])}},Un=function(n){return function(e){return function(r){var t=function(t){var o=function(t){var o=function(t){var o=function(t){var o;if((o=I.intervalSIC,function(n){return function(e){return function(r){return function(t){var i=b.direction(o)(b.pto(o)(e)(t)),u=b.direction(o)(b.pto(o)(r)(t)),a=b.direction(o)(b.pto(o)(e)(r));return s.notEq(b.eqPitch(n))(e)(r)&&s.notEq(b.eqPitch(n))(r)(t)&&s.notEq(b.eqPitch(n))(e)(t)&&s.eq(y.eqOrdering)(a)(i)&&s.eq(y.eqOrdering)(u)(i)}}}})(I.eqSIC)(b.pc(I.hasintervalclassSInterval)(e.pitch))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(r.pitch)))return b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch)))?b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(r.pitch)))?new F.Just(K.value):new F.Just(X.value):b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(r.pitch)))?new F.Just(Y.value):F.Nothing.value;if(c.otherwise)return F.Nothing.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 146, column 1 - line 146, column 64): "+[n.constructor.name,e.constructor.name,r.constructor.name])};return s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(e.pitch))(b.pc(I.hasintervalclassSInterval)(r.pitch))&&b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch)))?new F.Just(z.value):o()};return s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(r.pitch))&&b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(e.pitch)))?new F.Just(Q.value):o()};return s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(e.pitch))&&b.isStep(I.diatonicSIC)(b.ic(I.hasintervalclassSInterval)(b.pto(I.intervalSInterval)(n)(r.pitch)))?new F.Just(j.value):o()};return s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(e.pitch))&&s.eq(b.eqPitch(I.eqSIC))(b.pc(I.hasintervalclassSInterval)(n))(b.pc(I.hasintervalclassSInterval)(r.pitch))?new F.Just(G.value):t()}}},Vn=s.eqInt,Bn=function(n){return new s.Eq((function(e){return function(r){return e instanceof q&&r instanceof q||(e instanceof L&&r instanceof L?s.eq(n)(e.value0)(r.value0):e instanceof H&&r instanceof H)}}))},zn=s.eqInt,Gn=new s.Eq((function(n){return function(e){return n instanceof O&&e instanceof O||n instanceof _&&e instanceof _}})),Qn=function(n){return new s.Eq((function(e){return function(r){return e instanceof J&&r instanceof J||(e instanceof k&&r instanceof k?s.eq(n)(e.value0)(r.value0):e instanceof U&&r instanceof U&&(s.eq(n)(e.value0.left)(r.value0.left)&&s.eq(n)(e.value0.right)(r.value0.right)))}}))},jn=new s.Eq((function(n){return function(e){return n instanceof V&&e instanceof V||n instanceof B&&e instanceof B}})),Kn=new s.Eq((function(n){return function(e){return n instanceof z&&e instanceof z||(n instanceof G&&e instanceof G||(n instanceof Q&&e instanceof Q||(n instanceof j&&e instanceof j||(n instanceof K&&e instanceof K||(n instanceof X&&e instanceof X||n instanceof Y&&e instanceof Y)))))}})),Xn=new s.Eq((function(n){return function(e){return n instanceof Z&&e instanceof Z||(n instanceof $&&e instanceof $||(n instanceof nn&&e instanceof nn?n.value0.id===e.value0.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.pitch)(e.value0.pitch):n instanceof en&&e instanceof en?n.value0.leftParent.id===e.value0.leftParent.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.leftParent.pitch)(e.value0.leftParent.pitch)&&s.eq(F.eqMaybe(Gn))(n.value0.orn)(e.value0.orn):n instanceof rn&&e instanceof rn?s.eq(F.eqMaybe(jn))(n.value0.orn)(e.value0.orn)&&n.value0.rightParent.id===e.value0.rightParent.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.rightParent.pitch)(e.value0.rightParent.pitch):n instanceof tn&&e instanceof tn&&(n.value0.leftParent.id===e.value0.leftParent.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.leftParent.pitch)(e.value0.leftParent.pitch)&&s.eq(F.eqMaybe(Kn))(n.value0.orn)(e.value0.orn)&&n.value0.rightParent.id===e.value0.rightParent.id&&s.eq(b.eqPitch(I.eqSInterval))(n.value0.rightParent.pitch)(e.value0.rightParent.pitch))))}})),Yn=new s.Eq((function(n){return function(e){return n instanceof on&&e instanceof on||(n instanceof un&&e instanceof un?s.eq(Yn)(n.value0.childl.op)(e.value0.childl.op)&&s.eq(zn)(n.value0.childl.rslice.id)(e.value0.childl.rslice.id)&&s.eq(Bn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(n.value0.childl.rslice.notes)(e.value0.childl.rslice.notes)&&s.eq(Qn(zn))(n.value0.childl.rslice.parents)(e.value0.childl.rslice.parents)&&n.value0.childl.rslice.x===e.value0.childl.rslice.x&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childl.trans.edges.passing)(e.value0.childl.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childl.trans.edges.regular)(e.value0.childl.trans.edges.regular)&&s.eq(Vn)(n.value0.childl.trans.id)(e.value0.childl.trans.id)&&n.value0.childl.trans.is2nd===e.value0.childl.trans.is2nd&&s.eq(Yn)(n.value0.childr.op)(e.value0.childr.op)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childr.trans.edges.passing)(e.value0.childr.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childr.trans.edges.regular)(e.value0.childr.trans.edges.regular)&&s.eq(Vn)(n.value0.childr.trans.id)(e.value0.childr.trans.id)&&n.value0.childr.trans.is2nd===e.value0.childr.trans.is2nd:n instanceof an&&e instanceof an&&(s.eq(Yn)(n.value0.childl.op)(e.value0.childl.op)&&s.eq(zn)(n.value0.childl.rslice.id)(e.value0.childl.rslice.id)&&s.eq(Bn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(n.value0.childl.rslice.notes)(e.value0.childl.rslice.notes)&&s.eq(Qn(zn))(n.value0.childl.rslice.parents)(e.value0.childl.rslice.parents)&&n.value0.childl.rslice.x===e.value0.childl.rslice.x&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childl.trans.edges.passing)(e.value0.childl.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childl.trans.edges.regular)(e.value0.childl.trans.edges.regular)&&s.eq(Vn)(n.value0.childl.trans.id)(e.value0.childl.trans.id)&&n.value0.childl.trans.is2nd===e.value0.childl.trans.is2nd&&s.eq(Yn)(n.value0.childm.op)(e.value0.childm.op)&&s.eq(zn)(n.value0.childm.rslice.id)(e.value0.childm.rslice.id)&&s.eq(Bn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(n.value0.childm.rslice.notes)(e.value0.childm.rslice.notes)&&s.eq(Qn(zn))(n.value0.childm.rslice.parents)(e.value0.childm.rslice.parents)&&n.value0.childm.rslice.x===e.value0.childm.rslice.x&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childm.trans.edges.passing)(e.value0.childm.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childm.trans.edges.regular)(e.value0.childm.trans.edges.regular)&&s.eq(Vn)(n.value0.childm.trans.id)(e.value0.childm.trans.id)&&n.value0.childm.trans.is2nd===e.value0.childm.trans.is2nd&&s.eq(Yn)(n.value0.childr.op)(e.value0.childr.op)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childr.trans.edges.passing)(e.value0.childr.trans.edges.passing)&&s.eq(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"right"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))()(new P.IsSymbol((function(){return"left"})))(Bn(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString)))))))(n.value0.childr.trans.edges.regular)(e.value0.childr.trans.edges.regular)&&s.eq(Vn)(n.value0.childr.trans.id)(e.value0.childr.trans.id)&&n.value0.childr.trans.is2nd===e.value0.childr.trans.is2nd))}})),Zn=function(n){return function(e){var r,t;if(n instanceof J)return{trans:e.trans,rslice:{id:e.rslice.id,notes:e.rslice.notes,x:e.rslice.x,parents:J.value},op:e.op};if(n instanceof k)return{trans:e.trans,rslice:{id:e.rslice.id,notes:d.map(On)(d.map(d.functorArray)((r=n.value0,function(n){var e=a.filter((function(e){return s.eq(b.eqPitch(I.eqSInterval))(e.note.pitch)(n.note.pitch)}))(Rn(r));return 1===e.length?{expl:new nn(e[0].note),note:n.note}:n})))(e.rslice.notes),x:e.rslice.x,parents:new k(n.value0.id)},op:e.op};if(n instanceof U)return{trans:e.trans,rslice:{id:e.rslice.id,notes:d.map(On)(d.map(d.functorArray)((t=n.value0.left,function(n){return function(e){var r=function(r){var u=function(r){if(c.otherwise)return e;throw new Error("Failed pattern match at ProtoVoices.Model (line 536, column 1 - line 536, column 50): "+[t.constructor.name,n.constructor.name,e.constructor.name])};if(t.notes instanceof L){if(n.notes instanceof L){var l=a.catMaybes(i.bind(i.bindArray)(t.notes.value0)((function(n){return o.pure(o.applicativeArray)(i.bind(F.bindMaybe)(Jn(e.note.pitch)(n.note))((function(e){return o.pure(F.applicativeMaybe)(new en({orn:new F.Just(e),leftParent:n.note}))})))}))),s=a.catMaybes(i.bind(i.bindArray)(n.notes.value0)((function(n){return o.pure(o.applicativeArray)(i.bind(F.bindMaybe)(kn(e.note.pitch)(n.note))((function(e){return o.pure(F.applicativeMaybe)(new rn({orn:new F.Just(e),rightParent:n.note}))})))}))),f=a.catMaybes(i.bind(i.bindArray)(t.notes.value0)((function(r){return i.bind(i.bindArray)(n.notes.value0)((function(n){return o.pure(o.applicativeArray)(i.bind(F.bindMaybe)(Un(e.note.pitch)(r.note)(n.note))((function(e){return o.pure(F.applicativeMaybe)(new tn({orn:new F.Just(e),leftParent:r.note,rightParent:n.note}))})))}))})));if(1===f.length)return{note:e.note,expl:f[0]};var d=C.append(C.semigroupArray)(s)(l);return 1===d.length?{note:e.note,expl:d[0]}:e}return u()}return u()};return s.eq(Bn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(t.notes)(q.value)&&s.eq(Bn(s.eqArray(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"note"})))(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new P.IsSymbol((function(){return"pitch"})))(b.eqPitch(I.eqSInterval)))()(new P.IsSymbol((function(){return"id"})))(s.eqString))))()(new P.IsSymbol((function(){return"expl"})))(Xn)))))(n.notes)(H.value)?{note:e.note,expl:$.value}:r()}})(n.value0.right)))(e.rslice.notes),x:e.rslice.x,parents:new U({left:n.value0.left.id,right:n.value0.right.id})},op:e.op};throw new Error("Failed pattern match at ProtoVoices.Model (line 537, column 20 - line 552, column 8): "+[n.constructor.name])}},$n={regular:[],passing:[]},ne=(e=function(n){return function(e){return C.append(C.semigroupRecord()(C.semigroupRecordCons(new P.IsSymbol((function(){return"passing"})))()(C.semigroupRecordCons(new P.IsSymbol((function(){return"regular"})))()(C.semigroupRecordNil)(C.semigroupArray))(C.semigroupArray)))(n)(function(n){if(n instanceof tn){var e={left:new L(n.value0.leftParent),right:new L(n.value0.rightParent)};return n.value0.orn instanceof F.Just&&n.value0.orn.value0 instanceof K||n.value0.orn instanceof F.Just&&n.value0.orn.value0 instanceof X||n.value0.orn instanceof F.Just&&n.value0.orn.value0 instanceof Y?{regular:$n.regular,passing:[e]}:{regular:[e],passing:$n.passing}}return n instanceof $?{regular:[{left:q.value,right:H.value}],passing:$n.passing}:$n}(e))}},function(n){return n.notes instanceof L?f.foldl(f.foldableArray)(e)({regular:[],passing:[]})(d.map(d.functorArray)((function(n){return n.expl}))(n.notes.value0)):$n}),ee=function(n){return function(e){return function(r){var t=function(r){return function(o){if(o instanceof v.Nil)return new l.Left("not found");if(o instanceof v.Cons){var i=n(o);if(i instanceof F.Just)return d.map(l.functorEither)((function(n){return C.append(v.semigroupList)(n)(i.value0.value1)}))(e(r)(i.value0.value0));if(i instanceof F.Nothing)return d.map(l.functorEither)(v.Cons.create(o.value0))(t(o.value0.rslice)(o.value1));throw new Error("Failed pattern match at ProtoVoices.Model (line 532, column 39 - line 534, column 47): "+[i.constructor.name])}throw new Error("Failed pattern match at ProtoVoices.Model (line 529, column 3 - line 529, column 62): "+[r.constructor.name,o.constructor.name])}};return t(r.start)(r.segments)}}},re=function(n){return{trans:n.trans,op:n.op}},te=function(n){return function(e){return{trans:n.trans,op:n.op,rslice:e}}};r.RightRepeat=O,r.RightNeighbor=_,r.LeftRepeat=V,r.LeftNeighbor=B,r.FullNeighbor=z,r.FullRepeat=G,r.LeftRepeatOfRight=Q,r.RightRepeatOfLeft=j,r.PassingMid=K,r.PassingLeft=X,r.PassingRight=Y,r.NoExpl=Z,r.RootExpl=$,r.HoriExpl=nn,r.RightExpl=en,r.LeftExpl=rn,r.DoubleExpl=tn,r.parentEdges=ne,r.findLeftOrn=kn,r.findRightOrn=Jn,r.findDoubleOrn=Un,r.setLeftExplParent=function(n){return function(e){return function(r){if(e instanceof F.Just)return r instanceof Z||r instanceof en?F.Just.create(new en({orn:Jn(n)(e.value0),leftParent:e.value0})):r instanceof rn||r instanceof tn?F.Just.create(new tn({orn:Un(n)(e.value0)(r.value0.rightParent),leftParent:e.value0,rightParent:r.value0.rightParent})):F.Nothing.value;if(e instanceof F.Nothing)return r instanceof rn?F.Just.create(new rn(r.value0)):r instanceof tn?F.Just.create(new rn({orn:kn(n)(r.value0.rightParent),rightParent:r.value0.rightParent})):r instanceof nn?F.Nothing.value:new F.Just(Z.value);throw new Error("Failed pattern match at ProtoVoices.Model (line 159, column 48 - line 182, column 21): "+[e.constructor.name])}}},r.setRightExplParent=function(n){return function(e){return function(r){if(e instanceof F.Just)return r instanceof Z||r instanceof rn?F.Just.create(new rn({orn:kn(n)(e.value0),rightParent:e.value0})):r instanceof en||r instanceof tn?F.Just.create(new tn({orn:Un(n)(r.value0.leftParent)(e.value0),leftParent:r.value0.leftParent,rightParent:e.value0})):F.Nothing.value;if(e instanceof F.Nothing)return r instanceof en?F.Just.create(new en(r.value0)):r instanceof tn?F.Just.create(new en({orn:Jn(n)(r.value0.leftParent),leftParent:r.value0.leftParent})):r instanceof nn?F.Nothing.value:new F.Just(Z.value);throw new Error("Failed pattern match at ProtoVoices.Model (line 185, column 50 - line 208, column 21): "+[e.constructor.name])}}},r.setHoriExplParent=function(n){return function(n){return function(e){if(n instanceof F.Just)return e instanceof Z||e instanceof nn?F.Just.create(new nn(n.value0)):F.Nothing.value;if(n instanceof F.Nothing)return e instanceof nn||e instanceof Z?new F.Just(Z.value):F.Nothing.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 211, column 44 - line 219, column 17): "+[n.constructor.name])}}},r.explHasParent=function(n){return function(e){if(e instanceof Z)return!1;if(e instanceof $)return!1;if(e instanceof nn)return e.value0.id===n;if(e instanceof en)return e.value0.leftParent.id===n;if(e instanceof rn)return e.value0.rightParent.id===n;if(e instanceof tn)return e.value0.leftParent.id===n||e.value0.rightParent.id===n;throw new Error("Failed pattern match at ProtoVoices.Model (line 222, column 20 - line 228, column 88): "+[e.constructor.name])}},r.Start=q,r.Inner=L,r.Stop=H,r.isRepeatingEdge=bn,r.incS=Cn,r.incT=In,r.NoParents=J,r.VertParent=k,r.MergeParents=U,r.getParents=function(n){if(n instanceof J)return[];if(n instanceof k)return[n.value0];if(n instanceof U)return[n.value0.left,n.value0.right];throw new Error("Failed pattern match at ProtoVoices.Model (line 334, column 14 - line 337, column 50): "+[n.constructor.name])},r.getInnerNotes=Rn,r.transEdges=function(n){return C.append(C.semigroupArray)(n.edges.regular)(n.edges.passing)},r.Freeze=on,r.Split=un,r.Hori=an,r.attachSegment=te,r.detachSegment=re,r.loadPiece=function(n){return{piece:n,reduction:hn(n)}},r.vertEdgesLeft=fn,r.vertEdgesRight=sn,r.mergeAtSlice=function(n){return function(e){var r=ee((function(e){return e instanceof v.Cons&&e.value1 instanceof v.Cons&&s.eq(zn)(e.value0.rslice.id)(n)?new F.Just(new D.Tuple({seg1:e.value0,seg2:e.value1.value0},e.value1.value1)):F.Nothing.value}))((function(n){return function(r){return l.Right.create(new v.Cons((t=e.reduction.nextTransId,function(n){return function(e){return function(r){var o=new U({left:n,right:r.rslice}),i=Zn(o)(e),u=new un({childl:i,childr:re(r)});return{trans:{id:t,edges:ne(i.rslice),is2nd:e.trans.is2nd},rslice:r.rslice,op:u}}}})(n)(r.seg1)(r.seg2),v.Nil.value));var t}}))(e.reduction);if(r instanceof l.Right)return new l.Right({reduction:{segments:r.value0,nextTransId:In(e.reduction.nextTransId),nextSliceId:e.reduction.nextSliceId,start:e.reduction.start},piece:e.piece});if(r instanceof l.Left)return new l.Left(r.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 640, column 30 - line 642, column 23): "+[r.constructor.name])}},r.vertAtMid=function(n){return function(e){var r=function(n){return function(e){return function(t){return function(u){return function(a){return function(s){return function(f){var w=function(w){if(c.otherwise){var h=function(n){return function(e){return i.bind(l.bindEither)(sn(e.trans.edges)(n.rslice))((function(n){return o.pure(l.applicativeEither)({trans:{edges:n,id:s.trans.id,is2nd:s.trans.is2nd},op:s.op,rslice:s.rslice})}))}};if(a.op instanceof on)return new l.Right({"segl'":a,"segr'":s,"tail'":f,leftover:new F.Just(0)});if(a.op instanceof un)return i.bind(l.bindEither)(r(n)(e)(t)(a.op.value0.childl.rslice)(te(a.op.value0.childr)(a.rslice))(s)(f))((function(c){return i.bind(l.bindEither)(0===n?a.op.value0.childl.rslice.parents instanceof U?l.Right.create(Zn(new U({left:u,right:e}))(_n(a.op.value0.childl))):new l.Left("invalid derivation structure: non-merge parents on merge slice"):o.pure(l.applicativeEither)(a.op.value0.childl))((function(s){if(c.leftover instanceof F.Nothing)return o.pure(l.applicativeEither)({"segl'":{op:new un({childl:s,childr:re(c["segl'"])}),trans:{edges:ne(s.rslice),id:a.trans.id,is2nd:a.trans.is2nd},rslice:a.rslice},"segr'":c["segr'"],"tail'":c["tail'"],leftover:F.Nothing.value});if(c.leftover instanceof F.Just)return i.bind(l.bindEither)(r(1+(n+c.leftover.value0|0)|0)(e)(t)(u)(s)(c["segl'"])(new v.Cons(c["segr'"],c["tail'"])))((function(n){if(n["tail'"]instanceof v.Cons){var e={op:new un({childl:n["segl'"],childr:re(n["segr'"])}),rslice:a.rslice,trans:a.trans};return o.pure(l.applicativeEither)({"segl'":e,"segr'":n["tail'"].value0,"tail'":n["tail'"].value1,leftover:d.map(F.functorMaybe)((function(n){return n+1|0}))(n.leftover)})}return new l.Left("Returned tail too short (splitLeft). This is a bug!")}));throw new Error("Failed pattern match at ProtoVoices.Model (line 784, column 9 - line 804, column 78): "+[c.leftover.constructor.name])}))}));if(a.op instanceof an){if(s.op instanceof an)return new l.Left("Not a leftmost derivation (Hori right of Hori)!");if(s.op instanceof un)return i.bind(l.bindEither)(r(n)(e)(t)(u)(a)(s.op.value0.childl)(new v.Cons(te(s.op.value0.childr)(s.rslice),f)))((function(n){if(n["tail'"]instanceof v.Cons){var e=new un({childl:n["segr'"],childr:re(n["tail'"].value0)});return o.pure(l.applicativeEither)({"segl'":n["segl'"],"segr'":{op:e,rslice:s.rslice,trans:s.trans},"tail'":n["tail'"].value1,leftover:n.leftover})}return new l.Left("Returned tail too short (splitRight). This is a bug!")}));if(s.op instanceof on){if(f instanceof v.Nil)return new l.Left("Tail too short (hori). This is a bug!");if(f instanceof v.Cons)return i.bind(l.bindEither)(r(n-1|0)(e)(t)(a.op.value0.childm.rslice)(te(a.op.value0.childr)(a.rslice))(f.value0)(f.value1))((function(c){var s=new v.Cons(c["segr'"],c["tail'"]);if(c.leftover instanceof F.Nothing){var f=new an({childl:a.op.value0.childl,childm:a.op.value0.childm,childr:re(c["segl'"])});return i.bind(l.bindEither)(h(a.op.value0.childm)(c["segl'"]))((function(n){return o.pure(l.applicativeEither)({"segl'":{op:f,rslice:a.rslice,trans:a.trans},"segr'":n,"tail'":s,leftover:F.Nothing.value})}))}if(c.leftover instanceof F.Just)return i.bind(l.bindEither)(r(n+c.leftover.value0|0)(e)(t)(a.op.value0.childl.rslice)(a.op.value0.childm)(c["segl'"])(s))((function(c){if(c.leftover instanceof F.Nothing){var s=new an({childl:a.op.value0.childl,childm:c["segl'"],childr:re(c["segr'"])});return i.bind(l.bindEither)(h(c["segl'"])(c["segr'"]))((function(n){return o.pure(l.applicativeEither)({"segl'":{op:s,rslice:a.rslice,trans:a.trans},"segr'":n,"tail'":c["tail'"],leftover:F.Nothing.value})}))}if(c.leftover instanceof F.Just)return i.bind(l.bindEither)(r((n+1|0)+c.leftover.value0|0)(e)(t)(u)(a.op.value0.childl)(c["segl'"])(new v.Cons(c["segr'"],c["tail'"])))((function(n){if(n["tail'"]instanceof v.Nil)return new l.Left("Returned tail too short (hori). This is a bug!");if(n["tail'"]instanceof v.Cons){var e=new an({childl:n["segl'"],childm:n["segr'"],childr:re(n["tail'"].value0)});return i.bind(l.bindEither)(h(n["segr'"])(n["tail'"].value0))((function(r){return o.pure(l.applicativeEither)({"segl'":{op:e,rslice:a.rslice,trans:a.trans},"segr'":r,"tail'":n["tail'"].value1,leftover:d.map(F.functorMaybe)((function(n){return n+2|0}))(n.leftover)})}))}throw new Error("Failed pattern match at ProtoVoices.Model (line 847, column 21 - line 853, column 115): "+[n["tail'"].constructor.name])}));throw new Error("Failed pattern match at ProtoVoices.Model (line 837, column 17 - line 853, column 115): "+[c.leftover.constructor.name])}));throw new Error("Failed pattern match at ProtoVoices.Model (line 827, column 13 - line 853, column 115): "+[c.leftover.constructor.name])}));throw new Error("Failed pattern match at ProtoVoices.Model (line 819, column 19 - line 853, column 115): "+[f.constructor.name])}throw new Error("Failed pattern match at ProtoVoices.Model (line 806, column 42 - line 853, column 115): "+[s.op.constructor.name])}throw new Error("Failed pattern match at ProtoVoices.Model (line 769, column 19 - line 853, column 115): "+[a.op.constructor.name])}throw new Error("Failed pattern match at ProtoVoices.Model (line 694, column 1 - line 694, column 53): "+[n.constructor.name,e.constructor.name,t.constructor.name,u.constructor.name,a.constructor.name,s.constructor.name,f.constructor.name])};return 0===n&&!a.trans.is2nd?i.bind(l.bindEither)(t(re(a)))((function(n){return o.pure(l.applicativeEither)({"segl'":te(n)(a.rslice),"segr'":s,"tail'":f,leftover:F.Nothing.value})})):w()}}}}}}},t=function(n){return function(e){return function(t){return function(u){return function(a){return function(c){return function(s){return i.bind(l.bindEither)(r(n)(e)(t)(u)(a)(c)(s))((function(r){return o.pure(l.applicativeEither)(function(){if(r.leftover instanceof F.Nothing)return{"seg'":r["segl'"],"tail'":new v.Cons(r["segr'"],r["tail'"]),dangling:F.Nothing.value};if(r.leftover instanceof F.Just)return{"seg'":r["segl'"],"tail'":new v.Cons(r["segr'"],r["tail'"]),dangling:new F.Just({dist:(n+1|0)+r.leftover.value0|0,mkLeftParent:t,topSlice:e})};throw new Error("Failed pattern match at ProtoVoices.Model (line 746, column 10 - line 748, column 120): "+[r.leftover.constructor.name])}())}))}}}}}}},u=function(r){return function(d){if(d instanceof v.Cons&&d.value1 instanceof v.Cons&&d.value1.value1 instanceof v.Cons){if(s.eq(Vn)(d.value1.value0.trans.id)(n))return i.bind(l.bindEither)(function(n){return function(e){return function(r){return function(t){return function(u){if(r.rslice.notes instanceof L&&t.rslice.notes instanceof L){if(!a.all(bn)(t.trans.edges.regular))return new l.Left("Middle transition of a vert must only contain repetition and passing edges!");if(c.otherwise){var s=function(n){return f.foldl(f.foldableArray)((function(n){return function(e){return m.insertWith(b.ordPitch(I.ordSInterval))(R.add(R.semiringInt))(e.note.pitch)(1)(n)}}))(m.empty)(n)},d={notes:L.create((g=m.unionWith(b.ordPitch(I.ordSInterval))(S.max(S.ordInt))(s(r.rslice.notes.value0))(s(t.rslice.notes.value0)),p=a.reverse(a.concatMap((function(n){return a.replicate(n.value1)(n.value0)}))(m.toUnfoldable(N.unfoldableArray)(g))),a.mapWithIndex((function(n){return function(r){return{note:{pitch:r,id:"note"+E.show(vn)(e)+"."+E.show(E.showInt)(n)},expl:Z.value}}}))(p))),id:e,x:(r.rslice.x+t.rslice.x)/2,parents:J.value},w=Zn(new k(d))(t),h=function(e){var t=Zn(new k(d))(te(e)(r.rslice));return i.bind(l.bindEither)(fn(e.trans.edges)(t.rslice))((function(e){return o.pure(l.applicativeEither)({trans:{id:n,is2nd:!1,edges:e},op:new an({childl:t,childm:w,childr:re(u)})})}))};return i.bind(l.bindEither)(sn(u.trans.edges)(w.rslice))((function(e){var r={trans:{id:In(n),is2nd:!0,edges:e},rslice:u.rslice,op:on.value};return o.pure(l.applicativeEither)({mkLeftParent:h,rightParent:r,topSlice:d})}))}}var g,p;return new l.Left("Cannot vert an outer slice!")}}}}}(e.reduction.nextTransId)(e.reduction.nextSliceId)(d.value0)(d.value1.value0)(d.value1.value1.value0))((function(n){return t(0)(n.topSlice)(n.mkLeftParent)(r)({trans:d.value0.trans,rslice:n.topSlice,op:d.value0.op})(n.rightParent)(d.value1.value1.value1)}));if(c.otherwise)return i.bind(l.bindEither)(u(d.value0.rslice)(d.value1))((function(n){if(n.dangling instanceof F.Nothing)return new l.Right({"seg'":d.value0,"tail'":new v.Cons(n["seg'"],n["tail'"]),dangling:F.Nothing.value});if(n.dangling instanceof F.Just)return t(n.dangling.value0.dist)(n.dangling.value0.topSlice)(n.dangling.value0.mkLeftParent)(r)(d.value0)(n["seg'"])(n["tail'"]);throw new Error("Failed pattern match at ProtoVoices.Model (line 726, column 7 - line 728, column 108): "+[n.dangling.constructor.name])}))}return l.Left.create("Cannot hori at "+E.show(gn)(n))}},w=u(e.reduction.start)(e.reduction.segments);if(w instanceof l.Right){if(w.value0.dangling instanceof F.Nothing)return new l.Right({reduction:{segments:new v.Cons(w.value0["seg'"],w.value0["tail'"]),nextTransId:In(In(e.reduction.nextTransId)),nextSliceId:Cn(e.reduction.nextSliceId),start:e.reduction.start},piece:e.piece});if(w.value0.dangling instanceof F.Just)return new l.Left("Failed to insert hori!");throw new Error("Failed pattern match at ProtoVoices.Model (line 696, column 38 - line 706, column 47): "+[w.value0.dangling.constructor.name])}if(w instanceof l.Left)return new l.Left(w.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 695, column 27 - line 707, column 23): "+[w.constructor.name])}},r.undoMergeAtTrans=function(n){return function(e){var r=ee((function(e){return e instanceof v.Cons&&s.eq(Vn)(e.value0.trans.id)(n)?new F.Just(new D.Tuple(e.value0,e.value1)):F.Nothing.value}))((function(n){return function(n){return n.op instanceof un?l.Right.create(new v.Cons(_n(Zn(J.value)(n.op.value0.childl)),new v.Cons(te(n.op.value0.childr)(n.rslice),v.Nil.value))):new l.Left("Operation is not a split!")}}))(e.reduction);if(r instanceof l.Right)return new l.Right({reduction:{segments:r.value0,nextSliceId:e.reduction.nextSliceId,nextTransId:e.reduction.nextTransId,start:e.reduction.start},piece:e.piece});if(r instanceof l.Left)return new l.Left(r.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 861, column 34 - line 863, column 23): "+[r.constructor.name])}},r.undoVertAtSlice=function(n){return function(e){var r=ee((function(e){return e instanceof v.Cons&&e.value1 instanceof v.Cons&&s.eq(zn)(e.value0.rslice.id)(n)?new F.Just(new D.Tuple({pl:e.value0,pr:e.value1.value0},e.value1.value1)):F.Nothing.value}))((function(n){return function(n){return n.pl.op instanceof an?l.Right.create(new v.Cons(_n(Zn(J.value)(n.pl.op.value0.childl)),new v.Cons(_n(Zn(J.value)(n.pl.op.value0.childm)),new v.Cons(te(n.pl.op.value0.childr)(n.pr.rslice),v.Nil.value)))):new l.Left("Operation is not a hori!")}}))(e.reduction);if(r instanceof l.Right)return new l.Right({reduction:{segments:r.value0,nextSliceId:e.reduction.nextSliceId,nextTransId:e.reduction.nextTransId,start:e.reduction.start},piece:e.piece});if(r instanceof l.Left)return new l.Left(r.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 879, column 33 - line 881, column 23): "+[r.constructor.name])}},r.noteSetExplanation=function(n){return function(e){return function(r){var t=function(e){return a.any((function(e){return e.note.id===n}))(Rn(e))},u=(l.Left.create("Note "+n+" not found"),function(r){return function(a){if(a.op instanceof on){if(r instanceof v.Nil)return l.Right.create({"seg'":a,rUp:v.Nil.value});if(r instanceof v.Cons)return l.Right.create({"seg'":function(){var n={};for(var e in a)({}).hasOwnProperty.call(a,e)&&(n[e]=a[e]);return n.trans={edges:r.value0,id:a.trans.id,is2nd:a.trans.is2nd},n}(),rUp:r.value1});throw new Error("Failed pattern match at ProtoVoices.Model (line 924, column 15 - line 926, column 86): "+[r.constructor.name])}if(a.op instanceof un)return i.bind(l.bindEither)(c(r)(a.op.value0.childl))((function(n){return i.bind(l.bindEither)(u(n.rUp)(a.op.value0.childr))((function(r){var u=function(){var e={};for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e.op=new un({childl:n["seg'"],childr:r["seg'"]}),e}();return i.bind(l.bindEither)(t(a.op.value0.childl.rslice)?function(n){return!(n instanceof nn)}(e)?o.pure(l.applicativeEither)(function(){var e={};for(var r in u)({}).hasOwnProperty.call(u,r)&&(e[r]=u[r]);return e.trans={edges:ne(n["seg'"].rslice),id:u.trans.id,is2nd:u.trans.is2nd},e}()):new l.Left("Cannot explain a split note with a hori."):o.pure(l.applicativeEither)(u))((function(n){return o.pure(l.applicativeEither)({"seg'":n,rUp:r.rUp})}))}))}));if(a.op instanceof an)return i.bind(l.bindEither)(c(r)(a.op.value0.childl))((function(r){return i.bind(l.bindEither)(c(r.rUp)(a.op.value0.childm))((function(c){return i.bind(l.bindEither)(u(c.rUp)(a.op.value0.childr))((function(u){return i.bind(l.bindEither)(fn(r["seg'"].trans.edges)(r["seg'"].rslice))((function(s){return i.bind(l.bindEither)(sn(u["seg'"].trans.edges)(c["seg'"].rslice))((function(f){return i.discard(i.discardUnit)(l.bindEither)(!t(a.op.value0.childl.rslice)&&!t(a.op.value0.childm.rslice)||function(n){return n instanceof Z||n instanceof nn}(e)?o.pure(l.applicativeEither)(x.unit):l.Left.create("Cannot explain a hori note with a split. noteId = "+E.show(E.showString)(n)+", childl.rslice = "+E.show(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(vn)))(pn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(vn)))(a.op.value0.childl.rslice)+", childm.rslice = "+E.show(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"notes"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"parents"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"x"})))(E.showRecordFieldsNil)(E.showNumber))(An(vn)))(pn(E.showArray(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"expl"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"note"})))(E.showRecordFieldsNil)(E.showRecord()(E.showRecordFieldsCons(new P.IsSymbol((function(){return"id"})))(E.showRecordFieldsCons(new P.IsSymbol((function(){return"pitch"})))(E.showRecordFieldsNil)(b.showPitchInst(I.showpitchSInterval)))(E.showString))))(Ln))))))(vn)))(a.op.value0.childm.rslice)))((function(){return o.pure(l.applicativeEither)({"seg'":function(){var n={};for(var e in a)({}).hasOwnProperty.call(a,e)&&(n[e]=a[e]);return n.op=new an({childl:r["seg'"],childm:c["seg'"],childr:u["seg'"]}),n.trans={edges:s,id:a.trans.id,is2nd:a.trans.is2nd},n}(),rUp:new v.Cons(f,u.rUp)})}))}))}))}))}))}));throw new Error("Failed pattern match at ProtoVoices.Model (line 923, column 31 - line 964, column 12): "+[a.op.constructor.name])}}),c=function(r){return function(o){var i,a=t(o.rslice)?{id:(i=o.rslice).id,notes:d.map(On)(d.map(d.functorArray)((function(r){return r.note.id===n?{expl:e,note:r.note}:r})))(i.notes),x:i.x,parents:i.parents}:o.rslice;return d.map(l.functorEither)((function(n){return{"seg'":{rslice:a,op:n["seg'"].op,trans:n["seg'"].trans},rUp:n.rUp}}))(u(r)(o))}},s=function(n){return function(e){if(e instanceof v.Nil)return new l.Right(v.Nil.value);if(e instanceof v.Cons)return i.bind(l.bindEither)(c(n)(e.value0))((function(n){return i.bind(l.bindEither)(s(n.rUp)(e.value1))((function(e){return o.pure(l.applicativeEither)(new v.Cons(n["seg'"],e))}))}));throw new Error("Failed pattern match at ProtoVoices.Model (line 910, column 28 - line 915, column 29): "+[e.constructor.name])}},f=s(v.Nil.value)(r.reduction.segments);if(f instanceof l.Right)return new l.Right({reduction:{segments:f.value0,nextSliceId:r.reduction.nextSliceId,nextTransId:r.reduction.nextTransId,start:r.reduction.start},piece:r.piece});if(f instanceof l.Left)return new l.Left(f.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 897, column 40 - line 899, column 23): "+[f.constructor.name])}}},r.eqRightOrnament=Gn,r.showRightOrnament=Wn,r.eqLeftOrnament=jn,r.showLeftOrnament=Mn,r.eqDoubleOrnament=Kn,r.showDoubleOrnament=qn,r.eqNoteExplanation=Xn,r.showNoteExplanation=Ln,r.eqStartStop=Bn,r.functorStartStop=On,r.ordStartStop=function(n){return new S.Ord((function(){return Bn(n.Eq0())}),(function(e){return function(r){if(e instanceof q&&r instanceof q)return y.EQ.value;if(e instanceof q)return y.LT.value;if(r instanceof q)return y.GT.value;if(e instanceof L&&r instanceof L)return S.compare(n)(e.value0)(r.value0);if(e instanceof L)return y.LT.value;if(r instanceof L)return y.GT.value;if(e instanceof H&&r instanceof H)return y.EQ.value;throw new Error("Failed pattern match at ProtoVoices.Model (line 244, column 1 - line 244, column 61): "+[e.constructor.name,r.constructor.name])}}))},r.showStartStop=pn,r.writeForeignStartStop=function(n){return new T.WriteForeign((function(e){if(e instanceof q)return T.writeImpl(T.writeForeignString)("start");if(e instanceof H)return T.writeImpl(T.writeForeignString)("stop");if(e instanceof L)return T.writeImpl(n)(e.value0);throw new Error("Failed pattern match at ProtoVoices.Model (line 252, column 15 - line 255, column 27): "+[e.constructor.name])}))},r.readForeignStartStop=function(n){return new T.ReadForeign((function(e){var r=i.bind(u.bindExceptT(h.monadIdentity))(T.readImpl(T.readString)(e))((function(n){return"start"===n?o.pure(u.applicativeExceptT(h.monadIdentity))(q.value):"stop"===n?o.pure(u.applicativeExceptT(h.monadIdentity))(H.value):M.fail(h.monadIdentity)(new M.ForeignError("StartStop is neither Start nor Stop!"))}));return t.alt(u.altExceptT(v.semigroupNonEmptyList)(h.monadIdentity))(r)(d.map(u.functorExceptT(h.functorIdentity))(L.create)(T.readImpl(n)(e)))}))},r.showSliceId=vn,r.eqSliceId=zn,r.ordSliceId=yn,r.readForeignSliceId=Fn,r.writeForeignSliceId=ln,r.showTransId=gn,r.eqTransId=Vn,r.ordTransId=Sn,r.readForeignTransId=mn,r.writeForeignTransId=cn,r.eqParents=Qn,r.showParents=An,r.eqOp=Yn,r.showOp=Hn}(r),function(n){n["App.Common"]=n["App.Common"]||{};var e=n["App.Common"],r=n["Data.Boolean"],t=n["Data.Eq"],o=n["Data.Generic.Rep"],i=n["Data.Maybe"],u=n["Data.Pitches.Class"],a=n["Data.Pitches.Spelled"],c=n["Data.Show"],l=n["Data.Show.Generic"],s=n["Data.Symbol"],f=n["ProtoVoices.Model"],d=function(){function n(){}return n.value=new n,n}(),w=function(){function n(){}return n.value=new n,n}(),h=function(){function n(){}return n.value=new n,n}(),g=function(){function n(){}return n.value=new n,n}(),p=function(){function n(){}return n.value=new n,n}(),v=function(){function n(){}return n.value=new n,n}(),m=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),F=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),S=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),y=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),b=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),I=function(){function n(){}return n.value=new n,n}(),C=function(){function n(){}return n.value=new n,n}(),R=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),E=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),W=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),P=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),A=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),D=function(){function n(){}return n.value=new n,n}(),N=function(){function n(){}return n.value=new n,n}(),x=function(){function n(){}return n.value=new n,n}(),M=function(){function n(){}return n.value=new n,n}(),T=function(){function n(){}return n.value=new n,n}(),q=function(){function n(){}return n.value=new n,n}(),L=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),H=function(){function n(){}return n.value=new n,n}(),O=function(){function n(){}return n.value=new n,n}(),_=new o.Generic((function(n){if(n instanceof v)return new o.Inl(o.NoArguments.value);if(n instanceof m)return new o.Inr(new o.Inl(n.value0));if(n instanceof F)return new o.Inr(new o.Inr(new o.Inl(n.value0)));if(n instanceof S)return new o.Inr(new o.Inr(new o.Inr(n.value0)));throw new Error("Failed pattern match at App.Common (line 36, column 1 - line 36, column 61): "+[n.constructor.name])}),(function(n){if(n instanceof o.Inl)return v.value;if(n instanceof o.Inr&&n.value0 instanceof o.Inl)return new m(n.value0.value0);if(n instanceof o.Inr&&n.value0 instanceof o.Inr&&n.value0.value0 instanceof o.Inl)return new F(n.value0.value0.value0);if(n instanceof o.Inr&&n.value0 instanceof o.Inr&&n.value0.value0 instanceof o.Inr)return new S(n.value0.value0.value0);throw new Error("Failed pattern match at App.Common (line 36, column 1 - line 36, column 61): "+[n.constructor.name])})),J=new c.Show((function(n){return l.genericShow(_)(l.genericShowSum(l.genericShowConstructor(l.genericShowArgsNoArguments)(new s.IsSymbol((function(){return"SelNone"}))))(l.genericShowSum(l.genericShowConstructor(l.genericShowArgsArgument(f.showSliceId))(new s.IsSymbol((function(){return"SelSlice"}))))(l.genericShowSum(l.genericShowConstructor(l.genericShowArgsArgument(f.showTransId))(new s.IsSymbol((function(){return"SelTrans"}))))(l.genericShowConstructor(l.genericShowArgsArgument(c.showRecord()(c.showRecordFieldsCons(new s.IsSymbol((function(){return"expl"})))(c.showRecordFieldsCons(new s.IsSymbol((function(){return"note"})))(c.showRecordFieldsCons(new s.IsSymbol((function(){return"parents"})))(c.showRecordFieldsNil)(f.showParents(f.showSliceId)))(c.showRecord()(c.showRecordFieldsCons(new s.IsSymbol((function(){return"id"})))(c.showRecordFieldsCons(new s.IsSymbol((function(){return"pitch"})))(c.showRecordFieldsNil)(u.showPitchInst(a.showpitchSInterval)))(c.showString))))(f.showNoteExplanation))))(new s.IsSymbol((function(){return"SelNote"})))))))(n)})),k=new t.Eq((function(n){return function(e){return n instanceof d&&e instanceof d||(n instanceof w&&e instanceof w||(n instanceof h&&e instanceof h||(n instanceof g&&e instanceof g||n instanceof p&&e instanceof p)))}})),U=new t.Eq((function(n){return function(e){return n instanceof v&&e instanceof v||(n instanceof m&&e instanceof m?t.eq(f.eqSliceId)(n.value0)(e.value0):n instanceof F&&e instanceof F?t.eq(f.eqTransId)(n.value0)(e.value0):n instanceof S&&e instanceof S&&(t.eq(f.eqNoteExplanation)(n.value0.expl)(e.value0.expl)&&n.value0.note.id===e.value0.note.id&&t.eq(u.eqPitch(a.eqSInterval))(n.value0.note.pitch)(e.value0.note.pitch)&&t.eq(f.eqParents(f.eqSliceId))(n.value0.parents)(e.value0.parents)))}}));e.SelNone=v,e.SelSlice=m,e.SelTrans=F,e.SelNote=S,e.getSelSlice=function(n){return n instanceof m?new i.Just(n.value0):i.Nothing.value},e.getSelTrans=function(n){return n instanceof F?new i.Just(n.value0):i.Nothing.value},e.noteIsSelected=function(n){return function(e){return n instanceof S&&e instanceof f.Inner&&n.value0.note.id===e.value0.id}},e.outerSelected=function(n){return n instanceof m||n instanceof F},e.addParentToNote=function(n){return function(e){return function(o){if(n instanceof S){var u=function(e){return new L({noteId:n.value0.note.id,expl:e})},a=function(a){var c=function(a){if(n.value0.parents instanceof f.MergeParents&&r.otherwise)return I.value;var c=function(e){if(n.value0.parents instanceof f.VertParent&&r.otherwise)return I.value;if(n.value0.parents instanceof f.NoParents)return I.value;throw new Error("Failed pattern match at App.Common (line 77, column 1 - line 77, column 63): "+[n.value0.parents.constructor.name])};if(n.value0.parents instanceof f.VertParent){if(t.eq(f.eqSliceId)(e)(n.value0.parents.value0)){var l=f.setHoriExplParent(n.value0.note.pitch)(new i.Just(o))(n.value0.expl);return l instanceof i.Just?u(l.value0):c()}return c()}return c()};if(n.value0.parents instanceof f.MergeParents){if(t.eq(f.eqSliceId)(e)(n.value0.parents.value0.right)){var l=f.setRightExplParent(n.value0.note.pitch)(new i.Just(o))(n.value0.expl);return l instanceof i.Just?u(l.value0):c()}return c()}return c()};if(n.value0.parents instanceof f.MergeParents){if(t.eq(f.eqSliceId)(e)(n.value0.parents.value0.left)){var c=f.setLeftExplParent(n.value0.note.pitch)(new i.Just(o))(n.value0.expl);return c instanceof i.Just?u(c.value0):a()}return a()}return a()}return function(t){if(r.otherwise)return I.value;throw new Error("Failed pattern match at App.Common (line 77, column 1 - line 77, column 63): "+[n.constructor.name,e.constructor.name,o.constructor.name])}()}}},e.removeParent=function(n){return function(e){return function(r){return i.maybe(I.value)((function(e){return new L({noteId:n.id,expl:e})}))(r(n.pitch)(i.Nothing.value)(e))}}},e.HelpTab=d,e.ImportTab=w,e.ExportTab=h,e.SettingsTab=g,e.DebugTab=p,e.ImportPiece=y,e.ImportModel=b,e.defaultSettings={flatHori:!0,xscale:70,yscale:60},e.NoOp=I,e.Init=C,e.HandleImport=R,e.HandleSettings=E,e.SwitchTab=W,e.HandleKey=P,e.Select=A,e.MergeAtSelected=D,e.VertAtSelected=N,e.UnMergeAtSelected=x,e.UnVertAtSelected=M,e.CombineAny=T,e.RemoveAny=q,e.SetNoteExplanation=L,e.Undo=H,e.Redo=O,e.eqOuterSelection=U,e.showOuterSelection=J,e.eqTab=k}(r),function(n){n["Data.Ratio"]=n["Data.Ratio"]||{};var e=n["Data.Ratio"],r=n["Data.Eq"],t=n["Data.EuclideanRing"],o=n["Data.Ord"],i=n["Data.Semiring"],u=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}();e.reduce=function(n){return function(e){return function(r){return function(a){var c=t.gcd(n.Eq0())(e)(r)(a),l=t.div(e)(a)(c);return new u(i.mul(e.CommutativeRing0().Ring0().Semiring0())(t.div(e)(r)(c))(o.signum(n)(e.CommutativeRing0().Ring0())(l)),o.abs(n)(e.CommutativeRing0().Ring0())(l))}}}},e.numerator=function(n){return n.value0},e.denominator=function(n){return n.value1},e.eqRatio=function(n){return new r.Eq((function(e){return function(t){return r.eq(n)(e.value0)(t.value0)&&r.eq(n)(e.value1)(t.value1)}}))}}(r),function(n){n["DOM.HTML.Indexed.InputAcceptType"]=n["DOM.HTML.Indexed.InputAcceptType"]||{};var e=n["DOM.HTML.Indexed.InputAcceptType"],r=n["Data.Functor"],t=n["Data.String.Common"],o=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),i=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),u=function(n){if(n instanceof o)return n.value0;if(n instanceof i)return n.value0;throw new Error("Failed pattern match at DOM.HTML.Indexed.InputAcceptType (line 28, column 29 - line 30, column 33): "+[n.constructor.name])};e.AcceptFileExtension=i,e.renderInputAcceptType=function(n){return t.joinWith(",")(r.map(r.functorArray)(u)(n))}}(r),function(n){n["DOM.HTML.Indexed.InputType"]=n["DOM.HTML.Indexed.InputType"]||{};var e=n["DOM.HTML.Indexed.InputType"],r=function(){function n(){}return n.value=new n,n}(),t=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}(),a=function(){function n(){}return n.value=new n,n}(),c=function(){function n(){}return n.value=new n,n}(),l=function(){function n(){}return n.value=new n,n}(),s=function(){function n(){}return n.value=new n,n}(),f=function(){function n(){}return n.value=new n,n}(),d=function(){function n(){}return n.value=new n,n}(),w=function(){function n(){}return n.value=new n,n}(),h=function(){function n(){}return n.value=new n,n}(),g=function(){function n(){}return n.value=new n,n}(),p=function(){function n(){}return n.value=new n,n}(),v=function(){function n(){}return n.value=new n,n}(),m=function(){function n(){}return n.value=new n,n}(),F=function(){function n(){}return n.value=new n,n}(),S=function(){function n(){}return n.value=new n,n}(),y=function(){function n(){}return n.value=new n,n}(),b=function(){function n(){}return n.value=new n,n}(),I=function(){function n(){}return n.value=new n,n}();e.InputCheckbox=t,e.InputFile=c,e.InputRange=g,e.renderInputType=function(n){if(n instanceof r)return"button";if(n instanceof t)return"checkbox";if(n instanceof o)return"color";if(n instanceof i)return"date";if(n instanceof u)return"datetime-local";if(n instanceof a)return"email";if(n instanceof c)return"file";if(n instanceof l)return"hidden";if(n instanceof s)return"image";if(n instanceof f)return"month";if(n instanceof d)return"number";if(n instanceof w)return"password";if(n instanceof h)return"radio";if(n instanceof g)return"range";if(n instanceof p)return"reset";if(n instanceof v)return"search";if(n instanceof m)return"submit";if(n instanceof F)return"tel";if(n instanceof S)return"text";if(n instanceof y)return"time";if(n instanceof b)return"url";if(n instanceof I)return"week";throw new Error("Failed pattern match at DOM.HTML.Indexed.InputType (line 28, column 19 - line 50, column 22): "+[n.constructor.name])}}(r),function(n){n.null=null,n.nullable=function(n,e,r){return null==n?e:r(n)},n.notNull=function(n){return n}}(r["Data.Nullable"]=r["Data.Nullable"]||{}),function(n){n["Data.Nullable"]=n["Data.Nullable"]||{};var e=n["Data.Nullable"],r=n["Data.Nullable"],t=n["Data.Maybe"],o=t.maybe(r.null)(r.notNull);e.toMaybe=function(n){return r.nullable(n,t.Nothing.value,t.Just.create)},e.toNullable=o,e.null=r.null}(r),function(n){n._lookup=function(n,e,r,t){return r in t?e(t[r]):n}}(r["Foreign.Object"]=r["Foreign.Object"]||{}),function(n){n.runFn4=function(n){return function(e){return function(r){return function(t){return function(o){return n(e,r,t,o)}}}}}}(r["Data.Function.Uncurried"]=r["Data.Function.Uncurried"]||{}),function(n){n["Data.Function.Uncurried"]=n["Data.Function.Uncurried"]||{};var e=n["Data.Function.Uncurried"],r=n["Data.Function.Uncurried"];e.runFn4=r.runFn4}(r),function(n){n["Foreign.Object"]=n["Foreign.Object"]||{};var e=n["Foreign.Object"],r=n["Foreign.Object"],t=n["Data.Function.Uncurried"],o=n["Data.Maybe"],i=t.runFn4(r._lookup)(o.Nothing.value)(o.Just.create);e.lookup=i}(r),function(n){n["Halogen.VDom.Machine"]=n["Halogen.VDom.Machine"]||{};var e=n["Halogen.VDom.Machine"],r=n["Unsafe.Coerce"],t=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(o){return new n(e,r,t,o)}}}},n}(),o=r.unsafeCoerce,i=r.unsafeCoerce,u=o((function(n){return n.value0}));e.Step=t,e.mkStep=i,e.unStep=o,e.extract=u,e.step=function(n,e){return n.value2(n.value1,e)},e.halt=function(n){return n.value3(n.value1)}}(r),function(n){n.unsafeGetAny=function(n,e){return e[n]},n.unsafeHasAny=function(n,e){return e.hasOwnProperty(n)},n.unsafeSetAny=function(n,e,r){r[n]=e},n.forE=function(n,e){for(var r=[],t=0;t<n.length;t++)r.push(e(t,n[t]));return r},n.forEachE=function(n,e){for(var r=0;r<n.length;r++)e(n[r])},n.forInE=function(n,e){for(var r=Object.keys(n),t=0;t<r.length;t++){var o=r[t];e(o,n[o])}},n.diffWithIxE=function(n,e,r,t,o){for(var i=[],u=n.length,a=e.length,c=0;;){if(c<u)c<a?i.push(r(c,n[c],e[c])):t(c,n[c]);else{if(!(c<a))break;i.push(o(c,e[c]))}c++}return i},n.strMapWithIxE=function(n,e,r){for(var t={},o=0;o<n.length;o++){var i=n[o],u=e(i);t[u]=r(u,o,i)}return t},n.diffWithKeyAndIxE=function(n,e,r,t,o,i){for(var u={},a=0;a<e.length;a++){var c=e[a],l=r(c);n.hasOwnProperty(l)?u[l]=t(l,a,n[l],c):u[l]=i(l,a,c)}for(var l in n)l in u||o(l,n[l]);return u},n.refEq=function(n,e){return n===e},n.createTextNode=function(n,e){return e.createTextNode(n)},n.setTextContent=function(n,e){e.textContent=n},n.createElement=function(n,e,r){return null!=n?r.createElementNS(n,e):r.createElement(e)},n.insertChildIx=function(n,e,r){var t=r.childNodes.item(n)||null;t!==e&&r.insertBefore(e,t)},n.removeChild=function(n,e){e&&n.parentNode===e&&e.removeChild(n)},n.parentNode=function(n){return n.parentNode},n.setAttribute=function(n,e,r,t){null!=n?t.setAttributeNS(n,e,r):t.setAttribute(e,r)},n.removeAttribute=function(n,e,r){null!=n?r.removeAttributeNS(n,e):r.removeAttribute(e)},n.hasAttribute=function(n,e,r){return null!=n?r.hasAttributeNS(n,e):r.hasAttribute(e)},n.addEventListener=function(n,e,r){r.addEventListener(n,e,!1)},n.removeEventListener=function(n,e,r){r.removeEventListener(n,e,!1)},n.jsUndefined=void 0}(r["Halogen.VDom.Util"]=r["Halogen.VDom.Util"]||{}),function(n){n.new=function(){return{}}}(r["Foreign.Object.ST"]=r["Foreign.Object.ST"]||{}),function(n){n["Foreign.Object.ST"]=n["Foreign.Object.ST"]||{};var e=n["Foreign.Object.ST"],r=n["Foreign.Object.ST"];e.new=r.new}(r),function(n){n["Halogen.VDom.Util"]=n["Halogen.VDom.Util"]||{};var e=n["Halogen.VDom.Util"],r=n["Halogen.VDom.Util"],t=n["Foreign.Object.ST"],o=n["Unsafe.Coerce"],i=r.unsafeGetAny,u=o.unsafeCoerce,a=r.unsafeSetAny,c=t.new;e.newMutMap=c,e.pokeMutMap=a,e.unsafeFreeze=u,e.unsafeLookup=i,e.unsafeGetAny=r.unsafeGetAny,e.unsafeHasAny=r.unsafeHasAny,e.unsafeSetAny=r.unsafeSetAny,e.forE=r.forE,e.forEachE=r.forEachE,e.forInE=r.forInE,e.diffWithIxE=r.diffWithIxE,e.diffWithKeyAndIxE=r.diffWithKeyAndIxE,e.strMapWithIxE=r.strMapWithIxE,e.refEq=r.refEq,e.createTextNode=r.createTextNode,e.setTextContent=r.setTextContent,e.createElement=r.createElement,e.insertChildIx=r.insertChildIx,e.removeChild=r.removeChild,e.parentNode=r.parentNode,e.setAttribute=r.setAttribute,e.removeAttribute=r.removeAttribute,e.hasAttribute=r.hasAttribute,e.addEventListener=r.addEventListener,e.removeEventListener=r.removeEventListener,e.jsUndefined=r.jsUndefined}(r),function(n){n.eventListener=function(n){return function(){return function(e){return n(e)()}}},n.addEventListener=function(n){return function(e){return function(r){return function(t){return function(){return t.addEventListener(n,e,r)}}}}},n.removeEventListener=function(n){return function(e){return function(r){return function(t){return function(){return t.removeEventListener(n,e,r)}}}}}}(r["Web.Event.EventTarget"]=r["Web.Event.EventTarget"]||{}),function(n){n["Web.Event.EventTarget"]=n["Web.Event.EventTarget"]||{};var e=n["Web.Event.EventTarget"],r=n["Web.Event.EventTarget"];e.eventListener=r.eventListener,e.addEventListener=r.addEventListener,e.removeEventListener=r.removeEventListener}(r),function(n){n["Halogen.VDom.DOM.Prop"]=n["Halogen.VDom.DOM.Prop"]||{};var e=n["Halogen.VDom.DOM.Prop"],r=n["Data.Maybe"],t=n["Data.Nullable"],o=n["Data.Tuple"],i=n["Data.Unit"],u=n["Effect.Ref"],a=n.Foreign,c=n["Foreign.Object"],l=n["Halogen.VDom.Machine"],s=n["Halogen.VDom.Util"],f=n["Unsafe.Coerce"],d=n["Web.Event.EventTarget"],w=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),h=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),g=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),p=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),v=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),m=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),F=s.unsafeGetAny,S=s.unsafeSetAny,y=function(n){if(n instanceof g&&n.value0 instanceof r.Just)return"attr/"+n.value0.value0+":"+n.value1;if(n instanceof g)return"attr/:"+n.value1;if(n instanceof p)return"prop/"+n.value0;if(n instanceof v)return"handler/"+n.value0;if(n instanceof m)return"ref";throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): "+[n.constructor.name])},b=f.unsafeCoerce,I=f.unsafeCoerce,C=f.unsafeCoerce;e.Attribute=g,e.Property=p,e.Handler=v,e.propFromString=b,e.propFromBoolean=C,e.propFromNumber=I,e.buildProp=function(n){return function(e){var f=function(n){return function(r,u){if(u instanceof g)return s.removeAttribute(t.toNullable(u.value0),u.value1,e);if(u instanceof p)return function(n,e){return s.hasAttribute(t.null,n,e)?s.removeAttribute(t.null,n,e):"string"===a.typeOf(s.unsafeGetAny(n,e))?s.unsafeSetAny(n,"",e):"rowSpan"===n||"colSpan"===n?s.unsafeSetAny(n,1,e):s.unsafeSetAny(n,s.jsUndefined,e)}(u.value0,e);if(u instanceof v){var c=s.unsafeLookup(u.value0,n);return s.removeEventListener(u.value0,o.fst(c),e)}if(u instanceof m)return i.unit;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): "+[u.constructor.name])}},b=function(e){return e instanceof r.Just?n(e.value0)():i.unit},I=function(n){var t=c.lookup("ref")(n.props);return t instanceof r.Just&&t.value0 instanceof m?b(t.value0.value0(new h(e))):i.unit},C=function(n){return function(r,i,a){if(a instanceof g)return s.setAttribute(t.toNullable(a.value0),a.value1,a.value2,e),a;if(a instanceof p)return S(a.value0,a.value1,e),a;if(a instanceof v){var c=s.unsafeGetAny(a.value0,n);if(s.unsafeHasAny(a.value0,n))return u.write(a.value1)(o.snd(c))(),a;var l=u.new(a.value1)(),f=d.eventListener((function(n){return function(){var e=u.read(l)();return b(e(n))}}))();return s.pokeMutMap(a.value0,new o.Tuple(f,l),n),s.addEventListener(a.value0,f,e),a}if(a instanceof m)return b(a.value0(new w(e))),a;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): "+[a.constructor.name])}},R=function(n,r){var a=s.newMutMap(),c=f(n.events),d=function(n,r){return function(i,a,c,l){if(c instanceof g&&l instanceof g)return c.value2===l.value2||s.setAttribute(t.toNullable(l.value0),l.value1,l.value2,e),l;if(c instanceof p&&l instanceof p){if(s.refEq(c.value1,l.value1))return l;if("value"===l.value0){var f=F("value",e);return s.refEq(f,l.value1)||S(l.value0,l.value1,e),l}return S(l.value0,l.value1,e),l}if(c instanceof v&&l instanceof v){var d=s.unsafeLookup(l.value0,n);return u.write(l.value1)(o.snd(d))(),s.pokeMutMap(l.value0,d,r),l}return l}}(n.events,a),w=C(a),h=s.diffWithKeyAndIxE(n.props,r,y,d,c,w),m={events:s.unsafeFreeze(a),props:h};return l.mkStep(new l.Step(i.unit,m,R,I))};return function(n){var e=s.newMutMap(),r=s.strMapWithIxE(n,y,C(e)),t={events:s.unsafeFreeze(e),props:r};return l.mkStep(new l.Step(i.unit,t,R,I))}}}}(r),function(n){n["Halogen.VDom.Types"]=n["Halogen.VDom.Types"]||{};var e=n["Halogen.VDom.Types"],r=n["Data.Bifunctor"],t=n["Data.Functor"],o=n["Data.Tuple"],i=n["Unsafe.Coerce"],u=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),a=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(o){return new n(e,r,t,o)}}}},n}(),c=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(o){return new n(e,r,t,o)}}}},n}(),l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),f=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),d=function(n){return function(e){return n(e)}},w=i.unsafeCoerce,h=new r.Bifunctor((function(n){return function(e){return d((function(r){return w(new f((function(e){return n(r.value0(e))}),(function(n){return e(r.value1(n))}),r.value2))}))}})),g=d((function(n){var e=function(i){if(i instanceof u)return new u(i.value0);if(i instanceof a)return new a(i.value0,i.value1,n.value0(i.value2),t.map(t.functorArray)(e)(i.value3));if(i instanceof c)return new c(i.value0,i.value1,n.value0(i.value2),t.map(t.functorArray)(t.map(o.functorTuple)(e))(i.value3));if(i instanceof l)return new l(n.value1(i.value0));if(i instanceof s)return new s(r.bimap(h)(n.value0)(n.value1)(i.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): "+[i.constructor.name])};return e(n.value2)}));e.Text=u,e.Elem=a,e.Keyed=c,e.Widget=l,e.Grafted=s,e.runGraft=g}(r),function(n){n["Halogen.HTML.Core"]=n["Halogen.HTML.Core"]||{};var e=n["Halogen.HTML.Core"],r=n["DOM.HTML.Indexed.InputAcceptType"],t=n["DOM.HTML.Indexed.InputType"],o=n["Halogen.VDom.DOM.Prop"],i=n["Halogen.VDom.Types"],u=function(n){this.toPropValue=n},a=new u(o.propFromString),c=new u(o.propFromNumber),l=new u((function(n){return o.propFromString(t.renderInputType(n))})),s=new u((function(n){return o.propFromString(r.renderInputAcceptType(n))})),f=new u(o.propFromBoolean),d=o.Handler.create;e.widget=function(n){return i.Widget.create(n)},e.text=function(n){return i.Text.create(n)},e.element=function(n){return function(e){return function(r){return function(t){return new i.Elem(n,e,r,t)}}}},e.prop=function(n){return function(e){var r=o.Property.create(e),t=n.toPropValue;return function(n){return r(t(n))}}},e.attr=function(n){return function(e){return o.Attribute.create(n)(e)}},e.handler=d,e.isPropString=a,e.isPropNumber=c,e.isPropBoolean=f,e.isPropInputType=l,e.isPropInputAcceptType=s}(r),function(n){n["Halogen.HTML.Elements"]=n["Halogen.HTML.Elements"]||{};var e=n["Halogen.HTML.Elements"],r=n["Data.Maybe"],t=n["Halogen.HTML.Core"].element(r.Nothing.value),o=t("h1")([]),i=t("h2")([]),u=t("h3")([]),a=t("label"),c=t("li"),l=c([]),s=t("ol")([]),f=t("option"),d=t("p"),w=d([]),h=t("pre")([]),g=t("select")([]),p=t("ul"),v=t("div"),m=v([]),F=t("button"),S=t("a");e.a=S,e.button=F,e.div=v,e.div_=m,e.h1_=o,e.h2_=i,e.h3_=u,e.input=function(n){return t("input")(n)([])},e.label=a,e.li=c,e.li_=l,e.ol_=s,e.option=f,e.p=d,e.p_=w,e.pre_=h,e.select_=g,e.textarea=function(n){return t("textarea")(n)([])},e.ul=p}(r),function(n){n["Halogen.Query.Input"]=n["Halogen.Query.Input"]||{};var e=n["Halogen.Query.Input"],r=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}();e.RefUpdate=r,e.Action=t}(r),function(n){n._currentTarget=function(n){return n.currentTarget},n._target=function(n){return n.target},n.preventDefault=function(n){return function(){return n.preventDefault()}}}(r["Web.Event.Event"]=r["Web.Event.Event"]||{}),function(n){n["Web.Event.Event"]=n["Web.Event.Event"]||{};var e=n["Web.Event.Event"],r=n["Web.Event.Event"],t=n["Data.Nullable"];e.target=function(n){return t.toMaybe(r._target(n))},e.currentTarget=function(n){return t.toMaybe(r._currentTarget(n))},e.preventDefault=r.preventDefault}(r),function(n){n._item=function(n){return function(e){return e.item(n)}}}(r["Web.File.FileList"]=r["Web.File.FileList"]||{}),function(n){n["Web.File.FileList"]=n["Web.File.FileList"]||{};var e=n["Web.File.FileList"],r=n["Web.File.FileList"],t=n["Data.Function"],o=n["Data.Functor"],i=n["Data.Maybe"],u=n["Data.Nullable"],a=n["Data.Tuple"],c=n["Data.Unfoldable"];e.items=function(n){return function(e){return c.unfoldr(n)((function(n){return o.map(i.functorMaybe)(t.flip(a.Tuple.create)(n+1|0))(function(n){var e=r._item(n);return function(n){return u.toMaybe(e(n))}}(n)(e))}))(0)}}}(r),function(n){n["Web.HTML.Event.EventTypes"]=n["Web.HTML.Event.EventTypes"]||{};var e=n["Web.HTML.Event.EventTypes"];e.change="change",e.domcontentloaded="DOMContentLoaded",e.error="error",e.input="input",e.load="load"}(r),function(n){n._files=function(n){return function(){return n.files}}}(r["Web.HTML.HTMLInputElement"]=r["Web.HTML.HTMLInputElement"]||{}),function(n){n._unsafeReadProtoTagged=function(n,e,r,t){if("undefined"!=typeof window){var o=window[r];if(null!=o&&t instanceof o)return e(t)}for(var i=t;null!=i;){var u=Object.getPrototypeOf(i),a=u.constructor.name;if(a===r)return e(t);if("Object"===a)return n;i=u}return n}}(r["Web.Internal.FFI"]=r["Web.Internal.FFI"]||{}),function(n){n["Web.Internal.FFI"]=n["Web.Internal.FFI"]||{};var e=n["Web.Internal.FFI"],r=n["Web.Internal.FFI"],t=n["Data.Maybe"];e.unsafeReadProtoTagged=function(n){return function(e){return r._unsafeReadProtoTagged(t.Nothing.value,t.Just.create,n,e)}}}(r),function(n){n["Web.HTML.HTMLInputElement"]=n["Web.HTML.HTMLInputElement"]||{};var e,r=n["Web.HTML.HTMLInputElement"],t=n["Web.HTML.HTMLInputElement"],o=n["Data.Functor"],i=n["Data.Nullable"],u=n.Effect,a=n["Web.Internal.FFI"].unsafeReadProtoTagged("HTMLInputElement"),c=(e=o.map(u.functorEffect)(i.toMaybe),function(n){return e(t._files(n))});r.fromEventTarget=a,r.files=c}(r),function(n){n["Web.UIEvent.MouseEvent.EventTypes"]=n["Web.UIEvent.MouseEvent.EventTypes"]||{};n["Web.UIEvent.MouseEvent.EventTypes"].click="click"}(r),function(n){n["Halogen.HTML.Events"]=n["Halogen.HTML.Events"]||{};var e,r,t=n["Halogen.HTML.Events"],o=n["Control.Bind"],i=n["Control.Monad.Except"],u=n["Control.Monad.Except.Trans"],a=n["Data.Either"],c=n["Data.Function"],l=n["Data.Functor"],s=n["Data.Identity"],f=n["Data.Maybe"],d=n["Data.Unfoldable"],w=n["Effect.Unsafe"],h=n.Foreign,g=n["Foreign.Index"],p=n["Halogen.HTML.Core"],v=n["Halogen.Query.Input"],m=n["Unsafe.Coerce"],F=n["Web.Event.Event"],S=n["Web.File.FileList"],y=n["Web.HTML.Event.EventTypes"],b=n["Web.HTML.HTMLInputElement"],I=n["Web.UIEvent.MouseEvent.EventTypes"],C=m.unsafeCoerce,R=function(n){return function(e){return p.handler(n)((function(n){return new f.Just(new v.Action(e(n)))}))}},E=R(y.change),W=(e=R(I.click),function(n){return e(C(n))}),P=(r=y.input,function(n){return function(e){return function(t){var d;return(d=r,function(n){return p.handler(d)((function(e){return l.map(f.functorMaybe)(v.Action.create)(n(e))}))})(o.composeKleisli(f.bindMaybe)(F.currentTarget)((function(r){return a.either(c.const(f.Nothing.value))((function(n){return f.Just.create(t(n))}))(i.runExcept((l=r,o.composeKleisliFlipped(u.bindExceptT(s.monadIdentity))(e)(g.readProp(s.monadIdentity)(n))(h.unsafeToForeign(l)))));var l})))}}})("value")(h.readString(s.monadIdentity));t.onChange=E,t.onFileUpload=function(n){return function(e){return R(y.change)((r=f.maybe(d.none(n))(S.items(n)),t=o.composeKleisli(f.bindMaybe)(F.target)(o.composeKleisli(f.bindMaybe)(b.fromEventTarget)((function(n){return w.unsafePerformEffect(b.files(n))}))),function(n){return e(r(t(n)))}));var r,t}},t.onClick=W,t.onValueInput=P}(r),function(n){n["Halogen.HTML.Properties"]=n["Halogen.HTML.Properties"]||{};var e,r,t,o=n["Halogen.HTML.Properties"],i=n["Data.HeytingAlgebra"],u=n["Data.Maybe"],a=n["Data.Newtype"],c=n["Halogen.HTML.Core"],l=function(n){return c.prop(n)},s=l(c.isPropBoolean)("selected"),f=l(c.isPropString)("value"),d=l(c.isPropString)("name"),w=l(c.isPropNumber)("min"),h=l(c.isPropNumber)("max"),g=l(c.isPropString)("href"),p=l(c.isPropString)("htmlFor"),v=l(c.isPropBoolean)("disabled"),m=(e=i.not(i.heytingAlgebraBoolean),function(n){return v(e(n))}),F=(r=l(c.isPropString)("className"),t=a.unwrap(),function(n){return r(t(n))}),S=l(c.isPropBoolean)("checked"),y=c.attr(u.Nothing.value)("style"),b=l(c.isPropInputAcceptType)("accept");o.class_=F,o.for=p,o.href=g,o.name=d,o.style=y,o.type_=function(n){return l(n)("type")},o.value=f,o.min=w,o.max=h,o.disabled=v,o.enabled=m,o.checked=S,o.selected=s,o.accept=b}(r),function(n){n["Halogen.Svg.Core"]=n["Halogen.Svg.Core"]||{};var e=n["Halogen.Svg.Core"],r=n["Data.Maybe"],t=n["Halogen.VDom.DOM.Prop"],o=n["Halogen.VDom.Types"],i=r.Just.create("http://www.w3.org/2000/svg");e.element=function(n){return function(e){return function(r){return new o.Elem(i,n,e,r)}}},e.attr=function(n){return t.Attribute.create(r.Nothing.value)(n)}}(r),function(n){n["Halogen.Svg.Attributes"]=n["Halogen.Svg.Attributes"]||{};var e,r,t,o,i,u,a,c,l,s,f,d,w,h,g,p,v,m,F,S,y,b,I=n["Halogen.Svg.Attributes"],C=n["Data.Functor"],R=n["Data.Maybe"],E=n["Data.Show"],W=n["Data.String.Common"],P=n["Halogen.Svg.Core"],A=function(){function n(){}return n.value=new n,n}(),D=function(){function n(){}return n.value=new n,n}(),N=function(){function n(){}return n.value=new n,n}(),x=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),M=function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}return n.create=function(e){return function(r){return function(t){return function(o){return new n(e,r,t,o)}}}},n}(),T=function(){function n(){}return n.value=new n,n}(),q=function(){function n(){}return n.value=new n,n}(),L=function(){function n(){}return n.value=new n,n}(),H=function(){function n(){}return n.value=new n,n}(),O=function(){function n(){}return n.value=new n,n}(),_=function(){function n(){}return n.value=new n,n}(),J=function(){function n(){}return n.value=new n,n}(),k=function(){function n(){}return n.value=new n,n}(),U=function(){function n(){}return n.value=new n,n}(),V=function(){function n(){}return n.value=new n,n}(),B=function(){function n(){}return n.value=new n,n}(),z=function(){function n(){}return n.value=new n,n}(),G=function(n){if(n instanceof R.Just&&n.value0 instanceof x)return"rgb("+W.joinWith(",")(C.map(C.functorArray)(E.show(E.showInt))([n.value0.value0,n.value0.value1,n.value0.value2]))+")";if(n instanceof R.Just&&n.value0 instanceof M)return"rgba("+W.joinWith(",")(C.map(C.functorArray)(E.show(E.showInt))([n.value0.value0,n.value0.value1,n.value0.value2]))+","+E.show(E.showNumber)(n.value0.value3)+")";if(n instanceof R.Nothing)return"None";throw new Error("Failed pattern match at Halogen.Svg.Attributes (line 88, column 14 - line 91, column 20): "+[n.constructor.name])},Q=P.attr,j=(e=Q("dominant-baseline"),function(n){return e(function(n){if(n instanceof T)return"auto";if(n instanceof q)return"use-script";if(n instanceof L)return"no-change";if(n instanceof H)return"reset-size";if(n instanceof O)return"ideographic";if(n instanceof _)return"alphabetic";if(n instanceof J)return"hanging";if(n instanceof k)return"mathematical";if(n instanceof U)return"central";if(n instanceof V)return"middle";if(n instanceof B)return"text-after-edge";if(n instanceof z)return"text-before-edge";throw new Error("Failed pattern match at Halogen.Svg.Attributes (line 199, column 17 - line 211, column 39): "+[n.constructor.name])}(n))}),K=(r=Q("fill"),function(n){return r(G(n))}),X=(t=Q("height"),o=E.show(E.showNumber),function(n){return t(o(n))}),Y=(i=Q("stroke"),function(n){return i(G(n))}),Z=(u=Q("stroke-width"),a=E.show(E.showNumber),function(n){return u(a(n))}),$=(c=Q("text-anchor"),function(n){return c(function(n){if(n instanceof A)return"start";if(n instanceof D)return"middle";if(n instanceof N)return"end";throw new Error("Failed pattern match at Halogen.Svg.Attributes (line 189, column 19 - line 192, column 15): "+[n.constructor.name])}(n))}),nn=(l=Q("width"),s=E.show(E.showNumber),function(n){return l(s(n))}),en=(f=Q("x"),d=E.show(E.showNumber),function(n){return f(d(n))}),rn=(w=Q("x1"),h=E.show(E.showNumber),function(n){return w(h(n))}),tn=(g=Q("x2"),p=E.show(E.showNumber),function(n){return g(p(n))}),on=(v=Q("y"),m=E.show(E.showNumber),function(n){return v(m(n))}),un=(F=Q("y1"),S=E.show(E.showNumber),function(n){return F(S(n))}),an=(y=Q("y2"),b=E.show(E.showNumber),function(n){return y(b(n))});I.RGB=x,I.AnchorMiddle=D,I.BaselineMiddle=V,I.attr=Q,I.viewBox=function(n){return function(e){return function(r){return function(t){return Q("viewBox")(W.joinWith(" ")(C.map(C.functorArray)(E.show(E.showNumber))([n,e,r,t])))}}}},I.width=nn,I.height=X,I.x=en,I.y=on,I.x1=rn,I.y1=un,I.x2=tn,I.y2=an,I.stroke=Y,I.fill=K,I.text_anchor=$,I.dominant_baseline=j,I.strokeWidth=Z}(r),function(n){n["Halogen.Svg.Elements"]=n["Halogen.Svg.Elements"]||{};var e=n["Halogen.Svg.Elements"],r=n["Halogen.Svg.Core"].element,t=r("g"),o=r("svg"),i=r("text"),u=r("title");e.svg=o,e.g=t,e.rect=function(n){return r("rect")(n)([])},e.line=function(n){return r("line")(n)([])},e.text=i,e.title=u}(r),function(n){n["Control.Monad.State"]=n["Control.Monad.State"]||{};n["Control.Monad.State"].execState=function(n){return function(e){return n(e).value1}}}(r),function(n){n["Control.Monad.State.Class"]=n["Control.Monad.State.Class"]||{};var e=n["Control.Monad.State.Class"],r=n["Data.Tuple"],t=n["Data.Unit"],o=function(n){return n.state};e.MonadState=function(n,e){this.Monad0=n,this.state=e},e.get=function(n){return o(n)((function(n){return new r.Tuple(n,n)}))},e.gets=function(n){return function(e){return o(n)((function(n){return new r.Tuple(e(n),n)}))}},e.put=function(n){return function(e){return o(n)((function(n){return new r.Tuple(t.unit,e)}))}},e.modify=function(n){return function(e){return o(n)((function(n){var t=e(n);return new r.Tuple(t,t)}))}},e.modify_=function(n){return function(e){return o(n)((function(n){return new r.Tuple(t.unit,e(n))}))}}}(r),function(n){n["Control.Monad.Trans.Class"]=n["Control.Monad.Trans.Class"]||{};var e=n["Control.Monad.Trans.Class"];e.lift=function(n){return n.lift},e.MonadTrans=function(n){this.lift=n}}(r),function(n){n["Control.Monad.State.Trans"]=n["Control.Monad.State.Trans"]||{};var e=n["Control.Monad.State.Trans"],r=n["Control.Applicative"],t=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Monad"],u=n["Control.Monad.State.Class"],a=n["Control.Monad.Trans.Class"],c=n["Data.Functor"],l=n["Data.Tuple"],s=new a.MonadTrans((function(n){return function(e){return function(t){return o.bind(n.Bind1())(e)((function(e){return r.pure(n.Applicative0())(new l.Tuple(e,t))}))}}})),f=function(n){return new c.Functor((function(e){return function(r){return function(t){return c.map(n)((function(n){return new l.Tuple(e(n.value0),n.value1)}))(r(t))}}}))},d=function(n){return new i.Monad((function(){return g(n)}),(function(){return w(n)}))},w=function(n){return new o.Bind((function(){return h(n)}),(function(e){return function(r){return function(t){return o.bind(n.Bind1())(e(t))((function(n){return r(n.value0)(n.value1)}))}}}))},h=function(n){return new t.Apply((function(){return f(n.Bind1().Apply0().Functor0())}),i.ap(d(n)))},g=function(n){return new r.Applicative((function(){return h(n)}),(function(e){return function(t){return r.pure(n.Applicative0())(new l.Tuple(e,t))}}))};e.runStateT=function(n){return n},e.functorStateT=f,e.applicativeStateT=g,e.bindStateT=w,e.monadTransStateT=s,e.monadStateStateT=function(n){return new u.MonadState((function(){return d(n)}),(function(e){return t=r.pure(n.Applicative0()),function(n){return t(e(n))};var t}))}}(r),function(n){n["Data.Set"]=n["Data.Set"]||{};var e=n["Data.Set"],r=n["Data.Map.Internal"],t=n["Data.Monoid"],o=n["Data.Semigroup"],i=n["Data.Unit"],u=function(n){return new o.Semigroup(function(n){return function(e){return function(t){return r.union(n)(e)(t)}}}(n))},a=r.empty;e.empty=a,e.singleton=function(n){return r.singleton(n)(i.unit)},e.member=function(n){return function(e){return function(t){return r.member(n)(e)(t)}}},e.monoidSet=function(n){return new t.Monoid((function(){return u(n)}),a)}}(r),function(n){n["ProtoVoices.Common"]=n["ProtoVoices.Common"]||{};var e=n["ProtoVoices.Common"],r=n["Control.Applicative"],t=n["Control.Bind"],o=n["Data.Boolean"],i=n["Data.Char"],u=n["Data.Either"],a=n["Data.Eq"],c=n["Data.EuclideanRing"],l=n["Data.Foldable"],s=n["Data.List.Types"],f=n["Data.Maybe"],d=n["Data.Ord"],w=n["Data.Ratio"],h=n["Data.Show"],g=n["Data.String.Common"],p=n["Data.Symbol"],v=n["Text.Parsing.StringParser"],m=n["Text.Parsing.StringParser.CodePoints"],F=n["Text.Parsing.StringParser.Combinators"],S=new h.Show((function(n){return h.show(h.showInt)(n.m)+"."+h.show(h.showInt)(n.b)+"."+h.show(h.showInt)(w.numerator(n.s))+"/"+h.show(h.showInt)(w.denominator(n.s))})),y=a.eqRec()(a.eqRowCons(a.eqRowCons(a.eqRowCons(a.eqRowNil)()(new p.IsSymbol((function(){return"s"})))(w.eqRatio(a.eqInt)))()(new p.IsSymbol((function(){return"m"})))(a.eqInt))()(new p.IsSymbol((function(){return"b"})))(a.eqInt)),b=i.toCharCode("0"),I=t.bind(v.bindParser)(F.option("+")(m.char("-")))((function(n){var e="-"===n?-1:1;return t.bind(v.bindParser)(F.many1(m.anyDigit))((function(n){return r.pure(v.applicativeParser)(e*l.foldl(s.foldableNonEmptyList)((function(n){return function(e){return(10*n|0)+function(n){return i.toCharCode(n)-b|0}(e)|0}}))(0)(n)|0)}))})),C=t.bind(v.bindParser)(I)((function(n){return t.bind(v.bindParser)(F.option(1)(t.bind(v.bindParser)(m.char("/"))((function(){return I}))))((function(e){return r.pure(v.applicativeParser)(w.reduce(d.ordInt)(c.euclideanRingInt)(n)(e))}))}));e.parseTime=function(n){return f.maybe(new u.Left(n))(u.Right.create)(function(n){var e=g.split(".")(n);return 3===e.length?t.bind(f.bindMaybe)(u.hush(v.runParser(I)(e[0])))((function(n){return t.bind(f.bindMaybe)(u.hush(v.runParser(I)(e[1])))((function(o){return t.bind(f.bindMaybe)(u.hush(v.runParser(C)(e[2])))((function(e){return r.pure(f.applicativeMaybe)({m:n,b:o,s:e})}))}))})):function(e){if(o.otherwise)return f.Nothing.value;throw new Error("Failed pattern match at ProtoVoices.Common (line 54, column 1 - line 54, column 32): "+[n.constructor.name])}()}(n))},e.eqMBS=y,e.showMBS=S}(r),function(n){n["ProtoVoices.Leftmost"]=n["ProtoVoices.Leftmost"]||{};var e=n["ProtoVoices.Leftmost"],r=n["Control.Applicative"],t=n["Control.Bind"],o=n["Data.Array"],i=n["Data.Either"],u=n["Data.Functor"],a=n["Data.Generic.Rep"],c=n["Data.Map.Internal"],l=n["Data.Maybe"],s=n["Data.Ord"],f=n["Data.Pitches.Class"],d=n["Data.Pitches.Spelled"],w=n["Data.Semigroup"],h=n["Data.Show"],g=n["Data.Show.Generic"],p=n["Data.Symbol"],v=n["Data.Traversable"],m=n["Data.Unfoldable"],F=n["ProtoVoices.Common"],S=n["ProtoVoices.Model"],y=function(){function n(){}return n.value=new n,n}(),b=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),I=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),C=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),R=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),E=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),W=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),P=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),A=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),D=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),N=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),x=new w.Semigroup((function(n){return function(e){if(n instanceof P){if(e instanceof P)return new N({left:[n.value0,e.value0],right:[]});if(e instanceof A)return new D({left:n.value0,right:e.value0});if(e instanceof D)return new N({left:[n.value0,e.value0.left],right:[e.value0.right]});if(e instanceof N)return new N({left:o.cons(n.value0)(e.value0.left),right:e.value0.right});throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 104, column 20 - line 108, column 88): "+[e.constructor.name])}if(n instanceof A){if(e instanceof P)return new D({left:e.value0,right:n.value0});if(e instanceof A)return new N({left:[],right:[n.value0,e.value0]});if(e instanceof D)return new N({left:[e.value0.left],right:[n.value0,e.value0.right]});if(e instanceof N)return new N({left:e.value0.left,right:o.cons(n.value0)(e.value0.right)});throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 109, column 21 - line 113, column 89): "+[e.constructor.name])}if(n instanceof D){if(e instanceof P)return new N({left:[n.value0.left,e.value0],right:[n.value0.right]});if(e instanceof A)return new N({left:[n.value0.left],right:[n.value0.right,e.value0]});if(e instanceof D)return new N({left:[n.value0.left,e.value0.left],right:[n.value0.right,e.value0.right]});if(e instanceof N)return new N({left:o.cons(n.value0.left)(e.value0.left),right:o.cons(n.value0.right)(e.value0.right)});throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 114, column 43 - line 118, column 104): "+[e.constructor.name])}if(n instanceof N){if(e instanceof P)return new N({left:o.snoc(n.value0.left)(e.value0),right:n.value0.right});if(e instanceof A)return new N({left:n.value0.left,right:o.snoc(n.value0.right)(e.value0)});if(e instanceof D)return new N({left:o.snoc(n.value0.left)(e.value0.left),right:o.snoc(n.value0.right)(e.value0.right)});if(e instanceof N)return new N({left:w.append(w.semigroupArray)(n.value0.left)(e.value0.left),right:w.append(w.semigroupArray)(n.value0.right)(e.value0.right)});throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 119, column 46 - line 123, column 96): "+[e.constructor.name])}throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 103, column 16 - line 123, column 96): "+[n.constructor.name])}})),M=new a.Generic((function(n){return n}),(function(n){return n})),T=new a.Generic((function(n){return a.NoArguments.value}),(function(n){return y.value})),q=new h.Show((function(n){return g.genericShow(T)(g.genericShowConstructor(g.genericShowArgsNoArguments)(new p.IsSymbol((function(){return"RootNote"}))))(n)})),L=new h.Show((function(n){return g.genericShow(M)(g.genericShowConstructor(g.genericShowArgsArgument(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"fromLeft"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"fromRight"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"ids"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"keepLeft"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"keepRight"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"passing"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"regular"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"unexplained"})))(h.showRecordFieldsNil)(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(c.showMap(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"child"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"orn"})))(h.showRecordFieldsNil)(i.showEither(q)(l.showMaybe(S.showDoubleOrnament))))(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))(c.showMap(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"child"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"orn"})))(h.showRecordFieldsNil)(l.showMaybe(S.showDoubleOrnament)))(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"slice"})))(h.showRecordFieldsNil)(S.showSliceId))(S.showTransId))(S.showTransId))))(c.showMap(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"child"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"orn"})))(h.showRecordFieldsNil)(l.showMaybe(S.showLeftOrnament)))(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))(c.showMap(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"child"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"orn"})))(h.showRecordFieldsNil)(l.showMaybe(S.showRightOrnament)))(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))))(new p.IsSymbol((function(){return"SplitOp"}))))(n)})),H=new a.Generic((function(n){if(n instanceof b)return new a.Inl(n.value0);if(n instanceof I)return new a.Inr(new a.Inl(n.value0));if(n instanceof C)return new a.Inr(new a.Inr(new a.Inl(n.value0)));if(n instanceof R)return new a.Inr(new a.Inr(new a.Inr(new a.Inl(n.value0))));if(n instanceof E)return new a.Inr(new a.Inr(new a.Inr(new a.Inr(new a.Inl(n.value0)))));if(n instanceof W)return new a.Inr(new a.Inr(new a.Inr(new a.Inr(new a.Inr(n.value0)))));throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 26, column 1 - line 26, column 62): "+[n.constructor.name])}),(function(n){if(n instanceof a.Inl)return new b(n.value0);if(n instanceof a.Inr&&n.value0 instanceof a.Inl)return new I(n.value0.value0);if(n instanceof a.Inr&&n.value0 instanceof a.Inr&&n.value0.value0 instanceof a.Inl)return new C(n.value0.value0.value0);if(n instanceof a.Inr&&n.value0 instanceof a.Inr&&n.value0.value0 instanceof a.Inr&&n.value0.value0.value0 instanceof a.Inl)return new R(n.value0.value0.value0.value0);if(n instanceof a.Inr&&n.value0 instanceof a.Inr&&n.value0.value0 instanceof a.Inr&&n.value0.value0.value0 instanceof a.Inr&&n.value0.value0.value0.value0 instanceof a.Inl)return new E(n.value0.value0.value0.value0.value0);if(n instanceof a.Inr&&n.value0 instanceof a.Inr&&n.value0.value0 instanceof a.Inr&&n.value0.value0.value0 instanceof a.Inr&&n.value0.value0.value0.value0 instanceof a.Inr)return new W(n.value0.value0.value0.value0.value0);throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 26, column 1 - line 26, column 62): "+[n.constructor.name])})),O=new a.Generic((function(n){return n}),(function(n){return n})),_=new a.Generic((function(n){if(n instanceof P)return new a.Inl(n.value0);if(n instanceof A)return new a.Inr(new a.Inl(n.value0));if(n instanceof D)return new a.Inr(new a.Inr(new a.Inl(n.value0)));if(n instanceof N)return new a.Inr(new a.Inr(new a.Inr(n.value0)));throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 176, column 1 - line 176, column 62): "+[n.constructor.name])}),(function(n){if(n instanceof a.Inl)return new P(n.value0);if(n instanceof a.Inr&&n.value0 instanceof a.Inl)return new A(n.value0.value0);if(n instanceof a.Inr&&n.value0 instanceof a.Inr&&n.value0.value0 instanceof a.Inl)return new D(n.value0.value0.value0);if(n instanceof a.Inr&&n.value0 instanceof a.Inr&&n.value0.value0 instanceof a.Inr)return new N(n.value0.value0.value0);throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 176, column 1 - line 176, column 62): "+[n.constructor.name])})),J=new h.Show((function(n){return g.genericShow(_)(g.genericShowSum(g.genericShowConstructor(g.genericShowArgsArgument(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))(new p.IsSymbol((function(){return"LeftChild"}))))(g.genericShowSum(g.genericShowConstructor(g.genericShowArgsArgument(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))(new p.IsSymbol((function(){return"RightChild"}))))(g.genericShowSum(g.genericShowConstructor(g.genericShowArgsArgument(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))(new p.IsSymbol((function(){return"BothChildren"}))))(g.genericShowConstructor(g.genericShowArgsArgument(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))))(new p.IsSymbol((function(){return"TooManyChildren"})))))))(n)})),k=new h.Show((function(n){return g.genericShow(O)(g.genericShowConstructor(g.genericShowArgsArgument(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"children"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"ids"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"midEdges"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"unexplained"})))(h.showRecordFieldsNil)(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))))(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"passing"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"regular"})))(h.showRecordFieldsNil)(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))))(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"lslice"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"mid"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"rslice"})))(h.showRecordFieldsNil)(S.showSliceId))(S.showTransId))(S.showTransId))(S.showSliceId))(S.showTransId))))(c.showMap(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))(J)))))(new p.IsSymbol((function(){return"HoriOp"}))))(n)})),U=new a.Generic((function(n){return n}),(function(n){return n})),V=new h.Show((function(n){return g.genericShow(U)(g.genericShowConstructor(g.genericShowArgsArgument(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"prevTime"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"ties"})))(h.showRecordFieldsNil)(h.showArray(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"left"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"right"})))(h.showRecordFieldsNil)(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString)))))(S.showStartStop(h.showRecord()(h.showRecordFieldsCons(new p.IsSymbol((function(){return"id"})))(h.showRecordFieldsCons(new p.IsSymbol((function(){return"pitch"})))(h.showRecordFieldsNil)(f.showPitchInst(d.showpitchSInterval)))(h.showString))))))))(i.showEither(h.showString)(F.showMBS)))))(new p.IsSymbol((function(){return"FreezeOp"}))))(n)})),B=function(n){return function(e){return v.sequence(v.traversableArray)(i.applicativeEither)(t.bind(t.bindArray)(c.toUnfoldable(m.unfoldableArray)(n))((function(n){return t.bind(t.bindArray)(n.value1)((function(t){return r.pure(r.applicativeArray)(function(){var r=e(n.value0)(t.orn);if(r instanceof i.Left)return new i.Left(r.value0);if(r instanceof i.Right)return new i.Right({note:t.child,expl:r.value0});throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 67, column 10 - line 69, column 54): "+[r.constructor.name])}())}))})))}};e.LMSplitLeft=b,e.LMFreezeLeft=I,e.LMSplitRight=C,e.LMHorizontalize=R,e.LMSplitOnly=E,e.LMFreezeOnly=W,e.RootNote=y,e.splitGetChildNotes=function(n){return t.bind(i.bindEither)(B(n.regular)((function(n){return function(e){if(e instanceof i.Left)return new i.Right(S.RootExpl.value);if(e instanceof i.Right)return n.left instanceof S.Inner&&n.right instanceof S.Inner?i.Right.create(new S.DoubleExpl({leftParent:n.left.value0,rightParent:n.right.value0,orn:e.value0})):new i.Left("Parent note cannot be Start or Stop!");throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 74, column 41 - line 80, column 57): "+[e.constructor.name])}})))((function(e){return t.bind(i.bindEither)(B(n.passing)((function(n){return function(e){return n.left instanceof S.Inner&&n.right instanceof S.Inner?i.Right.create(new S.DoubleExpl({leftParent:n.left.value0,rightParent:n.right.value0,orn:e})):new i.Left("Parent note cannot be Start or Stop!")}})))((function(a){return t.bind(i.bindEither)(B(n.fromLeft)((function(n){return function(e){return i.Right.create(new S.RightExpl({leftParent:n,orn:e}))}})))((function(c){return t.bind(i.bindEither)(B(n.fromRight)((function(n){return function(e){return i.Right.create(new S.LeftExpl({rightParent:n,orn:e}))}})))((function(t){var l=u.map(u.functorArray)((function(n){return{note:n,expl:S.NoExpl.value}}))(n.unexplained);return r.pure(i.applicativeEither)(o.sortWith(s.ordRecord()(s.ordRecordCons(s.ordRecordCons(s.ordRecordNil)()(new p.IsSymbol((function(){return"pitch"})))(f.ordPitch(d.ordSInterval)))()(new p.IsSymbol((function(){return"id"})))(s.ordString)))((function(n){return n.note}))(w.append(w.semigroupArray)(e)(w.append(w.semigroupArray)(a)(w.append(w.semigroupArray)(c)(w.append(w.semigroupArray)(t)(l))))))}))}))}))}))},e.LeftChild=P,e.RightChild=A,e.BothChildren=D,e.TooManyChildren=N,e.horiLeftChildren=function(n){var e=u.map(u.functorArray)((function(n){return{note:n,expl:S.NoExpl.value}}))(n.unexplained.left),r=o.concatMap((function(n){if(n.value1 instanceof P)return[{note:n.value1.value0,expl:new S.HoriExpl(n.value0)}];if(n.value1 instanceof A)return[];if(n.value1 instanceof D)return[{note:n.value1.value0.left,expl:new S.HoriExpl(n.value0)}];if(n.value1 instanceof N)return u.map(u.functorArray)((function(e){return{note:e,expl:new S.HoriExpl(n.value0)}}))(n.value1.value0.left);throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 140, column 34 - line 144, column 76): "+[n.value1.constructor.name])}))(c.toUnfoldable(m.unfoldableArray)(n.children));return o.sortWith(s.ordRecord()(s.ordRecordCons(s.ordRecordCons(s.ordRecordNil)()(new p.IsSymbol((function(){return"pitch"})))(f.ordPitch(d.ordSInterval)))()(new p.IsSymbol((function(){return"id"})))(s.ordString)))((function(n){return n.note}))(w.append(w.semigroupArray)(e)(r))},e.horiRightChildren=function(n){var e=u.map(u.functorArray)((function(n){return{note:n,expl:S.NoExpl.value}}))(n.unexplained.right),r=o.concatMap((function(n){if(n.value1 instanceof A)return[{note:n.value1.value0,expl:new S.HoriExpl(n.value0)}];if(n.value1 instanceof P)return[];if(n.value1 instanceof D)return[{note:n.value1.value0.right,expl:new S.HoriExpl(n.value0)}];if(n.value1 instanceof N)return u.map(u.functorArray)((function(e){return{note:e,expl:new S.HoriExpl(n.value0)}}))(n.value1.value0.right);throw new Error("Failed pattern match at ProtoVoices.Leftmost (line 153, column 34 - line 157, column 78): "+[n.value1.constructor.name])}))(c.toUnfoldable(m.unfoldableArray)(n.children));return o.sortWith(s.ordRecord()(s.ordRecordCons(s.ordRecordCons(s.ordRecordNil)()(new p.IsSymbol((function(){return"pitch"})))(f.ordPitch(d.ordSInterval)))()(new p.IsSymbol((function(){return"id"})))(s.ordString)))((function(n){return n.note}))(w.append(w.semigroupArray)(e)(r))},e.showLeftmost=function(n){return function(e){return function(r){return new h.Show((function(t){return g.genericShow(H)(g.genericShowSum(g.genericShowConstructor(g.genericShowArgsArgument(n))(new p.IsSymbol((function(){return"LMSplitLeft"}))))(g.genericShowSum(g.genericShowConstructor(g.genericShowArgsArgument(e))(new p.IsSymbol((function(){return"LMFreezeLeft"}))))(g.genericShowSum(g.genericShowConstructor(g.genericShowArgsArgument(n))(new p.IsSymbol((function(){return"LMSplitRight"}))))(g.genericShowSum(g.genericShowConstructor(g.genericShowArgsArgument(r))(new p.IsSymbol((function(){return"LMHorizontalize"}))))(g.genericShowSum(g.genericShowConstructor(g.genericShowArgsArgument(n))(new p.IsSymbol((function(){return"LMSplitOnly"}))))(g.genericShowConstructor(g.genericShowArgsArgument(e))(new p.IsSymbol((function(){return"LMFreezeOnly"})))))))))(t)}))}}},e.semigroupHoriChildren=x,e.showSplitOp=L,e.showFreezeOp=V,e.showHoriOp=k}(r),function(n){n["ProtoVoices.Folding"]=n["ProtoVoices.Folding"]||{};var e=n["ProtoVoices.Folding"],r=n["Control.Applicative"],t=n["Control.Bind"],o=n["Control.Monad.State"],i=n["Control.Monad.State.Class"],u=n["Control.Monad.State.Trans"],a=n["Control.Monad.Trans.Class"],c=n["Data.Array"],l=n["Data.Either"],s=n["Data.Eq"],f=n["Data.Foldable"],d=n["Data.Function"],w=n["Data.Functor"],h=n["Data.Identity"],g=n["Data.List"],p=n["Data.List.Types"],v=n["Data.Map.Internal"],m=n["Data.Maybe"],F=n["Data.Ord"],S=n["Data.Pitches.Class"],y=n["Data.Pitches.Spelled"],b=n["Data.Semigroup"],I=n["Data.Symbol"],C=n["Data.Tuple"],R=n["Data.Unit"],E=n["ProtoVoices.Leftmost"],W=n["ProtoVoices.Model"],P=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),A=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),D=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),N=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),x=function(n){return{seg:n,more:R.unit}},M=function(n){return function(e){return function(o){if(o instanceof p.Nil)return r.pure(u.applicativeStateT(h.monadIdentity))(R.unit);if(o instanceof p.Cons&&o.value1 instanceof p.Nil){if(o.value0.seg.op instanceof W.Freeze)return n.freezeOnly(e)(o.value0);if(o.value0.seg.op instanceof W.Split)return t.bind(u.bindStateT(h.monadIdentity))(n.splitOnly(e)(o.value0)(o.value0.seg.op.value0))((function(r){return M(n)(e)(r)}));if(o.value0.seg.op instanceof W.Hori)return r.pure(u.applicativeStateT(h.monadIdentity))(R.unit);throw new Error("Failed pattern match at ProtoVoices.Folding (line 61, column 3 - line 66, column 24): "+[o.value0.seg.op.constructor.name])}if(o instanceof p.Cons&&o.value1 instanceof p.Cons){if(o.value0.seg.op instanceof W.Freeze)return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(n.freezeLeft(e)(o.value0))((function(){return M(n)(o.value0.seg.rslice)(o.value1)}));if(o.value0.seg.op instanceof W.Split)return t.bind(u.bindStateT(h.monadIdentity))(n.splitLeft(e)(o.value0)(o.value0.seg.op.value0))((function(r){return M(n)(e)(b.append(p.semigroupList)(r)(o.value1))}));if(o.value0.seg.op instanceof W.Hori)return o.value1.value0.seg.op instanceof W.Split?t.bind(u.bindStateT(h.monadIdentity))(n.splitRight(e)(o.value0)(o.value1.value0)(o.value1.value0.seg.op.value0))((function(r){return M(n)(e)(b.append(p.semigroupList)(new p.Cons(o.value0,r))(o.value1.value1))})):t.bind(u.bindStateT(h.monadIdentity))(n.hori(e)(o.value0)(o.value1.value0)(o.value0.seg.op.value0))((function(r){return M(n)(e)(b.append(p.semigroupList)(r)(o.value1.value1))}));throw new Error("Failed pattern match at ProtoVoices.Folding (line 70, column 3 - line 87, column 55): "+[o.value0.seg.op.constructor.name])}throw new Error("Failed pattern match at ProtoVoices.Folding (line 50, column 1 - line 55, column 18): "+[n.constructor.name,e.constructor.name,o.constructor.name])}}},T=function(n){return function(e){return function(r){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(n.init(e))((function(){return M(n)(e)(r)}))}}},q=function(n){return function(e){return i.modify_(u.monadStateStateT(h.monadIdentity))((function(r){var t={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t.horis=new p.Cons({child:n.id,parent:e.id},r.horis),t}))}},L=function(n){return function(e){return function(r){return i.modify_(u.monadStateStateT(h.monadIdentity))((function(t){var o={};for(var i in t)({}).hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o.transitions=v.insert(W.ordTransId)(e.id)({left:n,right:r,id:e.id,edges:e.edges})(t.transitions),o}))}}},H=function(n){return function(e){var r={depth:e,slice:n};return i.modify_(u.monadStateStateT(h.monadIdentity))((function(t){var o={};for(var i in t)({}).hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o.maxd=F.max(F.ordNumber)(e)(t.maxd),o.maxx=F.max(F.ordNumber)(n.x)(t.maxx),o.slices=v.insert(W.ordSliceId)(n.id)(r)(t.slices),o}))}};e.nothingMore=x,e.walkGraph=T,e.evalGraph=function(n){return function(e){var a={slices:v.empty,transitions:v.empty,horis:p.Nil.value,maxd:0,maxx:0,currentDepth:0},c=w.map(p.functorList)((function(n){return{seg:n,more:{rdepth:0}}}))(e.segments);return d.flip(o.execState)(a)(T(function(n){var e=function(n){return function(e){return function(o){return t.bind(u.bindStateT(h.monadIdentity))(i.gets(u.monadStateStateT(h.monadIdentity))((function(n){return n.currentDepth})))((function(i){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(L(n.id)(e.seg.trans)(e.seg.rslice.id))((function(){return r.pure(u.applicativeStateT(h.monadIdentity))(new p.Cons({seg:o.childl,more:{rdepth:F.max(F.ordNumber)(i)(e.more.rdepth)+1}},new p.Cons({seg:W.attachSegment(o.childr)(e.seg.rslice),more:{rdepth:e.more.rdepth}},p.Nil.value)))}))}))}}},o=function(n){return function(e){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(L(n.id)(e.seg.trans)(e.seg.rslice.id))((function(){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(H(e.seg.rslice)(e.more.rdepth))((function(){return i.modify_(u.monadStateStateT(h.monadIdentity))((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.currentDepth=e.more.rdepth,r}))}))}))}};return{init:function(n){return H(n)(0)},freezeOnly:o,freezeLeft:o,splitOnly:e,splitLeft:e,splitRight:function(n){return function(n){return function(e){return function(o){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(L(n.seg.rslice.id)(e.seg.trans)(e.seg.rslice.id))((function(){return r.pure(u.applicativeStateT(h.monadIdentity))(new p.Cons({seg:o.childl,more:{rdepth:F.max(F.ordNumber)(n.more.rdepth)(e.more.rdepth)+1}},new p.Cons({seg:W.attachSegment(o.childr)(e.seg.rslice),more:{rdepth:e.more.rdepth}},p.Nil.value)))}))}}}},hori:function(e){return function(o){return function(a){return function(c){return t.bind(u.bindStateT(h.monadIdentity))(i.gets(u.monadStateStateT(h.monadIdentity))((function(n){return n.currentDepth})))((function(i){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(L(e.id)(o.seg.trans)(o.seg.rslice.id))((function(){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(H(o.seg.rslice)(o.more.rdepth))((function(){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(q(c.childl.rslice)(o.seg.rslice))((function(){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(q(c.childm.rslice)(o.seg.rslice))((function(){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(L(o.seg.rslice.id)(a.seg.trans)(a.seg.rslice.id))((function(){var e=n?o.more.rdepth+1:F.max(F.ordNumber)(i)(F.max(F.ordNumber)(o.more.rdepth)(a.more.rdepth))+1;return r.pure(u.applicativeStateT(h.monadIdentity))(new p.Cons({seg:c.childl,more:{rdepth:e}},new p.Cons({seg:c.childm,more:{rdepth:e}},new p.Cons({seg:W.attachSegment(c.childr)(a.seg.rslice),more:{rdepth:a.more.rdepth}},p.Nil.value))))}))}))}))}))}))}))}}}}}}(n))(e.start)(c))}},e.reductionToLeftmost=function(n){var e,a,M,q,L,H,O=(e=i.modify_(u.monadStateStateT(h.monadIdentity)),a=t.bindFlipped(l.bindEither),M=function(n){return e(a(n))},q=function(n){return function(e){return{ties:n.trans.edges.regular,prevTime:e}}},L=function(n){return w.map(w.functorArray)((function(n){return n.note}))(c.filter((function(n){return s.eq(W.eqNoteExplanation)(n.expl)(W.NoExpl.value)}))(W.getInnerNotes(n)))},H=function(n){return function(n){return function(e){var r,t=(r=f.foldableArray,f.foldl(r)((function(n){return function(e){if(e instanceof P)return{t:new p.Cons(e.value0,n.t),n:n.n,r:n.r,l:n.l};if(e instanceof A)return{t:n.t,n:new p.Cons(e.value0,n.n),r:n.r,l:n.l};if(e instanceof D)return{t:n.t,n:n.n,r:new p.Cons(e.value0,n.r),l:n.l};if(e instanceof N)return{t:n.t,n:n.n,r:n.r,l:new p.Cons(e.value0,n.l)};throw new Error("Failed pattern match at ProtoVoices.Folding (line 236, column 27 - line 240, column 36): "+[e.constructor.name])}}))({t:p.Nil.value,n:p.Nil.value,r:p.Nil.value,l:p.Nil.value}))(c.catMaybes(w.map(w.functorArray)((function(n){return n.expl instanceof W.DoubleExpl?s.eq(m.eqMaybe(W.eqDoubleOrnament))(n.expl.value0.orn)(new m.Just(W.PassingLeft.value))||s.eq(m.eqMaybe(W.eqDoubleOrnament))(n.expl.value0.orn)(new m.Just(W.PassingRight.value))||s.eq(m.eqMaybe(W.eqDoubleOrnament))(n.expl.value0.orn)(new m.Just(W.PassingMid.value))?m.Just.create(A.create(new C.Tuple({left:new W.Inner(n.expl.value0.leftParent),right:new W.Inner(n.expl.value0.rightParent)},[{child:n.note,orn:n.expl.value0.orn}]))):m.Just.create(P.create(new C.Tuple({left:new W.Inner(n.expl.value0.leftParent),right:new W.Inner(n.expl.value0.rightParent)},[{child:n.note,orn:new l.Right(n.expl.value0.orn)}]))):n.expl instanceof W.RightExpl?m.Just.create(D.create(new C.Tuple(n.expl.value0.leftParent,[{child:n.note,orn:n.expl.value0.orn}]))):n.expl instanceof W.LeftExpl?m.Just.create(N.create(new C.Tuple(n.expl.value0.rightParent,[{child:n.note,orn:n.expl.value0.orn}]))):n.expl instanceof W.RootExpl?m.Just.create(P.create(new C.Tuple({left:W.Start.value,right:W.Stop.value},[{child:n.note,orn:new l.Left(E.RootNote.value)}]))):m.Nothing.value}))(W.getInnerNotes(n.rslice))));return{regular:v.fromFoldableWith(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new I.IsSymbol((function(){return"id"})))(F.ordString)))))()(new I.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new I.IsSymbol((function(){return"id"})))(F.ordString))))))(p.foldableList)(b.append(b.semigroupArray))(t.t),passing:v.fromFoldableWith(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new I.IsSymbol((function(){return"id"})))(F.ordString)))))()(new I.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new I.IsSymbol((function(){return"id"})))(F.ordString))))))(p.foldableList)(b.append(b.semigroupArray))(t.n),fromLeft:v.fromFoldableWith(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new I.IsSymbol((function(){return"id"})))(F.ordString)))(p.foldableList)(b.append(b.semigroupArray))(t.r),fromRight:v.fromFoldableWith(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new I.IsSymbol((function(){return"id"})))(F.ordString)))(p.foldableList)(b.append(b.semigroupArray))(t.l),unexplained:L(n.rslice),keepLeft:n.trans.edges.regular,keepRight:e.trans.edges.regular,ids:{left:n.trans.id,slice:n.rslice.id,right:e.trans.id}}}}},{init:function(n){return r.pure(u.applicativeStateT(h.monadIdentity))(R.unit)},freezeOnly:function(n){return function(n){return M((function(e){if(e.piece instanceof p.Nil)return new l.Left("Piece and reduction do not fit together: piece is too short!");if(e.piece instanceof p.Cons)return new l.Right(function(){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.lm=new p.Cons(E.LMFreezeOnly.create(q(n.seg)(e.piece.value0.time)),e.lm),r.piece=e.piece.value1,r}());throw new Error("Failed pattern match at ProtoVoices.Folding (line 316, column 27 - line 318, column 123): "+[e.piece.constructor.name])}))}},freezeLeft:function(n){return function(n){return M((function(e){if(e.piece instanceof p.Nil)return new l.Left("Piece and reduction do not fit together: piece is too short!");if(e.piece instanceof p.Cons)return new l.Right(function(){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.lm=new p.Cons(E.LMFreezeLeft.create(q(n.seg)(e.piece.value0.time)),e.lm),r.piece=e.piece.value1,r}());throw new Error("Failed pattern match at ProtoVoices.Folding (line 321, column 27 - line 323, column 123): "+[e.piece.constructor.name])}))}},splitOnly:function(n){return function(n){return function(e){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(M((function(r){return new l.Right(function(){var t={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t.lm=new p.Cons(E.LMSplitOnly.create(H(n.seg)(e.childl)(e.childr)),r.lm),t}())})))((function(){return r.pure(u.applicativeStateT(h.monadIdentity))(w.map(p.functorList)(x)(new p.Cons(e.childl,new p.Cons(W.attachSegment(e.childr)(n.seg.rslice),p.Nil.value))))}))}}},splitLeft:function(n){return function(n){return function(e){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(M((function(r){return new l.Right(function(){var t={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t.lm=new p.Cons(E.LMSplitLeft.create(H(n.seg)(e.childl)(e.childr)),r.lm),t}())})))((function(){return r.pure(u.applicativeStateT(h.monadIdentity))(w.map(p.functorList)(x)(new p.Cons(e.childl,new p.Cons(W.attachSegment(e.childr)(n.seg.rslice),p.Nil.value))))}))}}},splitRight:function(n){return function(n){return function(n){return function(e){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(M((function(r){return new l.Right(function(){var t={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t.lm=new p.Cons(E.LMSplitRight.create(H(n.seg)(e.childl)(e.childr)),r.lm),t}())})))((function(){return r.pure(u.applicativeStateT(h.monadIdentity))(w.map(p.functorList)(x)(new p.Cons(e.childl,new p.Cons(W.attachSegment(e.childr)(n.seg.rslice),p.Nil.value))))}))}}}},hori:function(n){return function(n){return function(n){return function(e){return t.discard(t.discardUnit)(u.bindStateT(h.monadIdentity))(M((function(r){return new l.Right(function(){var t={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t.lm=new p.Cons(E.LMHorizontalize.create((n.seg,function(n){return function(e){return function(r){var t=function(n){return function(e){return e.expl instanceof W.HoriExpl?m.Just.create(C.Tuple.create(e.expl.value0)(n(e.note))):m.Nothing.value}},o=c.catMaybes(b.append(b.semigroupArray)(w.map(w.functorArray)(t(E.LeftChild.create))(W.getInnerNotes(n.rslice)))(w.map(w.functorArray)(t(E.RightChild.create))(W.getInnerNotes(e.rslice))));return{children:v.fromFoldableWith(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new I.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new I.IsSymbol((function(){return"id"})))(F.ordString)))(f.foldableArray)(b.append(E.semigroupHoriChildren))(o),midEdges:e.trans.edges,ids:{left:n.trans.id,lslice:n.rslice.id,mid:e.trans.id,rslice:e.rslice.id,right:r.trans.id},unexplained:{left:L(n.rslice),right:L(e.rslice)}}}}})(e.childl)(e.childm)(e.childr)),r.lm),t}())})))((function(){return r.pure(u.applicativeStateT(h.monadIdentity))(w.map(p.functorList)(x)(new p.Cons(e.childl,new p.Cons(e.childm,new p.Cons(W.attachSegment(e.childr)(n.seg.rslice),p.Nil.value)))))}))}}}}}),_=w.map(p.functorList)(x)(n.reduction.segments);return t.bind(l.bindEither)(d.flip(o.execState)(new l.Right({lm:p.Nil.value,piece:p.Cons.create({time:new l.Left(""),notes:[]})(g.fromFoldable(f.foldableArray)(n.piece))}))(T(O)(n.reduction.start)(_)))((function(n){return r.pure(l.applicativeEither)(c.reverse(c.fromFoldable(p.foldableList)(n.lm)))}))},e.leftmostToReduction=function(n){return function(e){var o={id:0,x:0,notes:W.Start.value,parents:W.NoParents.value},d=function(n){return function(e){return function(o){return t.discard(t.discardUnit)(u.bindStateT(l.monadEither))(i.modify_(u.monadStateStateT(l.monadEither))((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.maxT=F.max(W.ordTransId)(n.maxT)(e.transId),r})))((function(){return t.bind(u.bindStateT(l.monadEither))(a.lift(u.monadTransStateT)(l.monadEither)(E.splitGetChildNotes(o)))((function(t){var i={transId:o.ids.right,rslice:e.rslice},a={id:o.ids.slice,notes:new W.Inner(t),parents:new W.MergeParents({left:n,right:e.rslice.id})},c={transId:o.ids.left,rslice:a};return r.pure(u.applicativeStateT(l.monadEither))({childlTop:c,childrTop:i})}))}))}}},h=function(n){return function(e){return function(o){var a=w.map(w.functorArray)((function(n){return{note:n.note,hold:c.any((function(e){return s.eq(W.eqStartStop(s.eqRec()(s.eqRowCons(s.eqRowCons(s.eqRowNil)()(new I.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new I.IsSymbol((function(){return"id"})))(s.eqString))))(e.left)(new W.Inner(n.note))}))(e.ties)}}))(W.getInnerNotes(n));return t.bind(u.bindStateT(l.monadEither))(i.modify(u.monadStateStateT(l.monadEither))((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.x=n.x+1,r.maxT=F.max(W.ordTransId)(n.maxT)(o.transId),r.maxS=F.max(W.ordSliceId)(n.maxS)(o.rslice.id),r.piece=c.snoc(n.piece)({notes:a,time:e.prevTime}),r})))((function(n){return r.pure(u.applicativeStateT(l.monadEither))({trans:{id:o.transId,edges:{passing:[],regular:e.ties},is2nd:!1},rslice:{id:o.rslice.id,notes:o.rslice.notes,parents:o.rslice.parents,x:n.x},op:W.Freeze.value})}))}}},v=function(n){return function(e){return function(r){return{trans:{id:n.transId,edges:W.parentEdges(e.rslice),is2nd:e.trans.is2nd},rslice:r.rslice,op:new W.Split({childl:e,childr:W.detachSegment(r)})}}}},b=function(n){return function(e){return function(o){if(e instanceof p.Nil&&o instanceof p.Nil)return r.pure(u.applicativeStateT(l.monadEither))(p.Nil.value);if(e instanceof p.Cons&&o instanceof p.Cons){if(e.value1 instanceof p.Cons)return o.value0 instanceof E.LMFreezeLeft?t.bind(u.bindStateT(l.monadEither))(h(n)(o.value0.value0)(e.value0))((function(n){return w.map(u.functorStateT(l.functorEither))(p.Cons.create(n))(b(n.rslice)(e.value1)(o.value1))})):o.value0 instanceof E.LMSplitLeft?t.bind(u.bindStateT(l.monadEither))(d(n.id)(e.value0)(o.value0.value0))((function(i){return t.bind(u.bindStateT(l.monadEither))(b(n)(p.Cons.create(i.childlTop)(new p.Cons(i.childrTop,e.value1)))(o.value1))((function(n){return n instanceof p.Cons&&n.value1 instanceof p.Cons?r.pure(u.applicativeStateT(l.monadEither))(new p.Cons(v(e.value0)(n.value0)(n.value1.value0),n.value1.value1)):a.lift(u.monadTransStateT)(l.monadEither)(new l.Left("Operations after splitLeft do not fit!"))}))})):o.value0 instanceof E.LMSplitRight?t.bind(u.bindStateT(l.monadEither))(d(e.value0.rslice.id)(e.value1.value0)(o.value0.value0))((function(i){return t.bind(u.bindStateT(l.monadEither))(b(n)(p.Cons.create(e.value0)(p.Cons.create(i.childlTop)(new p.Cons(i.childrTop,e.value1.value1))))(o.value1))((function(n){return n instanceof p.Cons&&n.value1 instanceof p.Cons&&n.value1.value1 instanceof p.Cons?r.pure(u.applicativeStateT(l.monadEither))(p.Cons.create(n.value0)(new p.Cons(v(e.value1.value0)(n.value1.value0)(n.value1.value1.value0),n.value1.value1.value1))):a.lift(u.monadTransStateT)(l.monadEither)(new l.Left("Operations after splitRight do not fit!"))}))})):o.value0 instanceof E.LMHorizontalize?t.bind(u.bindStateT(l.monadEither))((c=e.value0,function(n){return function(e){return t.discard(t.discardUnit)(u.bindStateT(l.monadEither))(i.modify_(u.monadStateStateT(l.monadEither))((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.maxT=F.max(W.ordTransId)(e.maxT)(F.max(W.ordTransId)(c.transId)(n.transId)),r.maxS=F.max(W.ordSliceId)(e.maxS)(c.rslice.id),r})))((function(){var t={transId:e.ids.right,rslice:n.rslice},o={transId:e.ids.mid,rslice:{id:e.ids.rslice,notes:W.Inner.create(E.horiRightChildren(e)),parents:new W.VertParent(c.rslice.id)}},i={transId:e.ids.left,rslice:{id:e.ids.lslice,notes:W.Inner.create(E.horiLeftChildren(e)),parents:new W.VertParent(c.rslice.id)}};return r.pure(u.applicativeStateT(l.monadEither))({childlTop:i,childmTop:o,childrTop:t})}))}})(e.value1.value0)(o.value0.value0))((function(i){return t.bind(u.bindStateT(l.monadEither))(b(n)(p.Cons.create(i.childlTop)(p.Cons.create(i.childmTop)(new p.Cons(i.childrTop,e.value1.value1))))(o.value1))((function(n){return n instanceof p.Cons&&n.value1 instanceof p.Cons&&n.value1.value1 instanceof p.Cons?t.bind(u.bindStateT(l.monadEither))(a.lift(u.monadTransStateT)(l.monadEither)(function(n){return function(e){return function(o){return function(i){return function(u){var a={id:n.rslice.id,notes:n.rslice.notes,parents:n.rslice.parents,x:(o.rslice.x+i.rslice.x)/2};return t.bind(l.bindEither)(W.vertEdgesLeft(o.trans.edges)(o.rslice))((function(c){return t.bind(l.bindEither)(W.vertEdgesRight(u.trans.edges)(i.rslice))((function(t){var s={trans:{id:e.transId,edges:t,is2nd:!0},rslice:u.rslice,op:W.Freeze.value},f={trans:{id:n.transId,edges:c,is2nd:!1},rslice:a,op:new W.Hori({childl:o,childm:i,childr:W.detachSegment(u)})};return r.pure(l.applicativeEither)({segl:f,segr:s})}))}))}}}}}(e.value0)(e.value1.value0)(n.value0)(n.value1.value0)(n.value1.value1.value0)))((function(e){return r.pure(u.applicativeStateT(l.monadEither))(p.Cons.create(e.segl)(new p.Cons(e.segr,n.value1.value1.value1)))})):a.lift(u.monadTransStateT)(l.monadEither)(new l.Left("Operations after hori do not fit!"))}))})):a.lift(u.monadTransStateT)(l.monadEither)(new l.Left("Applying a single-transition operation while several transitions are left!"));if(e.value1 instanceof p.Nil)return o.value0 instanceof E.LMFreezeOnly?t.bind(u.bindStateT(l.monadEither))(h(n)(o.value0.value0)(e.value0))((function(n){return r.pure(u.applicativeStateT(l.monadEither))(new p.Cons(n,p.Nil.value))})):o.value0 instanceof E.LMSplitOnly?t.bind(u.bindStateT(l.monadEither))(d(n.id)(e.value0)(o.value0.value0))((function(i){return t.bind(u.bindStateT(l.monadEither))(b(n)(p.Cons.create(i.childlTop)(new p.Cons(i.childrTop,p.Nil.value)))(o.value1))((function(n){return n instanceof p.Cons&&n.value1 instanceof p.Cons&&n.value1.value1 instanceof p.Nil?r.pure(u.applicativeStateT(l.monadEither))(new p.Cons(v(e.value0)(n.value0)(n.value1.value0),p.Nil.value)):a.lift(u.monadTransStateT)(l.monadEither)(new l.Left("Operations after splitOnly do not fit!"))}))})):a.lift(u.monadTransStateT)(l.monadEither)(new l.Left("Applying a non-single operation to a single transition!"));throw new Error("Failed pattern match at ProtoVoices.Folding (line 388, column 48 - line 426, column 84): "+[e.value1.constructor.name])}var c;return a.lift(u.monadTransStateT)(l.monadEither)(new l.Left("Lengths of top-level and derivation do not match!"))}}};return t.bind(l.bindEither)(u.runStateT(b(o)(g.fromFoldable(f.foldableArray)(w.map(w.functorArray)((function(n){return{transId:n.trans.id,rslice:{id:n.rslice.id,parents:W.NoParents.value,notes:w.map(W.functorStartStop)(w.map(w.functorArray)((function(n){return{note:n,expl:W.NoExpl.value}})))(n.rslice.notes)}}}))(n)))(g.fromFoldable(f.foldableArray)(e)))({maxS:0,maxT:0,x:0,piece:[]}))((function(n){return r.pure(l.applicativeEither)({reduction:{start:o,segments:n.value0,nextSliceId:W.incS(n.value1.maxS),nextTransId:W.incT(n.value1.maxT)},piece:m.fromMaybe([])(c.tail(n.value1.piece))})}))}}}(r),function(n){n["ProtoVoices.Validation"]=n["ProtoVoices.Validation"]||{};var e,r,t=n["ProtoVoices.Validation"],o=n["Control.Applicative"],i=n["Control.Bind"],u=n["Control.Monad.State"],a=n["Control.Monad.State.Class"],c=n["Control.Monad.State.Trans"],l=n["Data.Array"],s=n["Data.Eq"],f=n["Data.Foldable"],d=n["Data.Function"],w=n["Data.Functor"],h=n["Data.Identity"],g=n["Data.List.Types"],p=n["Data.Map.Internal"],v=n["Data.Maybe"],m=n["Data.Monoid"],F=n["Data.Ord"],S=n["Data.Pitches.Class"],y=n["Data.Pitches.Spelled"],b=n["Data.Semigroup"],I=n["Data.Set"],C=n["Data.Symbol"],R=n["Data.Unit"],E=n["ProtoVoices.Folding"],W=n["ProtoVoices.Model"],P=function(){function n(){}return n.value=new n,n}(),A=function(){function n(){}return n.value=new n,n}(),D=function(){function n(){}return n.value=new n,n}(),N=function(){function n(){}return n.value=new n,n}(),x=function(){function n(){}return n.value=new n,n}(),M=function(){function n(){}return n.value=new n,n}(),T=function(n){var e=function(){if(n.expl instanceof W.NoExpl)return new v.Just(A.value);if(n.expl instanceof W.RootExpl)return v.Nothing.value;if(n.expl instanceof W.HoriExpl)return s.eq(S.eqPitch(y.eqSInterval))(n.note.pitch)(n.expl.value0.pitch)?v.Nothing.value:new v.Just(D.value);if(n.expl instanceof W.LeftExpl)return n.expl.value0.orn instanceof v.Nothing?new v.Just(D.value):s.eq(v.eqMaybe(W.eqLeftOrnament))(n.expl.value0.orn)(W.findLeftOrn(n.note.pitch)(n.expl.value0.rightParent))?v.Nothing.value:new v.Just(D.value);if(n.expl instanceof W.RightExpl)return n.expl.value0.orn instanceof v.Nothing?new v.Just(D.value):s.eq(v.eqMaybe(W.eqRightOrnament))(n.expl.value0.orn)(W.findRightOrn(n.note.pitch)(n.expl.value0.leftParent))?v.Nothing.value:new v.Just(D.value);if(n.expl instanceof W.DoubleExpl)return n.expl.value0.orn instanceof v.Nothing?new v.Just(D.value):s.eq(v.eqMaybe(W.eqDoubleOrnament))(n.expl.value0.orn)(W.findDoubleOrn(n.note.pitch)(n.expl.value0.leftParent)(n.expl.value0.rightParent))?v.Nothing.value:new v.Just(D.value);throw new Error("Failed pattern match at ProtoVoices.Validation (line 55, column 9 - line 84, column 36): "+[n.expl.constructor.name])}();return i.bind(v.bindMaybe)(e)((function(e){return o.pure(v.applicativeMaybe)({id:n.note.id,stat:e})}))},q=function(n){return function(e){return{notes:n.notes instanceof W.Inner?f.foldl(f.foldableArray)((function(n){return function(e){return p.insert(F.ordString)(e.id)(e.stat)(n)}}))(e.notes)(l.catMaybes(w.map(w.functorArray)(T)(n.notes.value0))):e.notes,edges:e.edges,slices:e.slices}}},L={init:function(n){return o.pure(c.applicativeStateT(h.monadIdentity))(R.unit)},freezeLeft:r=function(n){return function(n){return a.modify_(c.monadStateStateT(h.monadIdentity))(q(n.seg.rslice))}},freezeOnly:r,splitLeft:e=function(n){return function(n){return function(e){var r=f.fold(f.foldableArray)(m.monoidRecord()(m.monoidRecordCons(new C.IsSymbol((function(){return"ls"})))(I.monoidSet(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))))()(m.monoidRecordCons(new C.IsSymbol((function(){return"rs"})))(I.monoidSet(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))))()(m.monoidRecordNil))))(l.catMaybes(w.map(w.functorArray)((function(n){return n.expl instanceof W.DoubleExpl?new v.Just({ls:I.singleton({left:new W.Inner(n.expl.value0.leftParent),right:new W.Inner(n.note)}),rs:I.singleton({left:new W.Inner(n.note),right:new W.Inner(n.expl.value0.rightParent)})}):n.expl instanceof W.LeftExpl?new v.Just({ls:I.empty,rs:I.singleton({left:new W.Inner(n.note),right:new W.Inner(n.expl.value0.rightParent)})}):n.expl instanceof W.RightExpl?new v.Just({rs:I.empty,ls:I.singleton({left:new W.Inner(n.expl.value0.leftParent),right:new W.Inner(n.note)})}):v.Nothing.value}))(W.getInnerNotes(e.childl.rslice)))),t=w.map(w.functorArray)((function(n){return I.member(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString))))))(n)(r.ls)?v.Nothing.value:new v.Just({edge:n,stat:N.value})}))(W.transEdges(e.childl.trans)),u=w.map(w.functorArray)((function(n){return I.member(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString))))))(n)(r.rs)?v.Nothing.value:new v.Just({edge:n,stat:N.value})}))(W.transEdges(e.childr.trans));return i.discard(i.discardUnit)(c.bindStateT(h.monadIdentity))(a.modify_(c.monadStateStateT(h.monadIdentity))((function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.edges=f.foldl(f.foldableArray)((function(n){return function(e){return p.insert(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString))))))(e.edge)(e.stat)(n)}}))(n.edges)(l.catMaybes(b.append(b.semigroupArray)(t)(u))),e})))((function(){return o.pure(c.applicativeStateT(h.monadIdentity))(w.map(g.functorList)(E.nothingMore)(new g.Cons(e.childl,new g.Cons(W.attachSegment(e.childr)(n.seg.rslice),g.Nil.value))))}))}}},splitOnly:e,splitRight:function(n){return function(n){return e()}},hori:function(n){return function(n){return function(e){return function(r){return i.discard(i.discardUnit)(c.bindStateT(h.monadIdentity))(a.modify_(c.monadStateStateT(h.monadIdentity))(q(n.seg.rslice)))((function(){return i.discard(i.discardUnit)(c.bindStateT(h.monadIdentity))(o.when(c.applicativeStateT(h.monadIdentity))(!l.all(W.isRepeatingEdge)(r.childm.trans.edges.regular))(a.modify_(c.monadStateStateT(h.monadIdentity))((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.slices=p.insert(W.ordSliceId)(n.seg.rslice.id)(P.value)(e.slices),r}))))((function(){return i.discard(i.discardUnit)(c.bindStateT(h.monadIdentity))(f.for_(c.applicativeStateT(h.monadIdentity))(f.foldableArray)(r.childm.trans.edges.regular)((function(n){return o.when(c.applicativeStateT(h.monadIdentity))(!W.isRepeatingEdge(n))(a.modify_(c.monadStateStateT(h.monadIdentity))((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.edges=p.insert(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"right"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString)))))()(new C.IsSymbol((function(){return"left"})))(W.ordStartStop(F.ordRecord()(F.ordRecordCons(F.ordRecordCons(F.ordRecordNil)()(new C.IsSymbol((function(){return"pitch"})))(S.ordPitch(y.ordSInterval)))()(new C.IsSymbol((function(){return"id"})))(F.ordString))))))(n)(M.value)(e.edges),r})))})))((function(){return o.pure(c.applicativeStateT(h.monadIdentity))(w.map(g.functorList)(E.nothingMore)(new g.Cons(r.childl,new g.Cons(r.childm,new g.Cons(W.attachSegment(r.childr)(e.seg.rslice),g.Nil.value)))))}))}))}))}}}}},H=new s.Eq((function(n){return function(n){return!0}}));t.NSNoExpl=A,t.NSInvalidExplanation=D,t.ESNotUsed=N,t.ESNotStepwise=x,t.ESNotRepetition=M,t.SSInvalidReduction=P,t.validationIsOk=function(n){return p.isEmpty(n.notes)&&p.isEmpty(n.edges)&&p.isEmpty(n.slices)},t.validateReduction=function(n){var e={notes:p.empty,edges:p.empty,slices:p.empty},r=w.map(g.functorList)(E.nothingMore)(n.segments);return d.flip(u.execState)(e)(E.walkGraph(L)(n.start)(r))},t.eqSliceError=H}(r),function(n){n.ctrlKey=function(n){return n.ctrlKey}}(r["Web.UIEvent.MouseEvent"]=r["Web.UIEvent.MouseEvent"]||{}),function(n){n["Web.UIEvent.MouseEvent"]=n["Web.UIEvent.MouseEvent"]||{};var e=n["Web.UIEvent.MouseEvent"],r=n["Web.UIEvent.MouseEvent"];e.ctrlKey=r.ctrlKey}(r),function(n){n["App.Render"]=n["App.Render"]||{};var e=n["App.Render"],r=n["App.Common"],t=n["Control.Applicative"],o=n["Control.Bind"],i=n["Data.Array"],u=n["Data.Either"],a=n["Data.Eq"],c=n["Data.EuclideanRing"],l=n["Data.Functor"],s=n["Data.Int"],f=n["Data.List.Types"],d=n["Data.Map.Internal"],w=n["Data.Maybe"],h=n["Data.Ord"],g=n["Data.Pitches.Class"],p=n["Data.Pitches.Spelled"],v=n["Data.Ratio"],m=n["Data.Semigroup"],F=n["Data.Show"],S=n["Data.Symbol"],y=n["Halogen.HTML.Core"],b=n["Halogen.HTML.Elements"],I=n["Halogen.HTML.Events"],C=n["Halogen.HTML.Properties"],R=n["Halogen.Svg.Attributes"],E=n["Halogen.Svg.Elements"],W=n["ProtoVoices.Model"],P=n["ProtoVoices.Validation"],A=n["Web.UIEvent.MouseEvent"],D=function(){function n(){}return n.value=new n,n}(),N=function(){function n(){}return n.value=new n,n}(),x=function(){function n(){}return n.value=new n,n}(),M=w.Just.create(new R.RGB(255,255,255)),T=w.Just.create(new R.RGB(255,165,0)),q=w.Just.create(new R.RGB(135,206,250)),L=w.Just.create(new R.RGB(30,144,255)),H=function(n){return function(e){return e*n.yscale}},O=function(n){return function(e){return e*n.xscale}},_=q,J=function(n){return 20*s.toNumber(n)},k=29,U=function(n){return function(e){return function(r){return function(t){return function(o){var i=l.map(l.functorArray)(function(n){return function(e){return b.option([C.value(e.v),C.selected(e.s),I.onClick((function(r){return n(e.k)}))])([y.text(e.v)])}}(r))(m.append(m.semigroupArray)([{k:w.Nothing.value,v:"Nothing",s:!1}])(l.map(l.functorArray)((function(r){return{k:new w.Just(r),v:F.show(n)(r),s:a.eq(w.eqMaybe(e))(new w.Just(r))(t)}}))(o)));return b.select_(i)}}}}},V=w.Just.create(new R.RGB(211,211,211)),B=function(n){return function(e){return n instanceof W.Inner&&e instanceof W.Inner?w.fromMaybe(-1)(i.findIndex((function(e){return a.eq(a.eqRec()(a.eqRowCons(a.eqRowCons(a.eqRowNil)()(new S.IsSymbol((function(){return"pitch"})))(g.eqPitch(p.eqSInterval)))()(new S.IsSymbol((function(){return"id"})))(a.eqString)))(e.note)(n.value0)}))(e.value0)):0}},z=w.Just.create(new R.RGB(255,0,0)),G=new a.Eq((function(n){return function(e){return n instanceof D&&e instanceof D||(n instanceof N&&e instanceof N||n instanceof x&&e instanceof x)}})),Q=[W.FullNeighbor.value,W.FullRepeat.value,W.LeftRepeatOfRight.value,W.RightRepeatOfLeft.value,W.PassingMid.value,W.PassingLeft.value,W.PassingRight.value],j=R.attr("cursor"),K=function(n){return C.class_(n)},X=w.Just.create(new R.RGB(0,0,0));e.renderReduction=function(n){return function(e){return function(U){return function(Q){return function(K){var Y=O(n)(U.maxx+2),Z=l.map(l.functorArray)(function(n){return function(e){return function(i){return function(u){return function(c){var s=a.eq(r.eqOuterSelection)(e)(new r.SelTrans(c.id)),f=[j("pointer"),I.onClick((function(n){return new r.Select(s?r.SelNone.value:new r.SelTrans(c.id))}))];return w.fromMaybe(y.text(""))(o.bind(w.bindMaybe)(d.lookup(W.ordSliceId)(c.left)(u))((function(a){return o.bind(w.bindMaybe)(d.lookup(W.ordSliceId)(c.right)(u))((function(o){var u=0===a.depth&&0===o.depth,v=function(t){return function(u){var c=B(u.right)(o.slice.notes),l=B(u.left)(a.slice.notes),s=r.noteIsSelected(e)(u.left)||r.noteIsSelected(e)(u.right);return E.line([R.x1(O(n)(a.slice.x)),R.y1(H(n)(a.depth)+J(l)),R.x2(O(n)(o.slice.x)),R.y2(H(n)(o.depth)+J(c)),R.stroke(function(){if(s)return L;var n=d.lookup(h.ordRecord()(h.ordRecordCons(h.ordRecordCons(h.ordRecordNil)()(new S.IsSymbol((function(){return"right"})))(W.ordStartStop(h.ordRecord()(h.ordRecordCons(h.ordRecordCons(h.ordRecordNil)()(new S.IsSymbol((function(){return"pitch"})))(g.ordPitch(p.ordSInterval)))()(new S.IsSymbol((function(){return"id"})))(h.ordString)))))()(new S.IsSymbol((function(){return"left"})))(W.ordStartStop(h.ordRecord()(h.ordRecordCons(h.ordRecordCons(h.ordRecordNil)()(new S.IsSymbol((function(){return"pitch"})))(g.ordPitch(p.ordSInterval)))()(new S.IsSymbol((function(){return"id"})))(h.ordString))))))(u)(i.edges);return n instanceof w.Just&&n.value0 instanceof P.ESNotUsed?T:n instanceof w.Just&&n.value0 instanceof P.ESNotStepwise||n instanceof w.Just&&n.value0 instanceof P.ESNotRepetition?z:X}()),R.strokeWidth(1),R.attr("stroke-dasharray")(t?"6,3":"")])}},F=m.append(m.semigroupArray)(l.map(l.functorArray)(v(!1))(c.edges.regular))(l.map(l.functorArray)(v(!0))(c.edges.passing)),y=[E.line(m.append(m.semigroupArray)([R.x1(O(n)(a.slice.x)),R.y1(H(n)(a.depth)),R.x2(O(n)(o.slice.x)),R.y2(H(n)(o.depth)),R.stroke(s?L:V),R.strokeWidth(u?14.5:5)])(u?f:[]))];return t.pure(w.applicativeMaybe)(E.g([])(m.append(m.semigroupArray)(y)(F)))}))})))}}}}}(n)(K)(Q)(U.slices))(i.fromFoldable(f.foldableList)(d.values(U.transitions))),$=l.map(l.functorArray)(function(n){return function(e){return function(t){return function(o){var u=a.eq(w.eqMaybe(P.eqSliceError))(d.lookup(W.ordSliceId)(o.slice.id)(t.slices))(new w.Just(P.SSInvalidReduction.value)),c=a.eq(r.eqOuterSelection)(e)(new r.SelSlice(o.slice.id)),l=[j("pointer"),I.onClick((function(n){return A.ctrlKey(n)?r.NoOp.value:new r.Select(c?r.SelNone.value:new r.SelSlice(o.slice.id))}))],s=0===o.depth,f=function(n){return function(e){return function(r){return function(t){return function(o){return function(i){var u=E.text([R.x(e),R.y(r),R.text_anchor(R.AnchorMiddle.value),R.dominant_baseline(R.BaselineMiddle.value),R.fill(function(){if(o instanceof w.Nothing)return a.eq(G)(t)(x.value)?M:V;if(o instanceof w.Just&&o.value0 instanceof P.NSNoExpl)return t instanceof N?M:X;if(o instanceof w.Just&&o.value0 instanceof P.NSInvalidExplanation)return T;throw new Error("Failed pattern match at App.Render (line 145, column 19 - line 150, column 51): "+[o.constructor.name])}())])(n),c=E.rect([R.x(e-14.5),R.y(r-J(1)/2),R.width(k),R.height(J(1)),R.fill(function(){if(t instanceof D)return M;if(t instanceof N)return L;if(t instanceof x)return q;throw new Error("Failed pattern match at App.Render (line 133, column 15 - line 136, column 37): "+[t.constructor.name])}())]);return E.g(i)([c,u])}}}}}},v=e instanceof r.SelNote&&i.elem(W.eqSliceId)(o.slice.id)(W.getParents(e.value0.parents));return o.slice.notes instanceof W.Inner?E.g(s?l:[])(m.append(m.semigroupArray)([E.rect([R.x(O(n)(o.slice.x)-14.5),R.y(H(n)(o.depth)-14.5),R.width(k),R.height(J(i.length(o.slice.notes.value0)-1|0)+k),R.fill(M),R.stroke(c?L:v?_:u?z:M)])])(i.mapWithIndex((function(i){return function(u){var a=e instanceof r.SelNote&&W.explHasParent(u.note.id)(e.value0.expl),c=r.noteIsSelected(e)(new W.Inner(u.note)),l=0!==o.depth,s=c?N.value:a?x.value:D.value,w=[y.text(F.show(g.showPitchInst(p.showpitchSInterval))(u.note.pitch)),E.title([])([y.text(u.note.id)])],m=l||v,S=[j("pointer"),I.onClick((function(n){return A.ctrlKey(n)?v?r.addParentToNote(e)(o.slice.id)(u.note):r.NoOp.value:l?new r.Select(c?r.SelNone.value:new r.SelNote({note:u.note,expl:u.expl,parents:o.slice.parents})):r.NoOp.value}))];return f(w)(O(n)(o.slice.x))(H(n)(o.depth)+J(i))(s)(d.lookup(h.ordString)(u.note.id)(t.notes))(m?S:[])}}))(o.slice.notes.value0))):f([y.text(F.show(W.showStartStop(F.showArray(F.showRecord()(F.showRecordFieldsCons(new S.IsSymbol((function(){return"expl"})))(F.showRecordFieldsCons(new S.IsSymbol((function(){return"note"})))(F.showRecordFieldsNil)(F.showRecord()(F.showRecordFieldsCons(new S.IsSymbol((function(){return"id"})))(F.showRecordFieldsCons(new S.IsSymbol((function(){return"pitch"})))(F.showRecordFieldsNil)(g.showPitchInst(p.showpitchSInterval)))(F.showString))))(W.showNoteExplanation)))))(o.slice.notes))])(O(n)(o.slice.x))(H(n)(o.depth))(v?x.value:D.value)(w.Nothing.value)([])}}}}(n)(K)(Q))(i.fromFoldable(f.foldableList)(d.values(U.slices))),nn=l.map(l.functorArray)(function(n){return function(e){return function(u){return function(a){var c=function(n){return n.expl instanceof W.HoriExpl?new w.Just({childNote:n.note,parentNote:n.expl.value0}):w.Nothing.value};return w.fromMaybe(y.text(""))(o.bind(w.bindMaybe)(d.lookup(W.ordSliceId)(a.child)(u))((function(s){return o.bind(w.bindMaybe)(d.lookup(W.ordSliceId)(a.parent)(u))((function(o){var u=l.map(l.functorArray)((function(t){var i=B(new W.Inner(t.parentNote))(o.slice.notes),u=B(new W.Inner(t.childNote))(s.slice.notes),a=r.noteIsSelected(e)(new W.Inner(t.parentNote))||r.noteIsSelected(e)(new W.Inner(t.childNote));return E.line([R.x1(O(n)(o.slice.x)),R.y1(H(n)(o.depth)+J(i)),R.x2(O(n)(s.slice.x)),R.y2(H(n)(s.depth)+J(u)),R.stroke(a?L:X),R.strokeWidth(1)])}))(i.catMaybes(l.map(l.functorArray)(c)(W.getInnerNotes(s.slice)))),a=[E.line([R.x1(O(n)(o.slice.x)),R.y1(H(n)(o.depth)),R.x2(O(n)(s.slice.x)),R.y2(H(n)(s.depth)),R.stroke(V),R.strokeWidth(5),R.attr("stroke-dasharray")("10,5")])];return t.pure(w.applicativeMaybe)(E.g([])(m.append(m.semigroupArray)(a)(u)))}))})))}}}}(n)(K)(U.slices))(i.fromFoldable(f.foldableList)(U.horis)),en=i.mapWithIndex(function(n){return function(e){return function(r){var t=function(){if(r.time instanceof u.Right)return a.eq(v.eqRatio(a.eqInt))(r.time.value0.s)(v.reduce(h.ordInt)(c.euclideanRingInt)(0)(1))?F.show(F.showInt)(r.time.value0.m)+"."+F.show(F.showInt)(r.time.value0.b):"";if(r.time instanceof u.Left)return r.time.value0;throw new Error("Failed pattern match at App.Render (line 311, column 11 - line 313, column 20): "+[r.time.constructor.name])}();return E.text([R.x(O(n)(s.toNumber(e+1|0))),R.y(H(n)(-.5)),R.text_anchor(R.AnchorMiddle.value),R.dominant_baseline(R.BaselineMiddle.value)])([y.text(t)])}}}(n))(e),rn=H(n)(U.maxd+4);return b.div([C.style("overflow-x: scroll; max-width: max-content;")])([E.svg([R.width(Y),R.height(rn),R.viewBox(-O(n)(1))(-H(n)(1))(Y)(rn)])(m.append(m.semigroupArray)(Z)(m.append(m.semigroupArray)(nn)(m.append(m.semigroupArray)($)(en))))])}}}}},e.class_=K,e.renderNoteExplanation=function(n){return function(n){return b.div([K("pure-g"),C.style("height:30px;")])(n instanceof r.SelNote?m.append(m.semigroupArray)([b.div([K("pure-u-1-4")])([y.text(F.show(g.showPitchInst(p.showpitchSInterval))(n.value0.note.pitch)+" ("+n.value0.note.id+") ")])])(function(){if(n.value0.expl instanceof W.NoExpl)return[b.div([K("pure-u-1-4")])([y.text("no parents")])];if(n.value0.expl instanceof W.RootExpl)return[b.div([K("pure-u-1-4")])([y.text("root note")])];if(n.value0.expl instanceof W.HoriExpl)return[b.div([K("pure-u-1-4")])([y.text("parent: "+F.show(g.showPitchInst(p.showpitchSInterval))(n.value0.expl.value0.pitch)+" ("+n.value0.expl.value0.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setHoriExplParent)}))])([y.text("x")])])];if(n.value0.expl instanceof W.LeftExpl)return[b.div([K("pure-u-1-4")])([]),b.div([K("pure-u-1-4")])([U(W.showLeftOrnament)(W.eqLeftOrnament)((function(e){return new r.SetNoteExplanation({noteId:n.value0.note.id,expl:new W.LeftExpl({orn:e,rightParent:n.value0.expl.value0.rightParent})})}))(n.value0.expl.value0.orn)([W.LeftRepeat.value,W.LeftNeighbor.value])]),b.div([K("pure-u-1-4")])([y.text("right parent: "+F.show(g.showPitchInst(p.showpitchSInterval))(n.value0.expl.value0.rightParent.pitch)+" ("+n.value0.expl.value0.rightParent.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setRightExplParent)}))])([y.text("x")])])];if(n.value0.expl instanceof W.RightExpl)return[b.div([K("pure-u-1-4")])([y.text("left parent: "+F.show(g.showPitchInst(p.showpitchSInterval))(n.value0.expl.value0.leftParent.pitch)+" ("+n.value0.expl.value0.leftParent.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setLeftExplParent)}))])([y.text("x")])]),b.div([K("pure-u-1-4")])([U(W.showRightOrnament)(W.eqRightOrnament)((function(e){return new r.SetNoteExplanation({noteId:n.value0.note.id,expl:new W.RightExpl({orn:e,leftParent:n.value0.expl.value0.leftParent})})}))(n.value0.expl.value0.orn)([W.RightRepeat.value,W.RightNeighbor.value])])];if(n.value0.expl instanceof W.DoubleExpl)return[b.div([K("pure-u-1-4")])([y.text("left parent: "+F.show(g.showPitchInst(p.showpitchSInterval))(n.value0.expl.value0.leftParent.pitch)+" ("+n.value0.expl.value0.leftParent.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setLeftExplParent)}))])([y.text("x")])]),b.div([K("pure-u-1-4")])([U(W.showDoubleOrnament)(W.eqDoubleOrnament)((function(e){return new r.SetNoteExplanation({noteId:n.value0.note.id,expl:new W.DoubleExpl({orn:e,leftParent:n.value0.expl.value0.leftParent,rightParent:n.value0.expl.value0.rightParent})})}))(n.value0.expl.value0.orn)(Q)]),b.div([K("pure-u-1-4")])([y.text("right parent: "+F.show(g.showPitchInst(p.showpitchSInterval))(n.value0.expl.value0.rightParent.pitch)+" ("+n.value0.expl.value0.rightParent.id+")"),b.button([I.onClick((function(e){return r.removeParent(n.value0.note)(n.value0.expl)(W.setRightExplParent)}))])([y.text("x")])])];throw new Error("Failed pattern match at App.Render (line 368, column 12 - line 418, column 16): "+[n.value0.expl.constructor.name])}()):[b.div([K("pure-u-1")])([y.text("No note selected.")])])}}}(r),function(n){n.copyToClipboard=n=>()=>navigator.clipboard.writeText(n),n.examplePieceJSON=[{time:"0.4.3/4",notes:[{pitch:"D5",hold:!1}]},{time:"1.1.0",notes:[{pitch:"D5",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.1.1/4",notes:[{pitch:"A4",hold:!1},{pitch:"D3",hold:!1}]}],n.examplePieceJSONLong=[{time:"0.4.3/4",notes:[{pitch:"D5",hold:!1}]},{time:"1.1.0",notes:[{pitch:"D5",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.1.1/4",notes:[{pitch:"A4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.1.1/2",notes:[{pitch:"Bb4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.1.3/4",notes:[{pitch:"G4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.2.0",notes:[{pitch:"A4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.2.1/4",notes:[{pitch:"F4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.2.1/2",notes:[{pitch:"E4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.2.3/4",notes:[{pitch:"D4",hold:!1},{pitch:"D3",hold:!0}]},{time:"1.3.0",notes:[{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.3.1/4",notes:[{pitch:"Bb4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.3.1/2",notes:[{pitch:"E5",hold:!1},{pitch:"Bb4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.3.3/4",notes:[{pitch:"G5",hold:!0},{pitch:"Bb4",hold:!1},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.4.0",notes:[{pitch:"G5",hold:!1},{pitch:"A4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.4.1/4",notes:[{pitch:"G5",hold:!1},{pitch:"A4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.4.1/2",notes:[{pitch:"F5",hold:!1},{pitch:"A4",hold:!0},{pitch:"C#4",hold:!0},{pitch:"D3",hold:!0}]},{time:"1.4.3/4",notes:[{pitch:"E5",hold:!1},{pitch:"A4",hold:!0},{pitch:"C#4",hold:!1},{pitch:"D3",hold:!0}]},{time:"2.1.0",notes:[{pitch:"G5",hold:!1},{pitch:"A4",hold:!0},{pitch:"D4",hold:!0},{pitch:"D3",hold:!0}]},{time:"2.1.1/4",notes:[{pitch:"F5",hold:!1},{pitch:"A4",hold:!0},{pitch:"D4",hold:!1},{pitch:"D3",hold:!1}]},{time:"2.1.1/2",notes:[{pitch:"E5",hold:!1},{pitch:"A4",hold:!0},{pitch:"A3",hold:!0}]},{time:"2.1.3/4",notes:[{pitch:"D5",hold:!1},{pitch:"A4",hold:!1},{pitch:"A3",hold:!1}]},{time:"2.2.0",notes:[{pitch:"F5",hold:!1},{pitch:"D4",hold:!1}]}]}(r["App.Utils"]=r["App.Utils"]||{}),function(n){n.unsafeStringifyPretty=function(n){return JSON.stringify(n,null,2)}}(r["ProtoVoices.JSONTransport"]=r["ProtoVoices.JSONTransport"]||{}),function(n){n["ProtoVoices.JSONTransport"]=n["ProtoVoices.JSONTransport"]||{};var e,r,t,o,i,u,a,c=n["ProtoVoices.JSONTransport"],l=n["ProtoVoices.JSONTransport"],s=n["Control.Applicative"],f=n["Control.Bind"],d=n["Control.Category"],w=n["Data.Array"],h=n["Data.Either"],g=n["Data.Foldable"],p=n["Data.Functor"],v=n["Data.List.Types"],m=n["Data.Map.Internal"],F=n["Data.Maybe"],S=n["Data.Ord"],y=n["Data.Ordering"],b=n["Data.Pitches.Class"],I=n["Data.Pitches.Spelled"],C=n["Data.Show"],R=n["Data.Symbol"],E=n["Data.Traversable"],W=n["Data.Tuple"],P=n["Data.Unfoldable"],A=n["Data.Variant"],D=n["ProtoVoices.Common"],N=n["ProtoVoices.Folding"],x=n["ProtoVoices.Leftmost"],M=n["ProtoVoices.Model"],T=n["Simple.JSON"],q=n["Type.Proxy"],L=p.map(p.functorArray)((function(n){return{time:n.time,notes:p.map(p.functorArray)((function(n){return{hold:n.hold,pitch:n.pitch}}))(n.notes)}})),H=function(n){var e=function(n){return function(e){return{parent:e.value0,children:p.map(p.functorArray)((function(e){return{child:e.child,orn:n(e.orn)}}))(e.value1)}}};return{regular:p.map(p.functorArray)(e((function(n){if(n instanceof h.Left)return new F.Just("RootNote");if(n instanceof h.Right)return p.map(F.functorMaybe)(C.show(M.showDoubleOrnament))(n.value0);throw new Error("Failed pattern match at ProtoVoices.JSONTransport (line 130, column 15 - line 132, column 26): "+[n.constructor.name])})))(m.toUnfoldable(P.unfoldableArray)(n.regular)),passing:p.map(p.functorArray)(e(p.map(F.functorMaybe)(C.show(M.showDoubleOrnament))))(m.toUnfoldable(P.unfoldableArray)(n.passing)),fromLeft:p.map(p.functorArray)(e(p.map(F.functorMaybe)(C.show(M.showRightOrnament))))(m.toUnfoldable(P.unfoldableArray)(n.fromLeft)),fromRight:p.map(p.functorArray)(e(p.map(F.functorMaybe)(C.show(M.showLeftOrnament))))(m.toUnfoldable(P.unfoldableArray)(n.fromRight)),unexplained:n.unexplained,keepLeft:n.keepLeft,keepRight:n.keepRight,ids:n.ids}},O=function(n){var e=function(n){return function(e){var r=E.sequence(E.traversableArray)(h.applicativeEither)(p.map(p.functorArray)((function(e){return p.map(h.functorEither)((function(n){return{child:e.child,orn:n}}))(n(e.orn))}))(e.children));return p.map(h.functorEither)(W.Tuple.create(e.parent))(r)}},r=function(n){if(n instanceof F.Just&&"RightNeighbor"===n.value0)return h.Right.create(new F.Just(M.RightNeighbor.value));if(n instanceof F.Just&&"RightRepeat"===n.value0)return h.Right.create(new F.Just(M.RightRepeat.value));if(n instanceof F.Just)return h.Left.create("Expected right ornament type but got "+n.value0);if(n instanceof F.Nothing)return new h.Right(F.Nothing.value);throw new Error("Failed pattern match at ProtoVoices.JSONTransport (line 229, column 23 - line 233, column 29): "+[n.constructor.name])},t=function(n){if(n instanceof F.Just&&"PassingMid"===n.value0)return h.Right.create(new F.Just(M.PassingMid.value));if(n instanceof F.Just&&"PassingLeft"===n.value0)return h.Right.create(new F.Just(M.PassingLeft.value));if(n instanceof F.Just&&"PassingRight"===n.value0)return h.Right.create(new F.Just(M.PassingRight.value));if(n instanceof F.Just)return h.Left.create("Expected passing ornament type but got "+n.value0);if(n instanceof F.Nothing)return new h.Right(F.Nothing.value);throw new Error("Failed pattern match at ProtoVoices.JSONTransport (line 222, column 25 - line 227, column 29): "+[n.constructor.name])},o=function(n){if(n instanceof F.Just&&"LeftNeighbor"===n.value0)return h.Right.create(new F.Just(M.LeftNeighbor.value));if(n instanceof F.Just&&"LeftRepeat"===n.value0)return h.Right.create(new F.Just(M.LeftRepeat.value));if(n instanceof F.Just)return h.Left.create("Expected left ornament type but got "+n.value0);if(n instanceof F.Nothing)return new h.Right(F.Nothing.value);throw new Error("Failed pattern match at ProtoVoices.JSONTransport (line 235, column 22 - line 239, column 29): "+[n.constructor.name])};return f.bind(h.bindEither)(p.map(h.functorEither)(m.fromFoldable(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"right"})))(M.ordStartStop(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(S.ordString)))))()(new R.IsSymbol((function(){return"left"})))(M.ordStartStop(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(S.ordString))))))(g.foldableArray))(E.sequence(E.traversableArray)(h.applicativeEither)(p.map(p.functorArray)(e((function(n){if(n instanceof F.Just&&"RootNote"===n.value0)return h.Right.create(new h.Left(x.RootNote.value));if(n instanceof F.Just&&"FullRepeat"===n.value0)return h.Right.create(h.Right.create(new F.Just(M.FullRepeat.value)));if(n instanceof F.Just&&"FullNeighbor"===n.value0)return h.Right.create(h.Right.create(new F.Just(M.FullNeighbor.value)));if(n instanceof F.Just&&"LeftRepeatOfRight"===n.value0)return h.Right.create(h.Right.create(new F.Just(M.LeftRepeatOfRight.value)));if(n instanceof F.Just&&"RightRepeatOfLeft"===n.value0)return h.Right.create(h.Right.create(new F.Just(M.RightRepeatOfLeft.value)));if(n instanceof F.Just)return h.Left.create("Expected double ornament type but got "+n.value0);if(n instanceof F.Nothing)return h.Right.create(new h.Right(F.Nothing.value));throw new Error("Failed pattern match at ProtoVoices.JSONTransport (line 213, column 24 - line 220, column 37): "+[n.constructor.name])})))(n.regular))))((function(i){return f.bind(h.bindEither)(p.map(h.functorEither)(m.fromFoldable(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"right"})))(M.ordStartStop(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(S.ordString)))))()(new R.IsSymbol((function(){return"left"})))(M.ordStartStop(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(S.ordString))))))(g.foldableArray))(E.sequence(E.traversableArray)(h.applicativeEither)(p.map(p.functorArray)(e(t))(n.passing))))((function(t){return f.bind(h.bindEither)(p.map(h.functorEither)(m.fromFoldable(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(S.ordString)))(g.foldableArray))(E.sequence(E.traversableArray)(h.applicativeEither)(p.map(p.functorArray)(e(r))(n.fromLeft))))((function(r){return f.bind(h.bindEither)(p.map(h.functorEither)(m.fromFoldable(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(S.ordString)))(g.foldableArray))(E.sequence(E.traversableArray)(h.applicativeEither)(p.map(p.functorArray)(e(o))(n.fromRight))))((function(e){return s.pure(h.applicativeEither)({regular:i,passing:t,fromLeft:r,fromRight:e,unexplained:n.unexplained,keepLeft:n.keepLeft,keepRight:n.keepRight,ids:n.ids})}))}))}))}))},_=(e=function(n){return{hold:n.hold,id:n.note.id,pitch:C.show(b.showPitchInst(I.showpitchSInterval))(n.note.pitch)}},p.map(p.functorArray)((function(n){return{time:h.either(d.identity(d.categoryFn))(C.show(D.showMBS))(n.time),notes:p.map(p.functorArray)(e)(n.notes)}}))),J=function(n){return{ties:n.ties,prevTime:h.either(d.identity(d.categoryFn))(C.show(D.showMBS))(n.prevTime)}},k=function(n){if(n instanceof x.LMFreezeLeft)return A.inj()(new R.IsSymbol((function(){return"freezeLeft"})))(q.Proxy.value)(J(n.value0));if(n instanceof x.LMFreezeOnly)return A.inj()(new R.IsSymbol((function(){return"freezeOnly"})))(q.Proxy.value)(J(n.value0));if(n instanceof x.LMSplitLeft)return A.inj()(new R.IsSymbol((function(){return"splitLeft"})))(q.Proxy.value)(H(n.value0));if(n instanceof x.LMSplitOnly)return A.inj()(new R.IsSymbol((function(){return"splitOnly"})))(q.Proxy.value)(H(n.value0));if(n instanceof x.LMSplitRight)return A.inj()(new R.IsSymbol((function(){return"splitRight"})))(q.Proxy.value)(H(n.value0));if(n instanceof x.LMHorizontalize)return A.inj()(new R.IsSymbol((function(){return"hori"})))(q.Proxy.value)(function(n){return{midEdges:n.midEdges,children:p.map(p.functorArray)((function(n){var e=function(){if(n.value1 instanceof x.LeftChild)return A.inj()(new R.IsSymbol((function(){return"leftChild"})))(q.Proxy.value)(n.value1.value0);if(n.value1 instanceof x.RightChild)return A.inj()(new R.IsSymbol((function(){return"rightChild"})))(q.Proxy.value)(n.value1.value0);if(n.value1 instanceof x.BothChildren)return A.inj()(new R.IsSymbol((function(){return"bothChildren"})))(q.Proxy.value)(n.value1.value0);if(n.value1 instanceof x.TooManyChildren)return A.inj()(new R.IsSymbol((function(){return"tooManyChildren"})))(q.Proxy.value)(n.value1.value0);throw new Error("Failed pattern match at ProtoVoices.JSONTransport (line 146, column 15 - line 150, column 70): "+[n.value1.constructor.name])}();return{parent:n.value0,child:e}}))(m.toUnfoldable(P.unfoldableArray)(n.children)),ids:n.ids,unexplained:n.unexplained}}(n.value0));throw new Error("Failed pattern match at ProtoVoices.JSONTransport (line 97, column 18 - line 103, column 66): "+[n.constructor.name])},U=function(n){return h.Right.create({ties:n.ties,prevTime:D.parseTime(n.prevTime)})},V=A.on()(new R.IsSymbol((function(){return"hori"})))(q.Proxy.value)((a=p.map(h.functorEither)(x.LMHorizontalize.create),function(n){return a((e=n,r=A.on()(new R.IsSymbol((function(){return"tooManyChildren"})))(q.Proxy.value)(x.TooManyChildren.create)(A.on()(new R.IsSymbol((function(){return"bothChildren"})))(q.Proxy.value)(x.BothChildren.create)(A.on()(new R.IsSymbol((function(){return"rightChild"})))(q.Proxy.value)(x.RightChild.create)(A.on()(new R.IsSymbol((function(){return"leftChild"})))(q.Proxy.value)(x.LeftChild.create)(A.case_)))),h.Right.create({midEdges:e.midEdges,children:m.fromFoldable(S.ordRecord()(S.ordRecordCons(S.ordRecordCons(S.ordRecordNil)()(new R.IsSymbol((function(){return"pitch"})))(b.ordPitch(I.ordSInterval)))()(new R.IsSymbol((function(){return"id"})))(S.ordString)))(g.foldableArray)(p.map(p.functorArray)((function(n){return new W.Tuple(n.parent,r(n.child))}))(e.children)),ids:e.ids,unexplained:e.unexplained})));var e,r}))(A.on()(new R.IsSymbol((function(){return"splitRight"})))(q.Proxy.value)((u=p.map(h.functorEither)(x.LMSplitRight.create),function(n){return u(O(n))}))(A.on()(new R.IsSymbol((function(){return"splitOnly"})))(q.Proxy.value)((i=p.map(h.functorEither)(x.LMSplitOnly.create),function(n){return i(O(n))}))(A.on()(new R.IsSymbol((function(){return"splitLeft"})))(q.Proxy.value)((o=p.map(h.functorEither)(x.LMSplitLeft.create),function(n){return o(O(n))}))(A.on()(new R.IsSymbol((function(){return"freezeOnly"})))(q.Proxy.value)((t=p.map(h.functorEither)(x.LMFreezeOnly.create),function(n){return t(U(n))}))(A.on()(new R.IsSymbol((function(){return"freezeLeft"})))(q.Proxy.value)((r=p.map(h.functorEither)(x.LMFreezeLeft.create),function(n){return r(U(n))}))(A.case_))))));c.pieceToJSON=_,c.modelToJSON=function(n){var e=function(n){return{id:n.id,notes:p.map(M.functorStartStop)(p.map(p.functorArray)((function(n){return n.note})))(n.notes)}};return f.bind(h.bindEither)(N.reductionToLeftmost(n))((function(r){return s.pure(h.applicativeEither)({derivation:p.map(p.functorArray)(k)(r),start:e(n.reduction.start),topSegments:p.map(p.functorArray)((function(n){return{trans:n.trans,rslice:e(n.rslice)}}))(w.fromFoldable(v.foldableList)(n.reduction.segments))})}))},c.pieceFromJSON=function(n){return E.for(F.applicativeMaybe)(E.traversableArray)(n)((function(n){return f.bind(F.bindMaybe)(E.for(F.applicativeMaybe)(E.traversableArray)(n.notes)((function(n){return p.map(F.functorMaybe)((function(e){return{hold:n.hold,note:{pitch:e,id:n.id}}}))(b.parseNotation(b.parsenotationPitch(I.parsenotationSPitch))(n.pitch))})))((function(e){return s.pure(F.applicativeMaybe)({time:D.parseTime(n.time),notes:w.sortBy((function(n){return function(e){return y.invert(S.compare(b.ordPitch(I.ordSInterval))(n.note.pitch)(e.note.pitch))}}))(e)})}))}))},c.modelFromJSON=function(n){return f.bind(h.bindEither)(E.sequence(E.traversableArray)(h.applicativeEither)(p.map(p.functorArray)(V)(n.derivation)))((function(e){return N.leftmostToReduction(n.topSegments)(e)}))},c.addJSONIds=function(n){var e=function(n){return w.mapWithIndex((function(e){return function(r){return{id:"note"+C.show(C.showInt)(n)+"."+C.show(C.showInt)(e),pitch:r.pitch,hold:r.hold}}}))};return w.mapWithIndex((function(n){return function(r){return{notes:e(n)(r.notes),time:r.time}}}))(n)},c.stripJSONIds=L,c.writeJSONPretty=function(n){var e=T.writeImpl(n);return function(n){return l.unsafeStringifyPretty(e(n))}}}(r),function(n){n["App.Utils"]=n["App.Utils"]||{};var e=n["App.Utils"],r=n["App.Utils"],t=n["Data.Either"],o=n["Data.Foldable"],i=n["Data.Functor"],u=n["Data.Maybe"],a=n["Data.Monoid"],c=n.Foreign,l=n["ProtoVoices.JSONTransport"],s=l.addJSONIds(r.examplePieceJSON),f=l.addJSONIds(r.examplePieceJSONLong),d=u.fromJust()(l.pieceFromJSON(f)),w=u.fromJust()(l.pieceFromJSON(s));e.examplePiece=w,e.examplePieceLong=d,e.showJSONErrors=function(n){return function(e){return function(r){return t.Left.create("Errors parsing JSON:\n  "+o.intercalate(n)(a.monoidString)("\n  ")(i.map(e)(c.renderForeignError)(r)))}}},e.copyToClipboard=r.copyToClipboard}(r),function(n){n.isFinite=isFinite,n.fromStringImpl=function(n,e,r,t){var o=parseFloat(n);return e(o)?r(o):t}}(r["Data.Number"]=r["Data.Number"]||{}),function(n){n["Data.Number"]=n["Data.Number"]||{};var e=n["Data.Number"],r=n["Data.Number"],t=n["Data.Maybe"];e.fromString=function(n){return r.fromStringImpl(n,r.isFinite,t.Just.create,t.Nothing.value)}}(r),function(n){var e=function(){var n={},e="Pure",r="Throw",t="Catch",o="Sync",i="Async",u="Bind",a="Bracket",c="Fork",l="Sequential",s="Map",f="Apply",d="Alt",w="Cons",h="Resume",g="Release",p="Finalizer",v="Finalized",m="Forked";function F(n,e,r,t){this.tag=n,this._1=e,this._2=r,this._3=t}function S(n){var e=function(e,r,t){return new F(n,e,r,t)};return e.tag=n,e}function y(n){return new F(e,void 0)}function b(n){try{n()}catch(n){setTimeout((function(){throw n}),0)}}function I(n,e,r){try{return e(r())}catch(e){return n(e)}}function C(n,e,r){try{return e(r)()}catch(e){return r(n(e))(),y}}var R=function(){var n=1024,e=0,r=0,t=new Array(n),o=!1;function i(){var i;for(o=!0;0!==e;)e--,i=t[r],t[r]=void 0,r=(r+1)%n,i();o=!1}return{isDraining:function(){return o},enqueue:function(u){var a;e===n&&(a=o,i(),o=a),t[(r+e)%n]=u,e++,o||i()}}}();function E(n,s,f){var d=0,m=0,S=f,y=null,W=null,A=null,D=null,N=null,x=0,M=0,T=null,q=!0;function L(f){for(var M,H,O;;)switch(M=null,H=null,O=null,m){case 2:m=1;try{S=A(S),null===D?A=null:(A=D._1,D=D._2)}catch(e){m=5,y=n.left(e),S=null}break;case 3:n.isLeft(S)?(m=5,y=S,S=null):null===A?m=5:(m=2,S=n.fromRight(S));break;case 1:switch(S.tag){case u:A&&(D=new F(w,A,D)),A=S._2,m=1,S=S._1;break;case e:null===A?(m=5,S=n.right(S._1)):(m=2,S=S._1);break;case o:m=3,S=I(n.left,n.right,S._1);break;case i:return m=4,void(S=C(n.left,S._1,(function(n){return function(){d===f&&(d++,R.enqueue((function(){d===f+1&&(m=3,S=n,L(d))})))}})));case r:m=5,y=n.left(S._1),S=null;break;case t:N=new F(w,S,null===A?N:new F(w,new F(h,A,D),N,W),W),A=null,D=null,m=1,S=S._1;break;case a:x++,N=new F(w,S,null===A?N:new F(w,new F(h,A,D),N,W),W),A=null,D=null,m=1,S=S._1;break;case c:m=3,M=E(n,s,S._2),s&&s.register(M),S._1&&M.run(),S=n.right(M);break;case l:m=1,S=P(n,s,S._1)}break;case 5:if(A=null,D=null,null===N)m=6,S=W||y||S;else switch(M=N._3,O=N._1,N=N._2,O.tag){case t:W&&W!==M&&0===x?m=5:y&&(m=1,S=O._2(n.fromLeft(y)),y=null);break;case h:W&&W!==M&&0===x||y?m=5:(A=O._1,D=O._2,m=2,S=n.fromRight(S));break;case a:x--,null===y&&(H=n.fromRight(S),N=new F(w,new F(g,O._2,H),N,M),(W===M||x>0)&&(m=1,S=O._3(H)));break;case g:N=new F(w,new F(v,S,y),N,W),m=1,S=W&&W!==M&&0===x?O._1.killed(n.fromLeft(W))(O._2):y?O._1.failed(n.fromLeft(y))(O._2):O._1.completed(n.fromRight(S))(O._2),y=null,x++;break;case p:x++,N=new F(w,new F(v,S,y),N,W),m=1,S=O._1;break;case v:x--,m=5,S=O._1,y=O._2}break;case 6:for(var _ in T)T.hasOwnProperty(_)&&(q=q&&T[_].rethrow,b(T[_].handler(S)));return T=null,void(W&&y?setTimeout((function(){throw n.fromLeft(y)}),0):n.isLeft(S)&&q&&setTimeout((function(){if(q)throw n.fromLeft(S)}),0));case 0:m=1;break;case 4:return}}function H(n){return function(){if(6===m)return q=q&&n.rethrow,n.handler(S)(),function(){};var e=M++;return(T=T||{})[e]=n,function(){null!==T&&delete T[e]}}}return{kill:function(e,r){return function(){if(6===m)return r(n.right(void 0))(),function(){};var t=H({rethrow:!1,handler:function(){return r(n.right(void 0))}})();switch(m){case 0:W=n.left(e),m=6,S=W,L(d);break;case 4:null===W&&(W=n.left(e)),0===x&&(4===m&&(N=new F(w,new F(p,S(e)),N,W)),m=5,S=null,y=null,L(++d));break;default:null===W&&(W=n.left(e)),0===x&&(m=5,S=null,y=null)}return t}},join:function(n){return function(){var e=H({rethrow:!1,handler:n})();return 0===m&&L(d),e}},onComplete:H,isSuspended:function(){return 0===m},run:function(){0===m&&(R.isDraining()?L(d):R.enqueue((function(){L(d)})))}}}function W(e,r,t,o){var u=0,a={},c=0,l={},h=new Error("[ParAff] Early exit"),g=null,p=n;function v(r,t,o){var i,u,c=t,l=null,h=null,g=0,p={};n:for(;;)switch(i=null,c.tag){case m:if(c._3===n&&(i=a[c._1],p[g++]=i.kill(r,(function(n){return function(){0===--g&&o(n)()}}))),null===l)break n;c=l._2,null===h?l=null:(l=h._1,h=h._2);break;case s:c=c._2;break;case f:case d:l&&(h=new F(w,l,h)),l=c,c=c._1}if(0===g)o(e.right(void 0))();else for(u=0,i=g;u<i;u++)p[u]=p[u]();return p}function S(r,t,i){var u,a,w,p,m,F;for(e.isLeft(r)?(u=r,a=null):(a=r,u=null);;){if(w=null,p=null,m=null,F=null,null!==g)return;if(null===t)return void o(u||a)();if(t._3!==n)return;switch(t.tag){case s:null===u?(t._3=e.right(t._1(e.fromRight(a))),a=t._3):t._3=u;break;case f:if(w=t._1._3,p=t._2._3,u){if(t._3=u,m=!0,F=c++,l[F]=v(h,u===w?t._2:t._1,(function(){return function(){delete l[F],m?m=!1:null===i?S(u,null,null):S(u,i._1,i._2)}})),m)return void(m=!1)}else{if(w===n||p===n)return;a=e.right(e.fromRight(w)(e.fromRight(p))),t._3=a}break;case d:if(w=t._1._3,p=t._2._3,w===n&&e.isLeft(p)||p===n&&e.isLeft(w))return;if(w!==n&&e.isLeft(w)&&p!==n&&e.isLeft(p))u=a===w?p:w,a=null,t._3=u;else if(t._3=a,m=!0,F=c++,l[F]=v(h,a===w?t._2:t._1,(function(){return function(){delete l[F],m?m=!1:null===i?S(a,null,null):S(a,i._1,i._2)}})),m)return void(m=!1)}null===i?t=null:(t=i._1,i=i._2)}}function b(n){return function(e){return function(){delete a[n._1],n._3=e,S(e,n._2._1,n._2._2)}}}return function(){var o,i,c=1,l=t,h=null,g=null;n:for(;;)switch(o=null,i=null,c){case 1:switch(l.tag){case s:h&&(g=new F(w,h,g)),h=new F(s,l._1,n,n),l=l._2;break;case f:h&&(g=new F(w,h,g)),h=new F(f,n,l._2,n),l=l._1;break;case d:h&&(g=new F(w,h,g)),h=new F(d,n,l._2,n),l=l._1;break;default:i=u++,c=5,o=l,l=new F(m,i,new F(w,h,g),n),(o=E(e,r,o)).onComplete({rethrow:!1,handler:b(l)})(),a[i]=o,r&&r.register(o)}break;case 5:if(null===h)break n;h._1===n?(h._1=l,c=1,l=h._2,h._2=n):(h._2=l,l=h,null===g?h=null:(h=g._1,g=g._2))}for(p=l,i=0;i<u;i++)a[i].run()}(),function(n){return new F(i,(function(r){return function(){return function(n,r){var t;for(var o in g=e.left(n),l)if(l.hasOwnProperty(o))for(o in t=l[o])t.hasOwnProperty(o)&&t[o]();l=null;var u=v(n,p,r);return function(n){return new F(i,(function(n){return function(){for(var n in u)u.hasOwnProperty(n)&&u[n]();return y}}))}}(n,r)}}))}}function P(n,e,r){return new F(i,(function(t){return function(){return W(n,e,r,t)}}))}return F.EMPTY=n,F.Pure=S(e),F.Throw=S(r),F.Catch=S(t),F.Sync=S(o),F.Async=S(i),F.Bind=S(u),F.Bracket=S(a),F.Fork=S(c),F.Seq=S(l),F.ParMap=S(s),F.ParApply=S(f),F.ParAlt=S(d),F.Fiber=E,F.Supervisor=function(n){var e={},r=0,t=0;return{register:function(n){var o=r++;n.onComplete({rethrow:!0,handler:function(n){return function(){t--,delete e[o]}}})(),e[o]=n,t++},isEmpty:function(){return 0===t},killAll:function(i,u){return function(){if(0===t)return u();var a=0,c={};function l(r){c[r]=e[r].kill(i,(function(e){return function(){delete c[r],a--,n.isLeft(e)&&n.fromLeft(e)&&setTimeout((function(){throw n.fromLeft(e)}),0),0===a&&u()}}))()}for(var s in e)e.hasOwnProperty(s)&&(a++,l(s));return e={},r=0,t=0,function(n){return new F(o,(function(){for(var n in c)c.hasOwnProperty(n)&&c[n]()}))}}}}},F.Scheduler=R,F.nonCanceler=y,F}();n._pure=e.Pure,n._throwError=e.Throw,n._catchError=function(n){return function(r){return e.Catch(n,r)}},n._map=function(n){return function(r){return r.tag===e.Pure.tag?e.Pure(n(r._1)):e.Bind(r,(function(r){return e.Pure(n(r))}))}},n._bind=function(n){return function(r){return e.Bind(n,r)}},n._fork=function(n){return function(r){return e.Fork(n,r)}},n._liftEffect=e.Sync,n._parAffMap=function(n){return function(r){return e.ParMap(n,r)}},n._parAffApply=function(n){return function(r){return e.ParApply(n,r)}},n.makeAff=e.Async,n.generalBracket=function(n){return function(r){return function(t){return e.Bracket(n,r,t)}}},n._makeFiber=function(n,r){return function(){return e.Fiber(n,null,r)}},n._sequential=e.Seq}(r["Effect.Aff"]=r["Effect.Aff"]||{}),function(n){n["Control.Parallel.Class"]=n["Control.Parallel.Class"]||{};var e=n["Control.Parallel.Class"];e.parallel=function(n){return n.parallel},e.sequential=function(n){return n.sequential},e.Parallel=function(n,e,r,t){this.Applicative1=n,this.Monad0=e,this.parallel=r,this.sequential=t}}(r),function(n){n["Control.Parallel"]=n["Control.Parallel"]||{};var e=n["Control.Parallel"],r=n["Control.Category"],t=n["Control.Parallel.Class"],o=n["Data.Foldable"];e.parSequence_=function(n){return function(e){return function(n){return function(e){return function(r){var i,u=t.sequential(n),a=o.traverse_(n.Applicative1())(e)((i=t.parallel(n),function(n){return i(r(n))}));return function(n){return u(a(n))}}}}(n)(e)(r.identity(r.categoryFn))}}}(r),function(n){n["Effect.Class"]=n["Effect.Class"]||{};var e=n["Effect.Class"],r=n["Control.Category"],t=n.Effect,o=function(n,e){this.Monad0=n,this.liftEffect=e},i=new o((function(){return t.monadEffect}),r.identity(r.categoryFn));e.liftEffect=function(n){return n.liftEffect},e.MonadEffect=o,e.monadEffectEffect=i}(r),function(n){n["Effect.Aff"]=n["Effect.Aff"]||{};var e,r,t,o=n["Effect.Aff"],i=n["Effect.Aff"],u=n["Control.Applicative"],a=n["Control.Apply"],c=n["Control.Bind"],l=n["Control.Monad"],s=n["Control.Monad.Error.Class"],f=n["Control.Monad.Rec.Class"],d=n["Control.Parallel"],w=n["Control.Parallel.Class"],h=n["Data.Either"],g=n["Data.Foldable"],p=n["Data.Function"],v=n["Data.Functor"],m=n["Data.Monoid"],F=n["Data.Semigroup"],S=n["Data.Unit"],y=n.Effect,b=n["Effect.Class"],I=n["Effect.Unsafe"],C=n["Partial.Unsafe"],R=n["Unsafe.Coerce"],E=i._fork(!1),W=new v.Functor(i._parAffMap),P=new v.Functor(i._map),A=i._fork(!0),D={isLeft:function(n){if(n instanceof h.Left)return!0;if(n instanceof h.Right)return!1;throw new Error("Failed pattern match at Effect.Aff (line 394, column 12 - line 396, column 20): "+[n.constructor.name])},fromLeft:function(n){if(n instanceof h.Left)return n.value0;if(n instanceof h.Right)return C.unsafeCrashWith("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 399, column 20 - line 401, column 54): "+[n.constructor.name])},fromRight:function(n){if(n instanceof h.Right)return n.value0;if(n instanceof h.Left)return C.unsafeCrashWith("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 404, column 21 - line 406, column 54): "+[n.constructor.name])},left:h.Left.create,right:h.Right.create},N=function(n){return i._makeFiber(D,n)},x=new a.Apply((function(){return W}),i._parAffApply),M=new l.Monad((function(){return L}),(function(){return T})),T=new c.Bind((function(){return q}),i._bind),q=new a.Apply((function(){return P}),l.ap(M)),L=new u.Applicative((function(){return q}),i._pure),H=new b.MonadEffect((function(){return M}),i._liftEffect),O=(e=b.liftEffect(H),function(n){return p.const(e(n))}),_=function(n){return i.makeAff((function(e){return v.map(y.functorEffect)(O)(n.join(e))}))},J=new v.Functor((function(n){return function(e){return I.unsafePerformEffect(N(v.map(P)(n)(_(e))))}})),k=new s.MonadThrow((function(){return M}),i._throwError),U=new s.MonadError((function(){return k}),i._catchError),V=function(n){return function(e){return function(n){return function(){var e=N(n)();return e.run(),e}}(c.bindFlipped(T)((r=b.liftEffect(H),function(e){return r(n(e))}))(s.try(U)(e)));var r}},B=new w.Parallel((function(){return z}),(function(){return M}),R.unsafeCoerce,i._sequential),z=new u.Applicative((function(){return x}),(r=w.parallel(B),t=u.pure(L),function(n){return r(t(n))})),G=new F.Semigroup((function(n){return function(e){return function(r){return d.parSequence_(B)(g.foldableArray)([n(r),e(r)])}}})),Q=new f.MonadRec((function(){return M}),(function(n){var e=function(r){return c.bind(T)(n(r))((function(n){if(n instanceof f.Done)return u.pure(L)(n.value0);if(n instanceof f.Loop)return e(n.value0);throw new Error("Failed pattern match at Effect.Aff (line 102, column 7 - line 104, column 22): "+[n.constructor.name])}))};return e})),j=p.const(u.pure(L)(S.unit)),K=new m.Monoid((function(){return G}),j);o.runAff_=function(n){return function(e){return v.void(y.functorEffect)(V(n)(e))}},o.forkAff=A,o.suspendAff=E,o.finally=function(n){return function(e){return(r=u.pure(L)(S.unit),function(n){return i.generalBracket(r)({killed:p.const(n),failed:p.const(n),completed:p.const(n)})})(p.const(n))(p.const(e));var r}},o.killFiber=function(n){return function(e){return c.bind(T)(b.liftEffect(H)(e.isSuspended))((function(r){return r?b.liftEffect(H)(v.void(y.functorEffect)(e.kill(n,p.const(u.pure(y.applicativeEffect)(S.unit))))):i.makeAff((function(r){return v.map(y.functorEffect)(O)(e.kill(n,r))}))}))}},o.joinFiber=_,o.nonCanceler=j,o.effectCanceler=O,o.functorAff=P,o.applicativeAff=L,o.bindAff=T,o.monadAff=M,o.monadRecAff=Q,o.monadEffectAff=H,o.applicativeParAff=z,o.parallelAff=B,o.functorFiber=J,o.monoidCanceler=K,o.makeAff=i.makeAff}(r),function(n){n["Effect.Aff.Class"]=n["Effect.Aff.Class"]||{};var e=n["Effect.Aff.Class"],r=n["Control.Category"],t=n["Effect.Aff"],o=function(n,e){this.MonadEffect0=n,this.liftAff=e},i=new o((function(){return t.monadEffectAff}),r.identity(r.categoryFn));e.liftAff=function(n){return n.liftAff},e.MonadAff=o,e.monadAffAff=i}(r),function(n){n["Data.Exists"]=n["Data.Exists"]||{};var e=n["Data.Exists"],r=n["Unsafe.Coerce"],t=r.unsafeCoerce,o=r.unsafeCoerce;e.mkExists=o,e.runExists=t}(r),function(n){n["Data.Coyoneda"]=n["Data.Coyoneda"]||{};var e=n["Data.Coyoneda"],r=n["Control.Category"],t=n["Data.Exists"],o=n["Data.Functor"],i=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),u=function(n){return function(e){return t.mkExists(new i(n,e))}},a=new o.Functor((function(n){return function(e){return t.runExists((function(e){return u((function(r){return n(e.value0(r))}))(e.value1)}))(e)}})),c=u(r.identity(r.categoryFn));e.unCoyoneda=function(n){return function(e){return t.runExists((function(e){return n(e.value0)(e.value1)}))(e)}},e.liftCoyoneda=c,e.functorCoyoneda=a}(r),function(n){n["Halogen.Data.OrdBox"]=n["Halogen.Data.OrdBox"]||{};var e=n["Halogen.Data.OrdBox"],r=n["Data.Eq"],t=n["Data.Ord"],o=function(){function n(n,e,r){this.value0=n,this.value1=e,this.value2=r}return n.create=function(e){return function(r){return function(t){return new n(e,r,t)}}},n}(),i=new r.Eq((function(n){return function(e){return n.value0(n.value2)(e.value2)}})),u=new t.Ord((function(){return i}),(function(n){return function(e){return n.value1(n.value2)(e.value2)}}));e.mkOrdBox=function(n){return o.create(r.eq(n.Eq0()))(t.compare(n))},e.ordOrdBox=u}(r),function(n){n["Halogen.Data.Slot"]=n["Halogen.Data.Slot"]||{};var e=n["Halogen.Data.Slot"],r=n["Data.Foldable"],t=n["Data.Map.Internal"],o=n["Data.Ord"],i=n["Data.Symbol"],u=n["Data.Tuple"],a=n["Halogen.Data.OrdBox"],c=t.empty;e.empty=c,e.lookup=function(n){return function(n){return function(e){return function(r){return function(c){return function(l){return t.lookup(u.ordTuple(o.ordString)(a.ordOrdBox))(new u.Tuple(i.reflectSymbol(n)(r),a.mkOrdBox(e)(c)))(l)}}}}}},e.insert=function(n){return function(n){return function(e){return function(r){return function(c){return function(l){return function(s){return t.insert(u.ordTuple(o.ordString)(a.ordOrdBox))(new u.Tuple(i.reflectSymbol(n)(r),a.mkOrdBox(e)(c)))(l)(s)}}}}}}},e.pop=function(n){return function(n){return function(e){return function(r){return function(c){return function(l){return t.pop(u.ordTuple(o.ordString)(a.ordOrdBox))(new u.Tuple(i.reflectSymbol(n)(r),a.mkOrdBox(e)(c)))(l)}}}}}},e.foreachSlot=function(n){return function(e){return function(o){return r.traverse_(n)(t.foldableMap)((function(n){return o(n)}))(e)}}}}(r),function(n){n["Data.CatQueue"]=n["Data.CatQueue"]||{};var e=n["Data.CatQueue"],r=n["Data.List"],t=n["Data.List.Types"],o=n["Data.Maybe"],i=n["Data.Tuple"],u=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),a=new u(t.Nil.value,t.Nil.value);e.empty=a,e.null=function(n){return n.value0 instanceof t.Nil&&n.value1 instanceof t.Nil},e.snoc=function(n){return function(e){return new u(n.value0,new t.Cons(e,n.value1))}},e.uncons=function(n){var e,a=!1;function c(e){if(e.value0 instanceof t.Nil&&e.value1 instanceof t.Nil)return a=!0,o.Nothing.value;if(!(e.value0 instanceof t.Nil)){if(e.value0 instanceof t.Cons)return a=!0,new o.Just(new i.Tuple(e.value0.value0,new u(e.value0.value1,e.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 83, column 1 - line 83, column 63): "+[e.constructor.name])}n=new u(r.reverse(e.value1),t.Nil.value)}for(;!a;)e=c(n);return e}}(r),function(n){n["Data.CatList"]=n["Data.CatList"]||{};var e=n["Data.CatList"],r=n["Data.CatQueue"],t=n["Data.List.Types"],o=n["Data.Maybe"],i=n["Data.Semigroup"],u=n["Data.Tuple"],a=function(){function n(){}return n.value=new n,n}(),c=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),l=function(n){return function(e){if(n instanceof a)return e;if(e instanceof a)return n;if(n instanceof c)return new c(n.value0,r.snoc(n.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 109, column 1 - line 109, column 54): "+[n.constructor.name,e.constructor.name])}},s=function(n){return function(e){return function(i){var u;return(u=i,function(i){var a,c=u,l=!1;function s(u,a){var s,f=r.uncons(u);if(f instanceof o.Nothing)return l=!0,(s=function(n){return function(e){return e(n)}},function(n){return function(e){var r,o=s,i=n,u=!1;function a(n,r,a){if(a instanceof t.Nil)return u=!0,r;if(a instanceof t.Cons)return o=n,i=n(r)(a.value0),void(e=a.value1);throw new Error("Failed pattern match at Data.CatList (line 125, column 3 - line 125, column 59): "+[n.constructor.name,r.constructor.name,a.constructor.name])}for(;!u;)r=a(o,i,e);return r}})(e)(a);if(f instanceof o.Just)return c=f.value0.value1,void(i=new t.Cons(n(f.value0.value0),a));throw new Error("Failed pattern match at Data.CatList (line 121, column 14 - line 123, column 67): "+[f.constructor.name])}for(;!l;)a=s(c,i);return a})(t.Nil.value)}}},f=a.value,d=l,w=new i.Semigroup(d);e.empty=f,e.snoc=function(n){return function(e){return d(n)(new c(e,r.empty))}},e.uncons=function(n){if(n instanceof a)return o.Nothing.value;if(n instanceof c)return new o.Just(new u.Tuple(n.value0,r.null(n.value1)?a.value:s(l)(a.value)(n.value1)));throw new Error("Failed pattern match at Data.CatList (line 100, column 1 - line 100, column 61): "+[n.constructor.name])},e.semigroupCatList=w}(r),function(n){n["Control.Monad.Free"]=n["Control.Monad.Free"]||{};var e=n["Control.Monad.Free"],r=n["Control.Applicative"],t=n["Control.Apply"],o=n["Control.Bind"],i=n["Control.Monad"],u=n["Control.Monad.Rec.Class"],a=n["Data.CatList"],c=n["Data.Functor"],l=n["Data.Maybe"],s=n["Data.Semigroup"],f=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),h=function(n){return new f(n,a.empty)},g=new i.Monad((function(){return F}),(function(){return v})),p=new c.Functor((function(n){return function(e){return o.bindFlipped(v)((t=r.pure(F),function(e){return t(n(e))}))(e);var t}})),v=new o.Bind((function(){return m}),(function(n){return function(e){return new f(n.value0,a.snoc(n.value1)(e))}})),m=new t.Apply((function(){return p}),i.ap(g)),F=new r.Applicative((function(){return m}),(function(n){return h(d.create(n))}));e.liftF=function(n){return h(new w(n,(e=r.pure(F),function(n){return e(n)})));var e},e.foldFree=function(n){return function(e){return u.tailRecM(n)((function(t){var o=function(n){var e,r=!1;function t(e){var t=function(n){return function(e){return new f(n.value0,s.append(a.semigroupCatList)(n.value1)(e))}};if(e.value0 instanceof d){var o=a.uncons(e.value1);if(o instanceof l.Nothing)return r=!0,new d(e.value0.value0);if(o instanceof l.Just)return void(n=t((0,o.value0.value0)(e.value0.value0))(o.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[o.constructor.name])}if(e.value0 instanceof w)return r=!0,new w(e.value0.value0,(function(n){return t(e.value0.value1(n))(e.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[e.value0.constructor.name])}for(;!r;)e=t(n);return e}(t);if(o instanceof d)return c.map(n.Monad0().Bind1().Apply0().Functor0())(u.Done.create)(r.pure(n.Monad0().Applicative0())(o.value0));if(o instanceof w)return c.map(n.Monad0().Bind1().Apply0().Functor0())((function(n){return u.Loop.create(o.value1(n))}))(e(o.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[o.constructor.name])}))}},e.freeFunctor=p,e.freeBind=v,e.freeApplicative=F,e.freeApply=m,e.freeMonad=g}(r),function(n){n["Halogen.Query.HalogenM"]=n["Halogen.Query.HalogenM"]||{};var e=n["Halogen.Query.HalogenM"],r=n["Control.Monad.Free"],t=n["Control.Monad.State.Class"],o=n["Data.Function"],i=n["Data.Ord"],u=n["Data.Unit"],a=n["Effect.Aff.Class"],c=n["Effect.Class"],l=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),s=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),f=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),h=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),g=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),p=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),v=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),m=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),F=i.ordInt,S=i.ordInt,y=r.freeMonad,b=new t.MonadState((function(){return y}),(function(n){return r.liftF(l.create(n))})),I=function(n){return new c.MonadEffect((function(){return y}),(e=c.liftEffect(n),function(n){return r.liftF(d.create(e(n)))}));var e},C=r.freeFunctor,R=r.freeBind,E=r.freeApply,W=r.freeApplicative;e.State=l,e.Subscribe=s,e.Unsubscribe=f,e.Lift=d,e.ChildQuery=w,e.Raise=h,e.Par=g,e.Fork=p,e.Kill=v,e.GetRef=m,e.raise=function(n){return r.liftF(new h(n,u.unit))},e.SubscriptionId=function(n){return n},e["subscribe'"]=function(n){return r.liftF(new s(n,o.const(u.unit)))},e.ForkId=function(n){return n},e.functorHalogenM=C,e.applyHalogenM=E,e.applicativeHalogenM=W,e.bindHalogenM=R,e.monadEffectHalogenM=I,e.monadAffHalogenM=function(n){return new a.MonadAff((function(){return I(n.MonadEffect0())}),(e=a.liftAff(n),function(n){return r.liftF(d.create(e(n)))}));var e},e.monadStateHalogenM=b,e.ordSubscriptionId=F,e.ordForkId=S}(r),function(n){n["Halogen.Query.HalogenQ"]=n["Halogen.Query.HalogenQ"]||{};var e=n["Halogen.Query.HalogenQ"],r=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),o=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),i=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),u=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}();e.Initialize=r,e.Finalize=t,e.Receive=o,e.Action=i,e.Query=u}(r),function(n){n["Halogen.Component"]=n["Halogen.Component"]||{};var e=n["Halogen.Component"],r=n["Control.Applicative"],t=n["Data.Coyoneda"],o=n["Data.Foldable"],i=n["Data.Function"],u=n["Data.Functor"],a=n["Data.Maybe"],c=n["Data.Unit"],l=n["Halogen.Data.Slot"],s=n["Halogen.Query.HalogenM"],f=n["Halogen.Query.HalogenQ"],d=n["Unsafe.Coerce"],w=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),h=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),g=d.unsafeCoerce,p=d.unsafeCoerce,v=d.unsafeCoerce,m=d.unsafeCoerce,F={handleAction:i.const(r.pure(s.applicativeHalogenM)(c.unit)),handleQuery:i.const(r.pure(s.applicativeHalogenM)(a.Nothing.value)),receive:i.const(a.Nothing.value),initialize:a.Nothing.value,finalize:a.Nothing.value};e.mkComponent=m,e.unComponent=p,e.mkEval=function(n){return function(e){if(e instanceof f.Initialize)return u.voidLeft(s.functorHalogenM)(o.traverse_(s.applicativeHalogenM)(o.foldableMaybe)(n.handleAction)(n.initialize))(e.value0);if(e instanceof f.Finalize)return u.voidLeft(s.functorHalogenM)(o.traverse_(s.applicativeHalogenM)(o.foldableMaybe)(n.handleAction)(n.finalize))(e.value0);if(e instanceof f.Receive)return u.voidLeft(s.functorHalogenM)(o.traverse_(s.applicativeHalogenM)(o.foldableMaybe)(n.handleAction)(n.receive(e.value0)))(e.value1);if(e instanceof f.Action)return u.voidLeft(s.functorHalogenM)(n.handleAction(e.value0))(e.value1);if(e instanceof f.Query)return t.unCoyoneda((function(r){var t=u.map(s.functorHalogenM)(a.maybe(e.value1(c.unit))(r));return function(e){return t(n.handleQuery(e))}}))(e.value0);throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 70): "+[e.constructor.name])}},e.defaultEval=F,e.ComponentSlot=w,e.ThunkSlot=h,e.componentSlot=function(n){return function(n){return function(e){return function(r){return function(t){return function(o){return function(i){return function(u){return v({get:l.lookup()(n)(e)(r)(t),pop:l.pop()(n)(e)(r)(t),set:l.insert()(n)(e)(r)(t),component:o,input:i,output:u})}}}}}}}},e.unComponentSlot=g}(r),function(n){n["Halogen.HTML"]=n["Halogen.HTML"]||{};var e=n["Halogen.HTML"],r=n["Data.Function"],t=n["Data.Maybe"],o=n["Halogen.Component"],i=n["Halogen.HTML.Core"];e.slot=function(n){return function(n){return function(e){return function(r){return function(u){return function(a){return function(c){return function(l){return i.widget(new o.ComponentSlot(o.componentSlot()(n)(e)(r)(u)(a)(c)((function(n){return t.Just.create(l(n))}))))}}}}}}}},e.slot_=function(n){return function(n){return function(e){return function(u){return function(a){return function(c){return function(l){return i.widget(new o.ComponentSlot(o.componentSlot()(n)(e)(u)(a)(c)(l)(r.const(t.Nothing.value))))}}}}}}}}(r);var t,o=!1;function i(){var n,e;return o||(o=!0,n=t={},e=function(){return function n(e,r,t){var o,i,u=window,a="application/octet-stream",c=t||a,l=e,s=!r&&!t&&l,f=document.createElement("a"),d=function(n){return String(n)},w=u.Blob||u.MozBlob||u.WebKitBlob||d,h=r||"download";if(w=w.call?w.bind(u):Blob,"true"===String(this)&&(c=(l=[l,c])[0],l=l[1]),s&&s.length<2048&&(h=s.split("/").pop().split("?")[0],f.href=s,-1!==f.href.indexOf(s))){var g=new XMLHttpRequest;return g.open("GET",s,!0),g.responseType="blob",g.onload=function(e){n(e.target.response,h,a)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&w!==d))return navigator.msSaveBlob?navigator.msSaveBlob(F(l),h):S(l);c=(l=F(l)).type||a}else if(/([\x80-\xff])/.test(l)){for(var p=0,v=new Uint8Array(l.length),m=v.length;p<m;++p)v[p]=l.charCodeAt(p);l=new w([v],{type:c})}function F(n){for(var e=n.split(/[:;,]/),r=e[1],t=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=t.length,i=0,u=new Uint8Array(o);i<o;++i)u[i]=t.charCodeAt(i);return new w([u],{type:r})}function S(n,e){if("download"in f)return f.href=n,f.setAttribute("download",h),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout((function(){f.click(),document.body.removeChild(f),!0===e&&setTimeout((function(){u.URL.revokeObjectURL(f.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(n)&&(n="data:"+n.replace(/^data:([\w\/\-\+]+)/,a)),window.open(n)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=n),!0;var r=document.createElement("iframe");document.body.appendChild(r),!e&&/^data:/.test(n)&&(n="data:"+n.replace(/^data:([\w\/\-\+]+)/,a)),r.src=n,setTimeout((function(){document.body.removeChild(r)}),333)}if(o=l instanceof w?l:new w([l],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(o,h);if(u.URL)S(u.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===d)try{return S("data:"+c+";base64,"+u.btoa(o))}catch(n){return S("data:"+c+","+encodeURIComponent(o))}(i=new FileReader).onload=function(n){S(this.result)},i.readAsDataURL(o)}return!0}},"object"==typeof t?t=e():n.download=e()),t}!function(n){const e=i();n.download_=function(n){return function(r){return function(t){return function(){return Boolean(e(n,r,t))}}}}}(r["Web.DownloadJs"]=r["Web.DownloadJs"]||{}),function(n){n["Web.DownloadJs"]=n["Web.DownloadJs"]||{};var e=n["Web.DownloadJs"],r=n["Web.DownloadJs"],t=n.Foreign,o=new function(n){this.toDownloadData=n}(t.unsafeToForeign);e.download=function(n){return function(e){return r.download_(n.toDownloadData(e))}},e.dlString=o}(r),function(n){n["Web.File.File"]=n["Web.File.File"]||{};var e=n["Web.File.File"],r=n["Unsafe.Coerce"].unsafeCoerce;e.toBlob=r}(r),function(n){n.fileReader=function(){return new FileReader},n.result=function(n){return function(){return n.result}},n.readAsText=function(n){return function(e){return function(){e.readAsText(n)}}}}(r["Web.File.FileReader"]=r["Web.File.FileReader"]||{}),function(n){n["Web.File.FileReader"]=n["Web.File.FileReader"]||{};var e=n["Web.File.FileReader"],r=n["Web.File.FileReader"],t=n["Unsafe.Coerce"].unsafeCoerce;e.toEventTarget=t,e.fileReader=r.fileReader,e.result=r.result,e.readAsText=r.readAsText}(r),function(n){n["Web.File.FileReader.Aff"]=n["Web.File.FileReader.Aff"]||{};var e,r=n["Web.File.FileReader.Aff"],t=n["Control.Monad.Except"],o=n["Data.Either"],i=n["Data.Identity"],u=n["Data.List.Types"],a=n["Data.Monoid"],c=n["Data.Show"],l=n["Effect.Aff"],s=n["Effect.Exception"],f=n.Foreign,d=n["Web.Event.EventTarget"],w=n["Web.File.FileReader"],h=n["Web.HTML.Event.EventTypes"],g=(e=f.readString(i.monadIdentity),function(n){return function(r){return l.makeAff((function(i){var g=function(n){return i(o.Right.create(n))},p=function(n){return i(o.Left.create(n))};return function(){var i=w.fileReader(),v=w.toEventTarget(i),m=d.eventListener((function(n){return p(s.error("error"))}))(),F=d.eventListener((function(n){return function(){var n=w.result(i)();return o.either((function(n){return p(s.error(c.show(u.showNonEmptyList(f.showForeignError))(n)))}))(g)(t.runExcept(e(n)))()}}))();return d.addEventListener(h.error)(m)(!1)(v)(),d.addEventListener(h.load)(F)(!1)(v)(),n(r)(i)(),a.mempty(l.monoidCanceler)}}))}})(w.readAsText);r.readAsText=g}(r),function(n){n["App.Tabs"]=n["App.Tabs"]||{};var e=n["App.Tabs"],r=n["App.Common"],t=n["App.Render"],o=n["App.Utils"],i=n["Control.Applicative"],u=n["Control.Bind"],a=n["Control.Monad.State.Class"],c=n["DOM.HTML.Indexed.InputAcceptType"],l=n["DOM.HTML.Indexed.InputType"],s=n["Data.Either"],f=n["Data.Eq"],d=n["Data.Foldable"],w=n["Data.Function"],h=n["Data.Functor"],g=n["Data.List"],p=n["Data.List.Types"],v=n["Data.Maybe"],m=n["Data.Number"],F=n["Data.Ord"],S=n["Data.Pitches.Class"],y=n["Data.Pitches.Spelled"],b=n["Data.Semigroup"],I=n["Data.Show"],C=n["Data.Symbol"],R=n["Data.Unit"],E=n["Effect.Aff.Class"],W=n["Effect.Class"],P=n.Foreign,A=n["Halogen.Component"],D=n["Halogen.HTML"],N=n["Halogen.HTML.Core"],x=n["Halogen.HTML.Elements"],M=n["Halogen.HTML.Events"],T=n["Halogen.HTML.Properties"],q=n["Halogen.Query.HalogenM"],L=n["ProtoVoices.Common"],H=n["ProtoVoices.Folding"],O=n["ProtoVoices.JSONTransport"],_=n["ProtoVoices.Leftmost"],J=n["ProtoVoices.Model"],k=n["ProtoVoices.Validation"],U=n["Simple.JSON"],V=n["Type.Proxy"],B=n["Web.DownloadJs"],z=n["Web.File.File"],G=n["Web.File.FileReader.Aff"],Q=function(){function n(){}return n.value=new n,n}(),j=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),K=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),X=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),Y=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),Z=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),$=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),nn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),en=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),rn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),tn=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),on=function(){function n(){}return n.value=new n,n}(),un=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),an=function(n){return function(e){return function(o){return x.li([t.class_("pure-menu-item"+(f.eq(v.eqMaybe(r.eqTab))(n.tab)(new v.Just(e))?" pure-menu-selected":""))])([x.a([t.class_("pure-menu-link"),M.onClick((function(t){return new r.SwitchTab(f.eq(v.eqMaybe(r.eqTab))(n.tab)(new v.Just(e))?v.Nothing.value:new v.Just(e))})),T.href("javascript:;")])([N.text(o)])])}}},cn=A.mkComponent({initialState:function(n){return{settings:n}},render:function(n){return x.div([t.class_("tab")])([x.p_([x.input([T.type_(N.isPropInputType)(l.InputCheckbox.value),T.checked(n.settings.flatHori),M.onChange((function(n){return Q.value})),T.name("flatHori")]),x.label([T.for("flatHori")])([N.text(" render horis flat")])]),x.p([t.class_("pure-g")])([x.label([t.class_("pure-u-1-5"),T.for("xscale")])([N.text("xscale: "+I.show(I.showNumber)(n.settings.xscale))]),x.input([t.class_("pure-u-2-5"),T.type_(N.isPropInputType)(l.InputRange.value),T.min(30),T.max(200),T.value(I.show(I.showNumber)(n.settings.xscale)),M.onValueInput(j.create),T.name("xscale")]),x.div([t.class_("pure-u-1-5")])([]),x.button([t.class_("pure-u-1-5"),M.onClick((function(n){return j.create(I.show(I.showNumber)(r.defaultSettings.xscale))}))])([N.text("Reset")])]),x.p([t.class_("pure-g")])([x.label([t.class_("pure-u-1-5"),T.for("yscale")])([N.text("yscale: "+I.show(I.showNumber)(n.settings.yscale))]),x.input([t.class_("pure-u-2-5"),T.type_(N.isPropInputType)(l.InputRange.value),T.min(30),T.max(200),T.value(I.show(I.showNumber)(n.settings.yscale)),M.onValueInput(K.create),T.name("yscale")]),x.div([t.class_("pure-u-1-5")])([]),x.button([t.class_("pure-u-1-5"),M.onClick((function(n){return K.create(I.show(I.showNumber)(r.defaultSettings.yscale))}))])([N.text("Reset")])])])},eval:A.mkEval({handleAction:function(n){return u.discard(u.discardUnit)(q.bindHalogenM)(function(){if(n instanceof Q)return a.modify_(q.monadStateHalogenM)((function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.settings=function(){var e={};for(var r in n.settings)({}).hasOwnProperty.call(n.settings,r)&&(e[r]=n.settings[r]);return e.flatHori=!n.settings.flatHori,e}(),e}));if(n instanceof j){if((e=m.fromString(n.value0))instanceof v.Nothing)return i.pure(q.applicativeHalogenM)(R.unit);if(e instanceof v.Just)return a.modify_(q.monadStateHalogenM)((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.settings=function(){var r={};for(var t in n.settings)({}).hasOwnProperty.call(n.settings,t)&&(r[t]=n.settings[t]);return r.xscale=e.value0,r}(),r}));throw new Error("Failed pattern match at App.Tabs (line 148, column 30 - line 150, column 66): "+[e.constructor.name])}if(n instanceof K){var e;if((e=m.fromString(n.value0))instanceof v.Nothing)return i.pure(q.applicativeHalogenM)(R.unit);if(e instanceof v.Just)return a.modify_(q.monadStateHalogenM)((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.settings=function(){var r={};for(var t in n.settings)({}).hasOwnProperty.call(n.settings,t)&&(r[t]=n.settings[t]);return r.yscale=e.value0,r}(),r}));throw new Error("Failed pattern match at App.Tabs (line 151, column 30 - line 153, column 66): "+[e.constructor.name])}throw new Error("Failed pattern match at App.Tabs (line 146, column 5 - line 153, column 66): "+[n.constructor.name])}())((function(){return u.bindFlipped(q.bindHalogenM)(q.raise)(a.gets(q.monadStateHalogenM)((function(n){return n.settings})))}))},handleQuery:A.defaultEval.handleQuery,receive:A.defaultEval.receive,initialize:A.defaultEval.initialize,finalize:A.defaultEval.finalize})}),ln=x.div([t.class_("tab")])([x.h2_([N.text("Manual")]),x.p_([N.text("This app can be used to create protovoice analyses of pieces.")]),x.p_([N.text("Load pieces or analyses using the Import tab. Save analyses using the Export tab.")]),x.p_([N.text("A piece is analyzed by reducing it using outer structure operations. "),N.text("Reducing a slice creates a 'split' operation, reducing a transition creates a horizontalization. "),N.text("Select a top-level slice or transition and press Enter to reduce it. "),N.text("Pressing Backspace removes the operation below the selected slice or transition, if possible. ")]),x.p_([N.text('The inner structure is determined by providing an "explanation" for every note. '),N.text("This done by selecting the parent(s) of a note: "),N.text("Click on a note in a slice below the top-level to select it. "),N.text("Then hold CTRL and click on a note in one of its parent slices. "),N.text("For notes that result from a split, you also have to provide the type of operation. "),N.text("This is automatically determined from to the selected pitches, but can be overriden if desired. "),N.text("Split notes can have either one (left/right ornament) or two parents (double-parent ornament). "),N.text('Double-parent ornaments create new "mandatory edges", which must be used in the next reduction step.'),N.text("Correctly reduced notes are shown in grey, unreduced notes are shown in black, and inconsistencies are shown in orange or red.")])]);e.renderTabs=function(n){return function(n){return function(e){return x.div_([x.div([t.class_("pure-menu pure-menu-horizontal")])([x.ul([t.class_("pure-menu-list")])([an(e)(r.ImportTab.value)("Import"),an(e)(r.ExportTab.value)("Export"),an(e)(r.HelpTab.value)("Help"),an(e)(r.SettingsTab.value)("Settings"),an(e)(r.DebugTab.value)("Debug")])]),function(){if(e.tab instanceof v.Nothing)return N.text("");if(e.tab instanceof v.Just&&e.tab.value0 instanceof r.HelpTab)return ln;if(e.tab instanceof v.Just&&e.tab.value0 instanceof r.ImportTab)return D.slot()(new C.IsSymbol((function(){return"importTab"})))(F.ordInt)(V.Proxy.value)(1)(function(n){var e,d=(e=function(e){return function(r){if(e instanceof v.Nothing)return i.pure(q.applicativeHalogenM)(R.unit);if(e instanceof v.Just)return u.bind(q.bindHalogenM)(E.liftAff(q.monadAffHalogenM(n))(G.readAsText(z.toBlob(e.value0))))((function(n){return d(r(n))}));throw new Error("Failed pattern match at App.Tabs (line 252, column 25 - line 256, column 40): "+[e.constructor.name])}},function(n){if(n instanceof X)return a.modify_(q.monadStateHalogenM)((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.modelText=n.value0,r}));if(n instanceof Y)return a.modify_(q.monadStateHalogenM)((function(e){var r={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.pieceText=n.value0,r}));if(n instanceof Z)return e(n.value0)(X.create);if(n instanceof $)return e(n.value0)(Y.create);if(n instanceof nn)return q.raise(new r.ImportPiece(n.value0));if(n instanceof en)return q.raise(new r.ImportModel(n.value0));throw new Error("Failed pattern match at App.Tabs (line 244, column 24 - line 250, column 49): "+[n.constructor.name])});return A.mkComponent({initialState:function(n){return{modelText:"",pieceText:""}},render:function(n){var e=function(){var e=U.readJSON(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"notes"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"hold"})))(U.readBoolean)(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(U.readString)(U.readFieldsNil)()())()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"time"})))(U.readString)(U.readFieldsNil)()())()())))(n.pieceText);if(e instanceof s.Right){if((r=O.pieceFromJSON(e.value0))instanceof v.Just)return s.Right.create(s.Right.create(J.loadPiece(r.value0)));if(r instanceof v.Nothing)return new s.Left("Invalid piece!");throw new Error("Failed pattern match at App.Tabs (line 233, column 21 - line 235, column 41): "+[r.constructor.name])}if(e instanceof s.Left){var r;if((r=U.readJSON(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"notes"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"hold"})))(U.readBoolean)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(U.readString)(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"time"})))(U.readString)(U.readFieldsNil)()())()())))(n.pieceText))instanceof s.Right){var t=O.pieceFromJSON(O.addJSONIds(r.value0));if(t instanceof v.Just)return s.Right.create(s.Left.create(J.loadPiece(t.value0)));if(t instanceof v.Nothing)return new s.Left("Invalid piece!");throw new Error("Failed pattern match at App.Tabs (line 237, column 28 - line 239, column 43): "+[t.constructor.name])}if(r instanceof s.Left)return o.showJSONErrors(p.foldableNonEmptyList)(p.functorNonEmptyList)(f.eq(p.eqNonEmptyList(P.eqForeignError))(e.value0)(r.value0)?e.value0:b.append(p.semigroupNonEmptyList)(e.value0)(r.value0));throw new Error("Failed pattern match at App.Tabs (line 236, column 21 - line 240, column 88): "+[r.constructor.name])}throw new Error("Failed pattern match at App.Tabs (line 232, column 19 - line 240, column 88): "+[e.constructor.name])}(),r=s.either(o.showJSONErrors(p.foldableNonEmptyList)(p.functorNonEmptyList))(O.modelFromJSON)(U.readJSON(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"derivation"})))(U.readArray(U.readForeignVariant()(U.readVariantCons(new C.IsSymbol((function(){return"freezeLeft"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"prevTime"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"ties"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))()(U.readVariantCons(new C.IsSymbol((function(){return"freezeOnly"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"prevTime"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"ties"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))()(U.readVariantCons(new C.IsSymbol((function(){return"hori"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readForeignVariant()(U.readVariantCons(new C.IsSymbol((function(){return"bothChildren"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()()))()(U.readVariantCons(new C.IsSymbol((function(){return"leftChild"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))()(U.readVariantCons(new C.IsSymbol((function(){return"rightChild"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))()(U.readVariantCons(new C.IsSymbol((function(){return"tooManyChildren"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))()(U.readVariantNil))))))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"ids"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"lslice"})))(J.readForeignSliceId)(U.readFieldsCons(new C.IsSymbol((function(){return"mid"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"rslice"})))(J.readForeignSliceId)(U.readFieldsNil)()())()())()())()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"midEdges"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"passing"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"regular"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"unexplained"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())()())()()))()(U.readVariantCons(new C.IsSymbol((function(){return"splitLeft"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"fromLeft"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"fromRight"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"ids"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"slice"})))(J.readForeignSliceId)(U.readFieldsNil)()())()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"keepLeft"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"keepRight"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"passing"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"regular"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"unexplained"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())()())()())()())()())()())()()))()(U.readVariantCons(new C.IsSymbol((function(){return"splitOnly"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"fromLeft"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"fromRight"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"ids"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"slice"})))(J.readForeignSliceId)(U.readFieldsNil)()())()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"keepLeft"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"keepRight"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"passing"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"regular"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"unexplained"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())()())()())()())()())()())()()))()(U.readVariantCons(new C.IsSymbol((function(){return"splitRight"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"fromLeft"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"fromRight"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"ids"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"slice"})))(J.readForeignSliceId)(U.readFieldsNil)()())()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"keepLeft"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"keepRight"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"passing"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"regular"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"children"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"child"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"orn"})))(U.readMaybe(U.readString))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"parent"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"unexplained"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())()())()())()())()())()())()()))()(U.readVariantNil)))))))))(U.readFieldsCons(new C.IsSymbol((function(){return"start"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(J.readForeignSliceId)(U.readFieldsCons(new C.IsSymbol((function(){return"notes"})))(J.readForeignStartStop(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"topSegments"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"rslice"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(J.readForeignSliceId)(U.readFieldsCons(new C.IsSymbol((function(){return"notes"})))(J.readForeignStartStop(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()()))))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"trans"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"edges"})))(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"passing"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"regular"})))(U.readArray(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"left"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsCons(new C.IsSymbol((function(){return"right"})))(J.readForeignStartStop(U.readRecord()(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(U.readString)(U.readFieldsCons(new C.IsSymbol((function(){return"pitch"})))(S.readForeignPitch(y.readForeignSPitch))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()()))(U.readFieldsCons(new C.IsSymbol((function(){return"id"})))(J.readForeignTransId)(U.readFieldsCons(new C.IsSymbol((function(){return"is2nd"})))(U.readBoolean)(U.readFieldsNil)()())()())()()))(U.readFieldsNil)()())()())))(U.readFieldsNil)()())()())()()))(n.modelText));return x.div([t.class_("tab")])([x.button([t.class_("pure-button"),M.onClick((function(n){return new nn(o.examplePiece)}))])([N.text("Load Example")]),x.button([t.class_("pure-button"),M.onClick((function(n){return new nn(o.examplePieceLong)}))])([N.text("Load Example (Long)")]),x.div_([x.h3_([N.text("Import Piece")]),x.div_([x.label([T.for("upload-piece")])([N.text("Choose a file: ")]),x.input([T.type_(N.isPropInputType)(l.InputFile.value),T.name("upload-piece"),T.accept([new c.AcceptFileExtension(".json")]),M.onFileUpload(p.unfoldableList)((function(n){return $.create(g.head(n))}))])]),x.p_([N.text("or enter JSON directly:")]),x.textarea([T.value(n.pieceText),M.onValueInput(Y.create)]),function(){if(""===n.pieceText)return N.text("");if(e instanceof s.Left)return x.p([t.class_("alert")])([N.text("Invalid input:  "),x.pre_([N.text(e.value0)])]);if(e instanceof s.Right){if(e.value0 instanceof s.Left)return x.div_([x.p_([N.text("Input valid, but no (or not all) IDs were given. Use generated IDs?")]),x.button([t.class_("pure-button pure-button-primary"),M.onClick(w.const(new en(e.value0.value0)))])([N.text("Import Piece (New IDs)")])]);if(e.value0 instanceof s.Right)return x.div_([x.p_([N.text("Input valid!")]),x.button([t.class_("pure-button pure-button-primary"),M.onClick(w.const(new en(e.value0.value0)))])([N.text("Import Piece")])]);throw new Error("Failed pattern match at App.Tabs (line 192, column 30 - line 204, column 22): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at App.Tabs (line 190, column 18 - line 204, column 22): "+[e.constructor.name])}()]),x.div_([x.h3_([N.text("Import Analysis")]),x.div_([x.label([T.for("upload-analysis")])([N.text("Choose a file: ")]),x.input([T.type_(N.isPropInputType)(l.InputFile.value),T.name("upload-analysis"),T.accept([new c.AcceptFileExtension(".json")]),M.onFileUpload(p.unfoldableList)((function(n){return Z.create(g.head(n))}))])]),x.p_([N.text("or enter JSON directly:")]),x.textarea([T.value(n.modelText),M.onValueInput(X.create)]),function(){if(""===n.modelText)return N.text("");if(r instanceof s.Left)return x.p([t.class_("alert")])([N.text("Invalid input:  "),x.pre_([N.text(r.value0)])]);if(r instanceof s.Right)return x.div_([x.p_([N.text("Input valid!")]),x.button([t.class_("pure-button pure-button-primary"),M.onClick(w.const(new en(r.value0)))])([N.text("Import Analysis")])]);throw new Error("Failed pattern match at App.Tabs (line 221, column 18 - line 228, column 20): "+[r.constructor.name])}()])])},eval:A.mkEval({handleAction:d,handleQuery:A.defaultEval.handleQuery,receive:A.defaultEval.receive,initialize:A.defaultEval.initialize,finalize:A.defaultEval.finalize})})}(n))(R.unit)(r.HandleImport.create);if(e.tab instanceof v.Just&&e.tab.value0 instanceof r.ExportTab)return D.slot_()(new C.IsSymbol((function(){return"exportTab"})))(F.ordInt)(V.Proxy.value)(0)(function(n){return A.mkComponent({initialState:function(n){return{model:n,pretty:!1}},render:function(n){if(n.model instanceof v.Nothing)return N.text("");if(n.model instanceof v.Just){var e=k.validateReduction(n.model.value0.reduction),r=O.modelToJSON(n.model.value0),o=h.map(s.functorEither)(n.pretty?O.writeJSONPretty(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"derivation"})))(U.writeForeignArray(U.writeForeignVariant()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"freezeLeft"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"prevTime"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"ties"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"freezeOnly"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"prevTime"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"ties"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"hori"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.writeForeignVariant()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"bothChildren"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"leftChild"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"rightChild"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"tooManyChildren"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))()(U.nilWriteForeignVariant))))))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"ids"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"lslice"})))(J.writeForeignSliceId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"mid"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"rslice"})))(J.writeForeignSliceId)(U.nilWriteForeignFields)()()())()()())()()())()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"midEdges"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"unexplained"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"splitLeft"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"ids"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"slice"})))(J.writeForeignSliceId)(U.nilWriteForeignFields)()()())()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"unexplained"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"splitOnly"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"ids"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"slice"})))(J.writeForeignSliceId)(U.nilWriteForeignFields)()()())()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"unexplained"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"splitRight"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"ids"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"slice"})))(J.writeForeignSliceId)(U.nilWriteForeignFields)()()())()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"unexplained"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(U.nilWriteForeignVariant)))))))))(U.consWriteForeignFields(new C.IsSymbol((function(){return"start"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(J.writeForeignSliceId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"notes"})))(J.writeForeignStartStop(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"topSegments"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"rslice"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(J.writeForeignSliceId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"notes"})))(J.writeForeignStartStop(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"trans"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"edges"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"is2nd"})))(U.writeForeignBoolean)(U.nilWriteForeignFields)()()())()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())()()())):U.writeJSON(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"derivation"})))(U.writeForeignArray(U.writeForeignVariant()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"freezeLeft"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"prevTime"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"ties"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"freezeOnly"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"prevTime"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"ties"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"hori"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.writeForeignVariant()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"bothChildren"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"leftChild"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"rightChild"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"tooManyChildren"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))()(U.nilWriteForeignVariant))))))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"ids"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"lslice"})))(J.writeForeignSliceId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"mid"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"rslice"})))(J.writeForeignSliceId)(U.nilWriteForeignFields)()()())()()())()()())()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"midEdges"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"unexplained"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"splitLeft"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"ids"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"slice"})))(J.writeForeignSliceId)(U.nilWriteForeignFields)()()())()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"unexplained"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"splitOnly"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"ids"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"slice"})))(J.writeForeignSliceId)(U.nilWriteForeignFields)()()())()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"unexplained"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(U.consWriteForeignVariant(new C.IsSymbol((function(){return"splitRight"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"fromRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"ids"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"slice"})))(J.writeForeignSliceId)(U.nilWriteForeignFields)()()())()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepLeft"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"keepRight"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"children"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"child"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"orn"})))(U.writeForeignMaybe(U.writeForeignString))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"parent"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"unexplained"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()()))()(U.nilWriteForeignVariant)))))))))(U.consWriteForeignFields(new C.IsSymbol((function(){return"start"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(J.writeForeignSliceId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"notes"})))(J.writeForeignStartStop(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"topSegments"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"rslice"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(J.writeForeignSliceId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"notes"})))(J.writeForeignStartStop(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()()))))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"trans"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"edges"})))(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"passing"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"regular"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"left"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"right"})))(J.writeForeignStartStop(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(S.writeForeignPitch(y.writeForeignSPitch))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()()))(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(J.writeForeignTransId)(U.consWriteForeignFields(new C.IsSymbol((function(){return"is2nd"})))(U.writeForeignBoolean)(U.nilWriteForeignFields)()()())()()())()()()))(U.nilWriteForeignFields)()()())()()())))(U.nilWriteForeignFields)()()())()()())()()())))(r),i=u.bindFlipped(s.bindEither)(O.modelFromJSON)(r);return x.div([t.class_("tab")])([k.validationIsOk(e)?N.text(""):x.p([t.class_("alert")])([N.text("Warning: reduction is incomplete and/or contains errors.")]),x.h3_([N.text("JSON String")]),function(){if(o instanceof s.Right)return x.div_([x.div([t.class_("pure-g")])([x.div([t.class_("pure-u-3-5")])([x.input([T.type_(N.isPropInputType)(l.InputCheckbox.value),T.checked(n.pretty),M.onChange((function(n){return on.value})),T.name("prettyJSON")]),x.label([T.for("prettyJSON")])([N.text(" pretty")])]),x.button([t.class_("pure-button pure-u-1-5"),M.onClick((function(n){return new rn(o.value0)}))])([N.text("Copy to Clipboard")]),x.button([t.class_("pure-button pure-button-primary pure-u-1-5"),M.onClick((function(n){return new tn("analysis.json",o.value0)}))])([N.text("Download")])]),x.pre_([N.text(o.value0)])]);if(o instanceof s.Left)return x.p([t.class_("alert")])([N.text("Cannot serialize reduction to JSON:"+o.value0)]);throw new Error("Failed pattern match at App.Tabs (line 299, column 13 - line 325, column 109): "+[o.constructor.name])}(),x.div_(function(){if(i instanceof s.Left)return[N.text("Error re-reading reduction: "+i.value0)];if(i instanceof s.Right){if(f.eq(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"reduction"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"start"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"x"})))(f.eqNumber))()(new C.IsSymbol((function(){return"parents"})))(J.eqParents(J.eqSliceId)))()(new C.IsSymbol((function(){return"notes"})))(J.eqStartStop(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"note"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))()(new C.IsSymbol((function(){return"expl"})))(J.eqNoteExplanation))))))()(new C.IsSymbol((function(){return"id"})))(J.eqSliceId))))()(new C.IsSymbol((function(){return"segments"})))(p.eqList(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"trans"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"is2nd"})))(f.eqBoolean))()(new C.IsSymbol((function(){return"id"})))(J.eqTransId))()(new C.IsSymbol((function(){return"edges"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"regular"})))(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"right"})))(J.eqStartStop(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString)))))()(new C.IsSymbol((function(){return"left"})))(J.eqStartStop(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))))))()(new C.IsSymbol((function(){return"passing"})))(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"right"})))(J.eqStartStop(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString)))))()(new C.IsSymbol((function(){return"left"})))(J.eqStartStop(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))))))))))()(new C.IsSymbol((function(){return"rslice"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"x"})))(f.eqNumber))()(new C.IsSymbol((function(){return"parents"})))(J.eqParents(J.eqSliceId)))()(new C.IsSymbol((function(){return"notes"})))(J.eqStartStop(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"note"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))()(new C.IsSymbol((function(){return"expl"})))(J.eqNoteExplanation))))))()(new C.IsSymbol((function(){return"id"})))(J.eqSliceId))))()(new C.IsSymbol((function(){return"op"})))(J.eqOp)))))()(new C.IsSymbol((function(){return"nextTransId"})))(J.eqTransId))()(new C.IsSymbol((function(){return"nextSliceId"})))(J.eqSliceId))))()(new C.IsSymbol((function(){return"piece"})))(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"time"})))(s.eqEither(f.eqString)(L.eqMBS)))()(new C.IsSymbol((function(){return"notes"})))(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"note"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))()(new C.IsSymbol((function(){return"hold"})))(f.eqBoolean)))))))))(i.value0)(n.model.value0))return[N.text("roundtrip ok")];if(f.notEq(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"time"})))(s.eqEither(f.eqString)(L.eqMBS)))()(new C.IsSymbol((function(){return"notes"})))(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"note"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))()(new C.IsSymbol((function(){return"hold"})))(f.eqBoolean)))))))(i.value0.piece)(n.model.value0.piece))return[N.text("pieces are different! original"),x.pre_([N.text(I.show(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"time"})))(I.showRecordFieldsNil)(s.showEither(I.showString)(L.showMBS)))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"hold"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(I.showBoolean)))))))(n.model.value0.piece))]),N.text("re-read:"),x.pre_([N.text(I.show(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"time"})))(I.showRecordFieldsNil)(s.showEither(I.showString)(L.showMBS)))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"hold"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(I.showBoolean)))))))(i.value0.piece))])];var e=d.find(p.foldableList)((function(n){return f.notEq(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"trans"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"is2nd"})))(f.eqBoolean))()(new C.IsSymbol((function(){return"id"})))(J.eqTransId))()(new C.IsSymbol((function(){return"edges"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"regular"})))(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"right"})))(J.eqStartStop(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString)))))()(new C.IsSymbol((function(){return"left"})))(J.eqStartStop(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))))))()(new C.IsSymbol((function(){return"passing"})))(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"right"})))(J.eqStartStop(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString)))))()(new C.IsSymbol((function(){return"left"})))(J.eqStartStop(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))))))))))()(new C.IsSymbol((function(){return"rslice"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"x"})))(f.eqNumber))()(new C.IsSymbol((function(){return"parents"})))(J.eqParents(J.eqSliceId)))()(new C.IsSymbol((function(){return"notes"})))(J.eqStartStop(f.eqArray(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"note"})))(f.eqRec()(f.eqRowCons(f.eqRowCons(f.eqRowNil)()(new C.IsSymbol((function(){return"pitch"})))(S.eqPitch(y.eqSInterval)))()(new C.IsSymbol((function(){return"id"})))(f.eqString))))()(new C.IsSymbol((function(){return"expl"})))(J.eqNoteExplanation))))))()(new C.IsSymbol((function(){return"id"})))(J.eqSliceId))))()(new C.IsSymbol((function(){return"op"})))(J.eqOp)))(n.value0)(n.value1)}))(g.zip(n.model.value0.reduction.segments)(i.value0.reduction.segments));if(e instanceof v.Nothing)return[N.text("roundtrip not ok (but can't find wrong segment)! original:"),x.pre_([N.text(I.show(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"piece"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"reduction"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"nextSliceId"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"nextTransId"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"segments"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"start"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"parents"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"x"})))(I.showRecordFieldsNil)(I.showNumber))(J.showParents(J.showSliceId)))(J.showStartStop(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"expl"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(J.showNoteExplanation))))))(J.showSliceId))))(p.showList(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"op"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"rslice"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"trans"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"edges"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"is2nd"})))(I.showRecordFieldsNil)(I.showBoolean))(J.showTransId))(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"passing"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"regular"})))(I.showRecordFieldsNil)(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"left"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"right"})))(I.showRecordFieldsNil)(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString)))))(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))))))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"left"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"right"})))(I.showRecordFieldsNil)(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString)))))(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))))))))))(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"parents"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"x"})))(I.showRecordFieldsNil)(I.showNumber))(J.showParents(J.showSliceId)))(J.showStartStop(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"expl"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(J.showNoteExplanation))))))(J.showSliceId))))(J.showOp)))))(J.showTransId))(J.showSliceId))))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"time"})))(I.showRecordFieldsNil)(s.showEither(I.showString)(L.showMBS)))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"hold"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(I.showBoolean)))))))))(n.model.value0))]),N.text("re-read:"),x.pre_([N.text(I.show(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"piece"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"reduction"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"nextSliceId"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"nextTransId"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"segments"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"start"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"parents"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"x"})))(I.showRecordFieldsNil)(I.showNumber))(J.showParents(J.showSliceId)))(J.showStartStop(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"expl"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(J.showNoteExplanation))))))(J.showSliceId))))(p.showList(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"op"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"rslice"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"trans"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"edges"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"is2nd"})))(I.showRecordFieldsNil)(I.showBoolean))(J.showTransId))(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"passing"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"regular"})))(I.showRecordFieldsNil)(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"left"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"right"})))(I.showRecordFieldsNil)(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString)))))(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))))))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"left"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"right"})))(I.showRecordFieldsNil)(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString)))))(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))))))))))(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"parents"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"x"})))(I.showRecordFieldsNil)(I.showNumber))(J.showParents(J.showSliceId)))(J.showStartStop(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"expl"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(J.showNoteExplanation))))))(J.showSliceId))))(J.showOp)))))(J.showTransId))(J.showSliceId))))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"time"})))(I.showRecordFieldsNil)(s.showEither(I.showString)(L.showMBS)))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"hold"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(I.showBoolean)))))))))(i.value0))])];if(e instanceof v.Just)return[N.text("roundtrip not ok! offending segment original: "),x.pre_([N.text(I.show(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"op"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"rslice"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"trans"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"edges"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"is2nd"})))(I.showRecordFieldsNil)(I.showBoolean))(J.showTransId))(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"passing"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"regular"})))(I.showRecordFieldsNil)(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"left"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"right"})))(I.showRecordFieldsNil)(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString)))))(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))))))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"left"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"right"})))(I.showRecordFieldsNil)(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString)))))(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))))))))))(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"parents"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"x"})))(I.showRecordFieldsNil)(I.showNumber))(J.showParents(J.showSliceId)))(J.showStartStop(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"expl"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(J.showNoteExplanation))))))(J.showSliceId))))(J.showOp)))(e.value0.value0))]),N.text(" re-read:"),x.pre_([N.text(I.show(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"op"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"rslice"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"trans"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"edges"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"is2nd"})))(I.showRecordFieldsNil)(I.showBoolean))(J.showTransId))(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"passing"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"regular"})))(I.showRecordFieldsNil)(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"left"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"right"})))(I.showRecordFieldsNil)(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString)))))(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))))))(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"left"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"right"})))(I.showRecordFieldsNil)(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString)))))(J.showStartStop(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))))))))))(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"notes"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"parents"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"x"})))(I.showRecordFieldsNil)(I.showNumber))(J.showParents(J.showSliceId)))(J.showStartStop(I.showArray(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"expl"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"note"})))(I.showRecordFieldsNil)(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"id"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"pitch"})))(I.showRecordFieldsNil)(S.showPitchInst(y.showpitchSInterval)))(I.showString))))(J.showNoteExplanation))))))(J.showSliceId))))(J.showOp)))(e.value0.value1))])];throw new Error("Failed pattern match at App.Tabs (line 337, column 22 - line 349, column 22): "+[e.constructor.name])}throw new Error("Failed pattern match at App.Tabs (line 326, column 21 - line 349, column 22): "+[i.constructor.name])}())])}throw new Error("Failed pattern match at App.Tabs (line 281, column 42 - line 350, column 12): "+[n.model.constructor.name])},eval:A.mkEval({handleAction:function(e){if(e instanceof rn)return W.liftEffect(q.monadEffectHalogenM(n))(o.copyToClipboard(e.value0));if(e instanceof tn)return u.bind(q.bindHalogenM)(W.liftEffect(q.monadEffectHalogenM(n))(B.download(B.dlString)(e.value1)(e.value0)("application/json")))((function(){return i.pure(q.applicativeHalogenM)(R.unit)}));if(e instanceof on)return a.modify_(q.monadStateHalogenM)((function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.pretty=!n.pretty,e}));if(e instanceof un)return a.modify_(q.monadStateHalogenM)((function(n){var r={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.model=e.value0,r}));throw new Error("Failed pattern match at App.Tabs (line 352, column 24 - line 358, column 59): "+[e.constructor.name])},handleQuery:A.defaultEval.handleQuery,receive:function(n){return v.Just.create(un.create(n))},initialize:A.defaultEval.initialize,finalize:A.defaultEval.finalize})})}(n.MonadEffect0()))(e.model);if(e.tab instanceof v.Just&&e.tab.value0 instanceof r.SettingsTab)return D.slot()(new C.IsSymbol((function(){return"settingsTab"})))(F.ordInt)(V.Proxy.value)(2)(cn)(e.settings)(r.HandleSettings.create);if(e.tab instanceof v.Just&&e.tab.value0 instanceof r.DebugTab)return function(n){return x.div([t.class_("tab")])([x.h3_([N.text("Selection")]),x.p_([N.text("Selection: "),N.text(I.show(r.showOuterSelection)(n.selected))]),x.h3_([N.text("Settings")]),x.p_([N.text(I.show(I.showRecord()(I.showRecordFieldsCons(new C.IsSymbol((function(){return"flatHori"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"xscale"})))(I.showRecordFieldsCons(new C.IsSymbol((function(){return"yscale"})))(I.showRecordFieldsNil)(I.showNumber))(I.showNumber))(I.showBoolean)))(n.settings))]),x.h3_([N.text("Reduction Steps")]),function(){if(n.model instanceof v.Nothing)return N.text("No active reduction.");if(n.model instanceof v.Just){var e=H.reductionToLeftmost(n.model.value0);if(e instanceof s.Right)return x.ol_(h.map(h.functorArray)((function(n){return x.li_([N.text(I.show(_.showLeftmost(_.showSplitOp)(_.showFreezeOp)(_.showHoriOp))(n))])}))(e.value0));if(e instanceof s.Left)return x.p([t.class_("alert")])([N.text("Warning: reduction cannot be turned into leftmost derivation: "+e.value0)]);throw new Error("Failed pattern match at App.Tabs (line 375, column 23 - line 377, column 132): "+[e.constructor.name])}throw new Error("Failed pattern match at App.Tabs (line 373, column 7 - line 377, column 132): "+[n.model.constructor.name])}(),x.h3_([N.text("Piece JSON")]),function(){if(n.model instanceof v.Nothing)return N.text("No active piece.");if(n.model instanceof v.Just)return x.div_([x.p_([N.text("with IDs:")]),x.pre_([N.text(U.writeJSON(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"notes"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"hold"})))(U.writeForeignBoolean)(U.consWriteForeignFields(new C.IsSymbol((function(){return"id"})))(U.writeForeignString)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(U.writeForeignString)(U.nilWriteForeignFields)()()())()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"time"})))(U.writeForeignString)(U.nilWriteForeignFields)()()())()()())))(O.pieceToJSON(n.model.value0.piece)))]),x.p_([N.text("without IDs:")]),x.pre_([N.text(U.writeJSON(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"notes"})))(U.writeForeignArray(U.recordWriteForeign()(U.consWriteForeignFields(new C.IsSymbol((function(){return"hold"})))(U.writeForeignBoolean)(U.consWriteForeignFields(new C.IsSymbol((function(){return"pitch"})))(U.writeForeignString)(U.nilWriteForeignFields)()()())()()())))(U.consWriteForeignFields(new C.IsSymbol((function(){return"time"})))(U.writeForeignString)(U.nilWriteForeignFields)()()())()()())))(O.stripJSONIds(O.pieceToJSON(n.model.value0.piece))))])]);throw new Error("Failed pattern match at App.Tabs (line 379, column 7 - line 387, column 14): "+[n.model.constructor.name])}()])}(e);throw new Error("Failed pattern match at App.Tabs (line 56, column 7 - line 62, column 43): "+[e.tab.constructor.name])}()])}}}}(r),function(n){n.log=function(n){return function(){console.log(n)}},n.warn=function(n){return function(){console.warn(n)}}}(r["Effect.Console"]=r["Effect.Console"]||{}),function(n){n["Effect.Console"]=n["Effect.Console"]||{};var e=n["Effect.Console"],r=n["Effect.Console"];e.log=r.log,e.warn=r.warn}(r),function(n){n["Effect.Class.Console"]=n["Effect.Class.Console"]||{};var e=n["Effect.Class.Console"],r=n["Effect.Class"],t=n["Effect.Console"];e.log=function(n){var e=r.liftEffect(n);return function(n){return e(t.log(n))}}}(r),function(n){n._querySelector=function(n){return function(e){return function(){return e.querySelector(n)}}}}(r["Web.DOM.ParentNode"]=r["Web.DOM.ParentNode"]||{}),function(n){n["Web.DOM.ParentNode"]=n["Web.DOM.ParentNode"]||{};var e=n["Web.DOM.ParentNode"],r=n["Web.DOM.ParentNode"],t=n["Data.Functor"],o=n["Data.Nullable"],i=n.Effect;e.querySelector=function(n){var e=t.map(i.functorEffect)(o.toMaybe),u=r._querySelector(n);return function(n){return e(u(n))}}}(r),function(n){n.window=function(){return window}}(r["Web.HTML"]=r["Web.HTML"]||{}),function(n){n["Web.HTML"]=n["Web.HTML"]||{};var e=n["Web.HTML"],r=n["Web.HTML"];e.window=r.window}(r),function(n){n._readyState=function(n){return function(){return n.readyState}}}(r["Web.HTML.HTMLDocument"]=r["Web.HTML.HTMLDocument"]||{}),function(n){n["Web.HTML.HTMLDocument.ReadyState"]=n["Web.HTML.HTMLDocument.ReadyState"]||{};var e=n["Web.HTML.HTMLDocument.ReadyState"],r=n["Data.Maybe"],t=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}();e.Loading=t,e.parse=function(n){return"loading"===n?new r.Just(t.value):"interactive"===n?new r.Just(o.value):"complete"===n?new r.Just(i.value):r.Nothing.value}}(r),function(n){n["Web.HTML.HTMLDocument"]=n["Web.HTML.HTMLDocument"]||{};var e,r,t=n["Web.HTML.HTMLDocument"],o=n["Web.HTML.HTMLDocument"],i=n["Data.Functor"],u=n["Data.Maybe"],a=n.Effect,c=n["Unsafe.Coerce"],l=n["Web.HTML.HTMLDocument.ReadyState"],s=c.unsafeCoerce,f=c.unsafeCoerce,d=c.unsafeCoerce,w=(r=i.map(a.functorEffect)((e=u.fromMaybe(l.Loading.value),function(n){return e(l.parse(n))})),function(n){return r(o._readyState(n))});t.toDocument=d,t.toParentNode=s,t.toEventTarget=f,t.readyState=w}(r),function(n){n._read=function(n,e,r){var t=Object.prototype.toString.call(r);return 0===t.indexOf("[object HTML")&&t.indexOf("Element]")===t.length-8?e(r):n}}(r["Web.HTML.HTMLElement"]=r["Web.HTML.HTMLElement"]||{}),function(n){n["Web.HTML.HTMLElement"]=n["Web.HTML.HTMLElement"]||{};var e=n["Web.HTML.HTMLElement"],r=n["Web.HTML.HTMLElement"],t=n["Data.Maybe"],o=n["Unsafe.Coerce"].unsafeCoerce;e.fromElement=function(n){return r._read(t.Nothing.value,t.Just.create,n)},e.toNode=o}(r),function(n){n.document=function(n){return function(){return n.document}}}(r["Web.HTML.Window"]=r["Web.HTML.Window"]||{}),function(n){n["Web.HTML.Window"]=n["Web.HTML.Window"]||{};var e=n["Web.HTML.Window"],r=n["Web.HTML.Window"],t=n["Unsafe.Coerce"].unsafeCoerce;e.toEventTarget=t,e.document=r.document}(r),function(n){n["Halogen.Aff.Util"]=n["Halogen.Aff.Util"]||{};var e=n["Halogen.Aff.Util"],r=n["Control.Applicative"],t=n["Control.Bind"],o=n["Data.Either"],i=n["Data.Function"],u=n["Data.Functor"],a=n["Data.Maybe"],c=n["Data.Unit"],l=n.Effect,s=n["Effect.Aff"],f=n["Effect.Class"],d=n["Effect.Exception"],w=n["Web.DOM.ParentNode"],h=n["Web.Event.EventTarget"],g=n["Web.HTML"],p=n["Web.HTML.Event.EventTypes"],v=n["Web.HTML.HTMLDocument"],m=n["Web.HTML.HTMLDocument.ReadyState"],F=n["Web.HTML.HTMLElement"],S=n["Web.HTML.Window"],y=s.runAff_(o.either(d.throwException)(i.const(r.pure(l.applicativeEffect)(c.unit)))),b=s.makeAff((function(n){return function(){if(t.bindFlipped(l.bindEffect)(v.readyState)(t.bindFlipped(l.bindEffect)(S.document)(g.window))()instanceof m.Loading){var e=u.map(l.functorEffect)(S.toEventTarget)(g.window)(),r=h.eventListener((function(e){return n(new o.Right(c.unit))}))();return h.addEventListener(p.domcontentloaded)(r)(!1)(e)(),s.effectCanceler(h.removeEventListener(p.domcontentloaded)(r)(!1)(e))}return n(new o.Right(c.unit))(),s.nonCanceler}}));e.awaitLoad=b,e.selectElement=function(n){return t.bind(s.bindAff)(f.liftEffect(s.monadEffectAff)(t.bindFlipped(l.bindEffect)(t.composeKleisliFlipped(l.bindEffect)((e=w.querySelector(n),function(n){return e(v.toParentNode(n))}))(S.document))(g.window)))((function(n){return r.pure(s.applicativeAff)(t.bindFlipped(a.bindMaybe)(F.fromElement)(n))}));var e},e.runHalogenAff=y}(r),function(n){n.reallyUnsafeRefEq=function(n){return function(e){return n===e}}}(r["Unsafe.Reference"]=r["Unsafe.Reference"]||{}),function(n){n["Unsafe.Reference"]=n["Unsafe.Reference"]||{};var e=n["Unsafe.Reference"],r=n["Unsafe.Reference"].reallyUnsafeRefEq;e.unsafeRefEq=r}(r),function(n){n["Halogen.Subscription"]=n["Halogen.Subscription"]||{};var e=n["Halogen.Subscription"],r=n["Control.Bind"],t=n["Data.Array"],o=n["Data.Foldable"],i=n["Data.Functor"],u=n["Data.Semigroup"],a=n.Effect,c=n["Effect.Ref"],l=n["Safe.Coerce"],s=n["Unsafe.Reference"],f=l.coerce();e.create=function(){var n=c.new([])();return{emitter:function(e){return function(){return c.modify_((function(n){return u.append(u.semigroupArray)(n)([e])}))(n)(),c.modify_(t.deleteBy(s.unsafeRefEq)(e))(n)}},listener:function(e){return r.bind(a.bindEffect)(c.read(n))(o.traverse_(a.applicativeEffect)(o.foldableArray)((function(n){return n(e)})))}}},e.notify=function(n){return function(e){return n(e)}},e.makeEmitter=f,e.subscribe=function(n){return function(e){return n((r=i.void(a.functorEffect),function(n){return r(e(n))}));var r}},e.unsubscribe=function(n){return n}}(r),function(n){n["Halogen.Query.Event"]=n["Halogen.Query.Event"]||{};var e=n["Halogen.Query.Event"],r=n["Data.Foldable"],t=n.Effect,o=n["Halogen.Subscription"],i=n["Web.Event.EventTarget"];e.eventListener=function(n){return function(e){return function(u){return o.makeEmitter((function(o){return function(){var a=i.eventListener((function(n){return r.traverse_(t.applicativeEffect)(r.foldableMaybe)(o)(u(n))}))();return i.addEventListener(n)(a)(!1)(e)(),i.removeEventListener(n)(a)(!1)(e)}}))}}}}(r),function(n){n["Control.Monad.Fork.Class"]=n["Control.Monad.Fork.Class"]||{};var e=n["Control.Monad.Fork.Class"],r=n["Effect.Aff"],t=new function(n,e,r,t,o){this.Functor1=n,this.Monad0=e,this.fork=r,this.join=t,this.suspend=o}((function(){return r.functorFiber}),(function(){return r.monadAff}),r.forkAff,r.joinFiber,r.suspendAff);e.fork=function(n){return n.fork},e.monadForkAff=t}(r),function(n){n["Control.Applicative.Free"]=n["Control.Applicative.Free"]||{};var e=n["Control.Applicative.Free"],r=n["Control.Applicative"],t=n["Control.Apply"],o=n["Control.Category"],i=n["Data.Either"],u=n["Data.Functor"],a=n["Data.List.NonEmpty"],c=n["Data.List.Types"],l=n["Data.NonEmpty"],s=n["Data.Tuple"],f=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),d=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),w=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(r){return new n(e,r)}},n}(),h=function(n){return function(e){return new w(n,e)}},g=d.create,p=function(n){return function(e){return function(r){return function(o){var u,a=n,f=e,d=r,w=!1;function h(n,e,r,u){if(e instanceof c.Nil)return w=!0,new i.Left(u);if(e instanceof c.Cons){var h=t.apply(n.Apply0())(e.value0.func)(u);if(1===e.value0.count)return e.value1 instanceof c.Nil?(w=!0,new i.Left(h)):(a=n,f=e.value1,d=r,void(o=h));if(r instanceof c.Nil)return w=!0,new i.Left(h);if(r instanceof c.Cons)return w=!0,i.Right.create(new s.Tuple(new c.Cons({func:h,count:e.value0.count-1|0},e.value1),new l.NonEmpty(r.value0,r.value1)));throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): "+[r.constructor.name])}throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): "+[e.constructor.name])}for(;!w;)u=h(a,f,d,o);return u}}}},v=new u.Functor((function(n){return function(e){return h(new f(n))(e)}})),m=function(n){return function(e){return function(t){return function(t){var o,u=!1;function h(o){if(o.value1.value0 instanceof f){if((h=p(n)(o.value0)(o.value1.value1)(r.pure(n)(o.value1.value0.value0)))instanceof i.Left)return u=!0,h.value0;if(h instanceof i.Right)return void(t=h.value0);throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): "+[h.constructor.name])}if(o.value1.value0 instanceof d){var h;if((h=p(n)(o.value0)(o.value1.value1)(e(o.value1.value0.value0)))instanceof i.Left)return u=!0,h.value0;if(h instanceof i.Right)return void(t=h.value0);throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): "+[h.constructor.name])}var g;if(!(o.value1.value0 instanceof w))throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): "+[o.value1.value0.constructor.name]);var v=new l.NonEmpty(o.value1.value0.value1,o.value1.value1);t=(g=n,function(n){return function(e){return function(t){return function(o){return function(i){var u,l=g,h=n,p=e,v=t,m=o,F=!1;function S(n,e,t,o,u,g){if(u instanceof f)return F=!0,new s.Tuple(new c.Cons({func:r.pure(n)(u.value0),count:g},e),t);if(u instanceof d)return F=!0,new s.Tuple(new c.Cons({func:o(u.value0),count:g},e),t);if(u instanceof w)return l=n,h=e,p=a.cons(u.value1)(t),v=o,m=u.value0,void(i=g+1|0);throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): "+[u.constructor.name])}for(;!F;)u=S(l,h,p,v,m,i);return u}}}}})(o.value0)(v)(e)(o.value1.value0.value0)(1)}for(;!u;)o=h(t);return o}(new s.Tuple(c.Nil.value,a.singleton(t)))}}},F=new t.Apply((function(){return v}),(function(n){return function(e){return h(n)(e)}})),S=new r.Applicative((function(){return F}),f.create);e.retractFreeAp=function(n){return m(n)(o.identity(o.categoryFn))},e.hoistFreeAp=function(n){return m(S)((function(e){return g(n(e))}))}}(r),function(n){n["Halogen.Aff.Driver.State"]=n["Halogen.Aff.Driver.State"]||{};var e=n["Halogen.Aff.Driver.State"],r=n["Data.Foldable"],t=n["Data.List.Types"],o=n["Data.Map.Internal"],i=n["Data.Maybe"],u=n["Effect.Ref"],a=n["Halogen.Data.Slot"],c=n["Unsafe.Coerce"],l=c.unsafeCoerce,s=c.unsafeCoerce,f=c.unsafeCoerce,d=c.unsafeCoerce;e.mapDriverState=function(n){return function(e){return n(e)}},e.unDriverStateX=s,e.renderStateX=function(n){return function(n){return s((function(e){return f(n(e.rendering))}))}},e.renderStateX_=function(n){return function(e){return s((function(t){return r.traverse_(n)(r.foldableMaybe)(e)(t.rendering)}))}},e.unRenderStateX=l,e.initDriverState=function(n){return function(e){return function(r){return function(c){return function(){var l=u.new({})(),s=u.new(a.empty)(),f=u.new(a.empty)(),w=u.new(r)(),h=u.new(new i.Just(t.Nil.value))(),g=u.new(new i.Just(t.Nil.value))(),p=u.new(i.Nothing.value)(),v=u.new(1)(),m=u.new(new i.Just(o.empty))(),F=u.new(o.empty)(),S={component:n,state:n.initialState(e),refs:o.empty,children:a.empty,childrenIn:s,childrenOut:f,selfRef:l,handlerRef:w,pendingQueries:h,pendingOuts:g,pendingHandlers:p,rendering:i.Nothing.value,fresh:v,subscriptions:m,forks:F,lifecycleHandlers:c};return u.write(S)(l)(),d(l)}}}}}}(r),function(n){n["Halogen.Query.ChildQuery"]=n["Halogen.Query.ChildQuery"]||{};var e=n["Halogen.Query.ChildQuery"],r=n["Unsafe.Coerce"].unsafeCoerce;e.unChildQueryBox=r}(r),function(n){n["Halogen.Aff.Driver.Eval"]=n["Halogen.Aff.Driver.Eval"]||{};var e=n["Halogen.Aff.Driver.Eval"],r=n["Control.Applicative"],t=n["Control.Applicative.Free"],o=n["Control.Bind"],i=n["Control.Monad"],u=n["Control.Monad.Fork.Class"],a=n["Control.Monad.Free"],c=n["Control.Parallel"],l=n["Control.Parallel.Class"],s=n["Data.Boolean"],f=n["Data.Coyoneda"],d=n["Data.Either"],w=n["Data.Foldable"],h=n["Data.Function"],g=n["Data.Functor"],p=n["Data.List.Types"],v=n["Data.Map.Internal"],m=n["Data.Maybe"],F=n["Data.Ord"],S=n["Data.Unit"],y=n.Effect,b=n["Effect.Aff"],I=n["Effect.Class"],C=n["Effect.Exception"],R=n["Effect.Ref"],E=n["Halogen.Aff.Driver.State"],W=n["Halogen.Query.ChildQuery"],P=n["Halogen.Query.HalogenM"],A=n["Halogen.Query.HalogenQ"],D=n["Halogen.Query.Input"],N=n["Halogen.Subscription"],x=n["Unsafe.Reference"],M=function(n){return function(e){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(n)))((function(r){if(r instanceof m.Nothing)return e;if(r instanceof m.Just)return I.liftEffect(b.monadEffectAff)(R.write(new m.Just(new p.Cons(e,r.value0)))(n));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 182, column 33 - line 184, column 57): "+[r.constructor.name])}))}},T=function(n){return function(e){return o.discard(o.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.write({initializers:p.Nil.value,finalizers:p.Nil.value})(n)))((function(){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(e))((function(e){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(n)))((function(n){return o.discard(o.discardUnit)(b.bindAff)(w.traverse_(b.applicativeAff)(p.foldableList)(u.fork(u.monadForkAff))(n.finalizers))((function(){return o.discard(o.discardUnit)(b.bindAff)(c.parSequence_(b.parallelAff)(p.foldableList)(n.initializers))((function(){return r.pure(b.applicativeAff)(e)}))}))}))}))}))}},q=b.runAff_(d.either(C.throwException)(h.const(r.pure(y.applicativeEffect)(S.unit)))),L=function(n){return function(e){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(e){return I.liftEffect(b.monadEffectAff)(R["modify'"]((function(e){return{state:e+1|0,value:n(e)}}))(e.fresh))}))}},H=function(n){return function(e){return function(r){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(t){return O(n)(e)(t.component.eval(new A.Query(g.map(f.functorCoyoneda)(m.Just.create)(f.liftCoyoneda(r)),h.const(m.Nothing.value))))}))}}},O=function(n){return function(e){return function(c){var f;return a.foldFree(b.monadRecAff)((f=e,function(e){if(e instanceof P.State)return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(t){var i=e.value0(t.state);if(x.unsafeRefEq(t.state)(i.value1))return r.pure(b.applicativeAff)(i.value0);if(s.otherwise)return o.discard(o.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.write({component:t.component,state:i.value1,refs:t.refs,children:t.children,childrenIn:t.childrenIn,childrenOut:t.childrenOut,selfRef:t.selfRef,handlerRef:t.handlerRef,pendingQueries:t.pendingQueries,pendingOuts:t.pendingOuts,pendingHandlers:t.pendingHandlers,rendering:t.rendering,fresh:t.fresh,subscriptions:t.subscriptions,forks:t.forks,lifecycleHandlers:t.lifecycleHandlers})(f)))((function(){return o.discard(o.discardUnit)(b.bindAff)(T(t.lifecycleHandlers)(n(t.lifecycleHandlers)(f)))((function(){return r.pure(b.applicativeAff)(i.value0)}))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): "+[i.constructor.name])}));if(e instanceof P.Subscribe)return o.bind(b.bindAff)(L(P.SubscriptionId)(f))((function(t){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(N.subscribe(e.value0(t))((function(e){return q(_(n)(f)(new D.Action(e)))}))))((function(n){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(i){return o.discard(o.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.modify_(g.map(m.functorMaybe)(v.insert(P.ordSubscriptionId)(t)(n)))(i.subscriptions)))((function(){return r.pure(b.applicativeAff)(e.value1(t))}))}))}))}));if(e instanceof P.Unsubscribe)return o.discard(o.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)((a=e.value0,function(n){return function(){var e=R.read(n)(),r=R.read(e.subscriptions)();return w.traverse_(y.applicativeEffect)(w.foldableMaybe)(N.unsubscribe)(o.bindFlipped(m.bindMaybe)(v.lookup(P.ordSubscriptionId)(a))(r))()}})(f)))((function(){return r.pure(b.applicativeAff)(e.value1)}));var a,c,d;if(e instanceof P.Lift)return e.value0;if(e instanceof P.ChildQuery)return function(e){return function(r){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(e){return W.unChildQueryBox((function(r){return g.map(b.functorAff)(r.value2)(l.sequential(b.parallelAff)(r.value0(b.applicativeParAff)((function(e){return l.parallel(b.parallelAff)(o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(e){return E.unDriverStateX((function(e){return H(n)(e.selfRef)(r.value1)}))(e)})))}))(e.children)))}))(r)}))}}(f)(e.value0);if(e instanceof P.Raise)return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(n){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(n.handlerRef)))((function(t){return o.discard(o.discardUnit)(b.bindAff)(M(n.pendingOuts)(t(e.value0)))((function(){return r.pure(b.applicativeAff)(e.value1)}))}))}));if(e instanceof P.Par)return l.sequential(b.parallelAff)(t.retractFreeAp(b.applicativeParAff)(t.hoistFreeAp((c=l.parallel(b.parallelAff),d=O(n)(f),function(n){return c(d(n))}))(e.value0)));if(e instanceof P.Fork)return o.bind(b.bindAff)(L(P.ForkId)(f))((function(t){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(a){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.new(!1)))((function(c){return o.bind(b.bindAff)(u.fork(u.monadForkAff)(b.finally(I.liftEffect(b.monadEffectAff)((function(){return R.modify_(v.delete(P.ordForkId)(t))(a.forks)(),R.write(!0)(c)()})))(O(n)(f)(e.value0))))((function(n){return o.discard(o.discardUnit)(b.bindAff)(I.liftEffect(b.monadEffectAff)(i.unlessM(y.monadEffect)(R.read(c))(R.modify_(v.insert(P.ordForkId)(t)(n))(a.forks))))((function(){return r.pure(b.applicativeAff)(e.value1(t))}))}))}))}))}));if(e instanceof P.Kill)return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(n){return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(n.forks)))((function(n){return o.discard(o.discardUnit)(b.bindAff)(w.traverse_(b.applicativeAff)(w.foldableMaybe)(b.killFiber(C.error("Cancelled")))(v.lookup(P.ordForkId)(e.value0)(n)))((function(){return r.pure(b.applicativeAff)(e.value1)}))}))}));if(e instanceof P.GetRef)return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(f)))((function(n){return r.pure(b.applicativeAff)(e.value1(v.lookup(F.ordString)(e.value0)(n.refs)))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 133, column 33): "+[e.constructor.name])}))(c)}}},_=function(n){return function(e){return function(r){if(r instanceof D.RefUpdate)return I.liftEffect(b.monadEffectAff)(h.flip(R.modify_)(e)(E.mapDriverState((function(n){return{component:n.component,state:n.state,refs:v.alter(F.ordString)(h.const(r.value1))(r.value0)(n.refs),children:n.children,childrenIn:n.childrenIn,childrenOut:n.childrenOut,selfRef:n.selfRef,handlerRef:n.handlerRef,pendingQueries:n.pendingQueries,pendingOuts:n.pendingOuts,pendingHandlers:n.pendingHandlers,rendering:n.rendering,fresh:n.fresh,subscriptions:n.subscriptions,forks:n.forks,lifecycleHandlers:n.lifecycleHandlers}}))));if(r instanceof D.Action)return o.bind(b.bindAff)(I.liftEffect(b.monadEffectAff)(R.read(e)))((function(t){return O(n)(e)(t.component.eval(new A.Action(r.value0,S.unit)))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): "+[r.constructor.name])}}};e.evalF=_,e.evalQ=H,e.evalM=O,e.handleLifecycle=T,e.queueOrRun=M,e.handleAff=q}(r),function(n){n["Halogen.Aff.Driver"]=n["Halogen.Aff.Driver"]||{};var e=n["Halogen.Aff.Driver"],r=n["Control.Applicative"],t=n["Control.Bind"],o=n["Control.Category"],i=n["Control.Monad.Fork.Class"],u=n["Control.Monad.Rec.Class"],a=n["Control.Parallel"],c=n["Data.Foldable"],l=n["Data.Function"],s=n["Data.Functor"],f=n["Data.List"],d=n["Data.List.Types"],w=n["Data.Map.Internal"],h=n["Data.Maybe"],g=n["Data.Unit"],p=n.Effect,v=n["Effect.Aff"],m=n["Effect.Class"],F=n["Effect.Console"],S=n["Effect.Exception"],y=n["Effect.Ref"],b=n["Halogen.Aff.Driver.Eval"],I=n["Halogen.Aff.Driver.State"],C=n["Halogen.Component"],R=n["Halogen.Data.Slot"],E=n["Halogen.Query.HalogenQ"],W=n["Halogen.Query.Input"],P=n["Halogen.Subscription"],A=y.new({initializers:d.Nil.value,finalizers:d.Nil.value}),D=function(n){return function(){var e,r=y.read(n)();return y.write(h.Nothing.value)(n)(),c.for_(p.applicativeEffect)(c.foldableMaybe)(r)((e=c.traverse_(v.applicativeAff)(d.foldableList)(i.fork(i.monadForkAff)),function(n){return b.handleAff(e(f.reverse(n)))}))()}};e.runUI=function(n){return function(e){return function(N){var x=function(n){return function(e){return function(r){return C.unComponent((function(o){return function(){var i,u=A(),c=I.initDriverState(o)(r)(e)(u)(),l=y.read(n)();return y.write({initializers:d.Nil.value,finalizers:l.finalizers})(n)(),t.bindFlipped(p.bindEffect)(I.unDriverStateX((i=M(n),function(n){return i(n.selfRef)})))(y.read(c))(),t.bindFlipped(p.bindEffect)(function(n){return function(e){return I.unDriverStateX((function(r){var o=b.evalM(M)(r.selfRef)(r.component.eval(new E.Initialize(g.unit)));return y.modify_((function(n){return{initializers:new d.Cons(t.discard(t.discardUnit)(v.bindAff)(a.parSequence_(v.parallelAff)(d.foldableList)(f.reverse(n.initializers)))((function(){return t.discard(t.discardUnit)(v.bindAff)(o)((function(){return m.liftEffect(v.monadEffectAff)((function(){return D(r.pendingQueries)(),D(r.pendingOuts)()}))}))})),e),finalizers:n.finalizers}}))(n)}))}}(n)(l.initializers))(y.read(c))(),c}}))}}},M=function(e){return function(a){return function(){var w=y.read(a)(),m=s.map(p.functorEffect)(h.isNothing)(y.read(w.pendingHandlers))();r.when(p.applicativeEffect)(m)(y.write(new h.Just(d.Nil.value))(w.pendingHandlers))(),y.write(R.empty)(w.childrenOut)(),y.write(w.children)(w.childrenIn)();var P,A,D,N,q=o.identity(o.categoryFn)(w.selfRef),L=o.identity(o.categoryFn)(w.pendingQueries),H=o.identity(o.categoryFn)(w.pendingHandlers),O=(P=b.queueOrRun(H),A=s.void(v.functorAff),D=b.evalF(M)(q),function(n){return P(A(D(n)))}),_=(N=b.queueOrRun(L),function(n){return N(O(W.Action.create(n)))}),J=n.render((function(n){return b.handleAff(O(n))}))(function(e){return function(o){return function(i){return function(u){return C.unComponentSlot((function(a){return function(){var c=s.map(p.functorEffect)(a.pop)(y.read(i))(),f=function(){if(c instanceof h.Just){y.write(c.value0.value1)(i)();var n=y.read(c.value0.value0)();return I.unDriverStateX((function(n){return function(){var e;return l.flip(y.write)(n.handlerRef)((e=h.maybe(r.pure(v.applicativeAff)(g.unit))(o),function(n){return e(a.output(n))}))(),b.handleAff(b.evalM(M)(n.selfRef)(n.component.eval(new E.Receive(a.input,g.unit))))()}}))(n)(),c.value0.value0}if(c instanceof h.Nothing)return x(e)((t=h.maybe(r.pure(v.applicativeAff)(g.unit))(o),function(n){return t(a.output(n))}))(a.input)(a.component)();var t;throw new Error("Failed pattern match at Halogen.Aff.Driver (line 211, column 14 - line 220, column 98): "+[c.constructor.name])}(),d=s.map(p.functorEffect)((function(n){return h.isJust(a.get(n))}))(y.read(u))();return r.when(p.applicativeEffect)(d)(F.warn("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(),y.modify_(a.set(f))(u)(),t.bind(p.bindEffect)(y.read(f))(I.renderStateX(p.functorEffect)((function(e){if(e instanceof h.Nothing)return S.throw("Halogen internal error: child was not initialized in renderChild");if(e instanceof h.Just)return r.pure(p.applicativeEffect)(n.renderChild(e.value0));throw new Error("Failed pattern match at Halogen.Aff.Driver (line 225, column 37 - line 227, column 50): "+[e.constructor.name])})))()}}))}}}}(e)(_)(w.childrenIn)(w.childrenOut))(w.component.render(w.state))(w.rendering)(),k=y.read(w.childrenOut)(),U=y.read(w.childrenIn)();return R.foreachSlot(p.applicativeEffect)(U)((function(r){return function(){var t=y.read(r)();return I.renderStateX_(p.applicativeEffect)(n.removeChild)(t)(),T(e)(t)()}}))(),l.flip(y.modify_)(w.selfRef)(I.mapDriverState((function(n){return{component:n.component,state:n.state,refs:n.refs,children:k,childrenIn:n.childrenIn,childrenOut:n.childrenOut,selfRef:n.selfRef,handlerRef:n.handlerRef,pendingQueries:n.pendingQueries,pendingOuts:n.pendingOuts,pendingHandlers:n.pendingHandlers,rendering:new h.Just(J),fresh:n.fresh,subscriptions:n.subscriptions,forks:n.forks,lifecycleHandlers:n.lifecycleHandlers}})))(),r.when(p.applicativeEffect)(m)(l.flip(u.tailRecM(u.monadRecEffect))(g.unit)((function(n){return function(){var n,e=y.read(H)();y.write(new h.Just(d.Nil.value))(H)(),c.traverse_(p.applicativeEffect)(c.foldableMaybe)((n=c.traverse_(v.applicativeAff)(d.foldableList)(i.fork(i.monadForkAff)),function(e){return b.handleAff(n(f.reverse(e)))}))(e)();var r=y.read(H)();return h.maybe(!1)(f.null)(r)?s.voidLeft(p.functorEffect)(y.write(h.Nothing.value)(H))(new u.Done(g.unit))():new u.Loop(g.unit)}})))()}}},T=function(n){return I.unDriverStateX((function(e){return function(){var r;(r=e,function(){var n;return t.bindFlipped(p.bindEffect)(c.traverse_(p.applicativeEffect)(c.foldableMaybe)(c.traverse_(p.applicativeEffect)(w.foldableMap)(P.unsubscribe)))(y.read(r.subscriptions))(),y.write(h.Nothing.value)(r.subscriptions)(),t.bindFlipped(p.bindEffect)(c.traverse_(p.applicativeEffect)(w.foldableMap)((n=v.killFiber(S.error("finalized")),function(e){return b.handleAff(n(e))})))(y.read(r.forks))(),y.write(w.empty)(r.forks)()})();var o=b.evalM(M)(e.selfRef)(e.component.eval(new E.Finalize(g.unit)));return y.modify_((function(n){return{initializers:n.initializers,finalizers:new d.Cons(o,n.finalizers)}}))(n)(),R.foreachSlot(p.applicativeEffect)(e.children)((function(e){return function(){var r=y.read(e)();return T(n)(r)()}}))()}}))},q=function(n){return function(e){return function(o){return t.bind(v.bindAff)(m.liftEffect(v.monadEffectAff)(y.read(n)))((function(n){return n?r.pure(v.applicativeAff)(h.Nothing.value):b.evalQ(M)(e)(o)}))}}},L=function(e){return function(r){return function(t){return b.handleLifecycle(r)((function(){return y.read(e)()?g.unit:(y.write(!0)(e)(),T(r)(t)(),I.unDriverStateX((function(e){return function(){var r=m.liftEffect(m.monadEffectEffect)(y.read(e.selfRef))();return c.for_(p.applicativeEffect)(c.foldableMaybe)(r.rendering)(n.dispose)()}}))(t)())}))}}};return t.bind(v.bindAff)(m.liftEffect(v.monadEffectAff)(A))((function(n){return t.bind(v.bindAff)(m.liftEffect(v.monadEffectAff)(y.new(0)))((function(o){return t.bind(v.bindAff)(m.liftEffect(v.monadEffectAff)(y.new(!1)))((function(o){return b.handleLifecycle(n)((function(){var i,u,a=P.create(),c=t.bindFlipped(p.bindEffect)(y.read)(x(n)((i=m.liftEffect(v.monadEffectAff),u=P.notify(a.listener),function(n){return i(u(n))}))(N)(e))();return I.unDriverStateX((function(e){return r.pure(p.applicativeEffect)({query:q(o)(e.selfRef),messages:a.emitter,dispose:L(o)(n)(c)})}))(c)()}))}))}))}))}}}}(r),function(n){n["Web.DOM.Element"]=n["Web.DOM.Element"]||{};var e=n["Web.DOM.Element"],r=n["Unsafe.Coerce"].unsafeCoerce;e.toNode=r}(r),function(n){n["Halogen.VDom.DOM"]=n["Halogen.VDom.DOM"]||{};var e=n["Halogen.VDom.DOM"],r=n["Data.Array"],t=n["Data.Boolean"],o=n["Data.Maybe"],i=n["Data.Nullable"],u=n["Data.Tuple"],a=n["Halogen.VDom.Machine"],c=n["Halogen.VDom.Types"],l=n["Halogen.VDom.Util"],s=n["Web.DOM.Element"],f=function(n){return a.halt(n.widget)},d=function(n,e){if(e instanceof c.Grafted)return d(n,c.runGraft(e.value0));if(e instanceof c.Widget){var r=a.step(n.widget,e.value0);return a.unStep((function(e){return a.mkStep(new a.Step(e.value0,{build:n.build,widget:r},d,f))}))(r)}return f(n),n.build(e)},w=function(n){var e=l.parentNode(n.node);return l.removeChild(n.node,e)},h=function(n,e){if(e instanceof c.Grafted)return h(n,c.runGraft(e.value0));if(e instanceof c.Text){if(n.value===e.value0)return a.mkStep(new a.Step(n.node,n,h,w));if(t.otherwise){var r={build:n.build,node:n.node,value:e.value0};return l.setTextContent(e.value0,n.node),a.mkStep(new a.Step(n.node,r,h,w))}}return w(n),n.build(e)},g=function(n){var e=l.parentNode(n.node);return l.removeChild(n.node,e),l.forInE(n.children,(function(n,e){return a.halt(e)})),a.halt(n.attrs)},p=function(n){var e=l.parentNode(n.node);return l.removeChild(n.node,e),l.forEachE(n.children,a.halt),a.halt(n.attrs)},v=function(n,e,r,t){return!(e!==t)&&(n instanceof o.Just&&r instanceof o.Just&&n.value0===r.value0||n instanceof o.Nothing&&r instanceof o.Nothing)},m=function(n,e){if(e instanceof c.Grafted)return m(n,c.runGraft(e.value0));if(e instanceof c.Elem&&v(n.ns,n.name,e.value0,e.value1)){var t=r.length(e.value3);if(0===r.length(n.children)&&0===t){var o=a.step(n.attrs,e.value2),i={build:n.build,node:n.node,attrs:o,ns:e.value0,name:e.value1,children:n.children};return a.mkStep(new a.Step(n.node,i,m,p))}var u=l.diffWithIxE(n.children,e.value3,(function(e,r,t){var o=a.step(r,t);return l.insertChildIx(e,a.extract(o),n.node),o}),(function(n,e){return a.halt(e)}),(function(e,r){var t=n.build(r);return l.insertChildIx(e,a.extract(t),n.node),t}));o=a.step(n.attrs,e.value2),i={build:n.build,node:n.node,attrs:o,ns:e.value0,name:e.value1,children:u};return a.mkStep(new a.Step(n.node,i,m,p))}return p(n),n.build(e)},F=function(n,e){if(e instanceof c.Grafted)return F(n,c.runGraft(e.value0));if(e instanceof c.Keyed&&v(n.ns,n.name,e.value0,e.value1)){var t=r.length(e.value3);if(0===n.length&&0===t){var o=a.step(n.attrs,e.value2),i={build:n.build,node:n.node,attrs:o,ns:e.value0,name:e.value1,children:n.children,length:0};return a.mkStep(new a.Step(n.node,i,F,g))}var s=l.diffWithKeyAndIxE(n.children,e.value3,u.fst,(function(e,r,t,o){var i=a.step(t,o.value1);return l.insertChildIx(r,a.extract(i),n.node),i}),(function(n,e){return a.halt(e)}),(function(e,r,t){var o=n.build(t.value1);return l.insertChildIx(r,a.extract(o),n.node),o}));o=a.step(n.attrs,e.value2),i={build:n.build,node:n.node,attrs:o,ns:e.value0,name:e.value1,children:s,length:t};return a.mkStep(new a.Step(n.node,i,F,g))}return g(n),n.build(e)};e.buildVDom=function(n){var e=function(t){if(t instanceof c.Text)return function(n,e,r){var t=l.createTextNode(r,n.document),o={build:e,node:t,value:r};return a.mkStep(new a.Step(t,o,h,w))}(n,e,t.value0);if(t instanceof c.Elem)return function(n,e,r,t,o,u){var c=l.createElement(i.toNullable(r),t,n.document),f=s.toNode(c),d=l.forE(u,(function(n,r){var t=e(r);return l.insertChildIx(n,a.extract(t),f),t})),w=n.buildAttributes(c)(o),h={build:e,node:f,attrs:w,ns:r,name:t,children:d};return a.mkStep(new a.Step(f,h,m,p))}(n,e,t.value0,t.value1,t.value2,t.value3);if(t instanceof c.Keyed)return function(n,e,t,o,c,f){var d=l.createElement(i.toNullable(t),o,n.document),w=s.toNode(d),h=l.strMapWithIxE(f,u.fst,(function(n,r,t){var o=e(t.value1);return l.insertChildIx(r,a.extract(o),w),o})),p=n.buildAttributes(d)(c),v={build:e,node:w,attrs:p,ns:t,name:o,children:h,length:r.length(f)};return a.mkStep(new a.Step(w,v,F,g))}(n,e,t.value0,t.value1,t.value2,t.value3);if(t instanceof c.Widget)return function(n,e,r){var t=n.buildWidget(n)(r);return a.unStep((function(n){return a.mkStep(new a.Step(n.value0,{build:e,widget:t},d,f))}))(t)}(n,e,t.value0);if(t instanceof c.Grafted)return e(c.runGraft(t.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): "+[t.constructor.name])};return e}}(r),function(n){n["Halogen.VDom.Thunk"]=n["Halogen.VDom.Thunk"]||{};var e=n["Halogen.VDom.Thunk"],r=n["Halogen.VDom.DOM"],t=n["Halogen.VDom.Machine"],o=n["Halogen.VDom.Util"],i=(function(){function n(n,e,r,t){this.value0=n,this.value1=e,this.value2=r,this.value3=t}n.create=function(e){return function(r){return function(t){return function(o){return new n(e,r,t,o)}}}}}(),function(n){return n.value2(n.value3)});e.buildThunk=function(n){var e=function(n){return t.halt(n.vdom)},u=function(r,a){var c,l;if(c=r.thunk,l=a,o.refEq(c.value0,l.value0)&&o.refEq(c.value1,l.value1)&&c.value1(c.value3,l.value3))return t.mkStep(new t.Step(t.extract(r.vdom),r,u,e));var s=t.step(r.vdom,n(i(a)));return t.mkStep(new t.Step(t.extract(s),{vdom:s,thunk:a},u,e))};return function(o){return function(a){var c=r.buildVDom(o)(n(i(a)));return t.mkStep(new t.Step(t.extract(c),{thunk:a,vdom:c},u,e))}}}}(r),function(n){var e=function(n){return function(e){return function(){return e[n]}}};n._parentNode=e("parentNode"),n._nextSibling=e("nextSibling"),n.insertBefore=function(n){return function(e){return function(r){return function(){r.insertBefore(n,e)}}}},n.appendChild=function(n){return function(e){return function(){e.appendChild(n)}}},n.removeChild=function(n){return function(e){return function(){e.removeChild(n)}}}}(r["Web.DOM.Node"]=r["Web.DOM.Node"]||{}),function(n){n["Web.DOM.Node"]=n["Web.DOM.Node"]||{};var e,r,t=n["Web.DOM.Node"],o=n["Web.DOM.Node"],i=n["Data.Functor"],u=n["Data.Nullable"],a=n.Effect,c=(e=i.map(a.functorEffect)(u.toMaybe),function(n){return e(o._parentNode(n))}),l=(r=i.map(a.functorEffect)(u.toMaybe),function(n){return r(o._nextSibling(n))});t.parentNode=c,t.nextSibling=l,t.insertBefore=o.insertBefore,t.appendChild=o.appendChild,t.removeChild=o.removeChild}(r),function(n){n["Halogen.VDom.Driver"]=n["Halogen.VDom.Driver"]||{};var e=n["Halogen.VDom.Driver"],r=n["Control.Applicative"],t=n["Control.Bind"],o=n["Control.Category"],i=n["Data.Foldable"],u=n["Data.Functor"],a=n["Data.HeytingAlgebra"],c=n["Data.Maybe"],l=n["Data.Newtype"],s=n["Data.Unit"],f=n.Effect,d=n["Effect.Aff"],w=n["Effect.Class"],h=n["Effect.Ref"],g=n["Halogen.Aff.Driver"],p=n["Halogen.Aff.Driver.State"],v=n["Halogen.Component"],m=n["Halogen.VDom.DOM"],F=n["Halogen.VDom.DOM.Prop"],S=n["Halogen.VDom.Machine"],y=n["Halogen.VDom.Thunk"],b=n["Unsafe.Reference"],I=n["Web.DOM.Node"],C=n["Web.HTML"],R=n["Web.HTML.HTMLDocument"],E=n["Web.HTML.HTMLElement"],W=n["Web.HTML.Window"],P=function(n){return function(){var e=I.parentNode(n.node)();return i.traverse_(f.applicativeEffect)(i.foldableMaybe)((function(e){return I.removeChild(n.node)(e)}))(e)()}},A=function(n){return function(e){return{render:function(t){return function(o){return function(i){return function(d){if(d instanceof c.Nothing)return function(){var r=h.new(o)(),a=function(n){return function(e){return function(r){var t=p.unRenderStateX((function(n){return n.node})),o=function(n){return n instanceof c.Just?S.halt(n.value0):s.unit};return{buildWidget:function(n){var r=y.buildThunk(l.unwrap())(n),i=function(n){var r=h.read(e)()(n)(),i=t(r);return S.mkStep(new S.Step(i,c.Nothing.value,a,o))},u=function(n){if(n instanceof v.ComponentSlot)return i(n.value0);if(n instanceof v.ThunkSlot){var e=r(n.value0);return S.mkStep(new S.Step(S.extract(e),new c.Just(e),a,o))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 85, column 7 - line 90, column 75): "+[n.constructor.name])},a=function(n,e){if(n instanceof c.Just){if(e instanceof v.ComponentSlot)return S.halt(n.value0),i(e.value0);if(e instanceof v.ThunkSlot){var r=S.step(n.value0,e.value0);return S.mkStep(new S.Step(S.extract(r),new c.Just(r),a,o))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 98, column 22 - line 104, column 79): "+[e.constructor.name])}return u(e)};return u},buildAttributes:F.buildProp(n),document:r}}}}(t)(r)(n),d=m.buildVDom(a)(i),w=S.extract(d);return u.void(f.functorEffect)(I.appendChild(w)(E.toNode(e)))(),{machine:d,node:w,renderChildRef:r}};if(d instanceof c.Just)return function(){h.write(o)(d.value0.renderChildRef)();var n=I.parentNode(d.value0.node)(),e=I.nextSibling(d.value0.node)(),t=S.step(d.value0.machine,i),l=S.extract(t);return r.when(f.applicativeEffect)(a.not(a.heytingAlgebraFunction(a.heytingAlgebraFunction(a.heytingAlgebraBoolean)))(b.unsafeRefEq)(d.value0.node)(l))(function(n){return function(e){return function(t){return e instanceof c.Just&&t instanceof c.Just?u.void(f.functorEffect)(I.insertBefore(n)(e.value0)(t.value0)):e instanceof c.Nothing&&t instanceof c.Just?u.void(f.functorEffect)(I.appendChild(n)(t.value0)):r.pure(f.applicativeEffect)(s.unit)}}}(l)(e)(n))(),{machine:t,node:l,renderChildRef:d.value0.renderChildRef}};throw new Error("Failed pattern match at Halogen.VDom.Driver (line 159, column 5 - line 175, column 80): "+[d.constructor.name])}}}},renderChild:o.identity(o.categoryFn),removeChild:P,dispose:P}}};e.runUI=function(n){return function(e){return function(r){return t.bind(d.bindAff)(w.liftEffect(d.monadEffectAff)(u.map(f.functorEffect)(R.toDocument)(t.bindFlipped(f.bindEffect)(W.document)(C.window))))((function(t){return g.runUI(A(t)(r))(n)(e)}))}}}}(r),function(n){n.key=function(n){return n.key}}(r["Web.UIEvent.KeyboardEvent"]=r["Web.UIEvent.KeyboardEvent"]||{}),function(n){n["Web.UIEvent.KeyboardEvent"]=n["Web.UIEvent.KeyboardEvent"]||{};var e=n["Web.UIEvent.KeyboardEvent"],r=n["Web.UIEvent.KeyboardEvent"],t=n["Unsafe.Coerce"],o=n["Web.Internal.FFI"],i=t.unsafeCoerce,u=o.unsafeReadProtoTagged("KeyboardEvent");e.fromEvent=u,e.toEvent=i,e.key=r.key}(r),function(n){n["Web.UIEvent.KeyboardEvent.EventTypes"]=n["Web.UIEvent.KeyboardEvent.EventTypes"]||{};n["Web.UIEvent.KeyboardEvent.EventTypes"].keyup="keyup"}(r),function(n){n["App.Main"]=n["App.Main"]||{};var e=n["App.Main"],r=n["App.Common"],t=n["App.Render"],o=n["App.Tabs"],i=n["Control.Applicative"],u=n["Control.Apply"],a=n["Control.Bind"],c=n["Control.Monad.State.Class"],l=n["Data.Boolean"],s=n["Data.Either"],f=n["Data.Foldable"],d=n["Data.Function"],w=n["Data.Functor"],h=n["Data.List"],g=n["Data.List.Types"],p=n["Data.Maybe"],v=n["Data.Unit"],m=n.Effect,F=n["Effect.Aff"],S=n["Effect.Aff.Class"],y=n["Effect.Class"],b=n["Effect.Class.Console"],I=n["Halogen.Aff.Util"],C=n["Halogen.Component"],R=n["Halogen.HTML.Core"],E=n["Halogen.HTML.Elements"],W=n["Halogen.HTML.Events"],P=n["Halogen.HTML.Properties"],A=n["Halogen.Query.Event"],D=n["Halogen.Query.HalogenM"],N=n["Halogen.VDom.Driver"],x=n["ProtoVoices.Folding"],M=n["ProtoVoices.Model"],T=n["ProtoVoices.Validation"],q=n["Web.Event.Event"],L=n["Web.HTML"],H=n["Web.HTML.HTMLDocument"],O=n["Web.HTML.Window"],_=n["Web.UIEvent.KeyboardEvent"],J=n["Web.UIEvent.KeyboardEvent.EventTypes"],k=function(n){return function(e){return function(t){return function(o){return function(u){return function(l){return a.bind(e.Monad0().Bind1())(c.get(n))((function(f){var d=a.bind(p.bindMaybe)(t(f.selected))((function(n){return a.bind(p.bindMaybe)(f.model)((function(e){return i.pure(p.applicativeMaybe)({sel:n,model:e})}))}));if(d instanceof p.Nothing)return i.pure(e.Monad0().Applicative0())(v.unit);if(d instanceof p.Just){var w=o(d.value0.sel)(d.value0.model);if(w instanceof s.Left)return b.log(e)(w.value0);if(w instanceof s.Right)return c.put(n)(function(){var n={};for(var e in f)({}).hasOwnProperty.call(f,e)&&(n[e]=f[e]);return n.model=new p.Just(w.value0),n.selected=l?r.SelNone.value:f.selected,n.undoStack=new g.Cons({m:d.value0.model,name:u},f.undoStack),n.redoStack=g.Nil.value,n}());throw new Error("Failed pattern match at App.Main (line 64, column 28 - line 73, column 14): "+[w.constructor.name])}throw new Error("Failed pattern match at App.Main (line 62, column 3 - line 73, column 14): "+[d.constructor.name])}))}}}}}},U=function(n){return a.bind(D.bindHalogenM)(c.get(D.monadStateHalogenM))((function(e){return e.selected instanceof r.SelTrans?V(n)(r.UnMergeAtSelected.value):e.selected instanceof r.SelSlice?V(n)(r.UnVertAtSelected.value):i.pure(D.applicativeHalogenM)(v.unit)}))},V=function(n){var e=function(n){return function(e){return function(r){if(n instanceof p.Nothing)return{model:n,s1:e,s2:r};if(n instanceof p.Just){if(e instanceof g.Nil)return{model:n,s1:e,s2:r};if(e instanceof g.Cons)return{model:new p.Just(e.value0.m),s1:e.value1,s2:new g.Cons({m:n.value0,name:e.value0.name},r)};throw new Error("Failed pattern match at App.Main (line 145, column 21 - line 147, column 94): "+[e.constructor.name])}throw new Error("Failed pattern match at App.Main (line 143, column 26 - line 147, column 94): "+[n.constructor.name])}}},t=function(e){return y.liftEffect(D.monadEffectHalogenM(n))(q.preventDefault(_.toEvent(e)))};return function(o){if(o instanceof r.NoOp)return b.log(D.monadEffectHalogenM(n))("NoOp");if(o instanceof r.Init)return a.bind(D.bindHalogenM)(y.liftEffect(D.monadEffectHalogenM(n))(a.bindFlipped(m.bindEffect)(O.document)(L.window)))((function(n){return D["subscribe'"]((function(e){return A.eventListener(J.keyup)(H.toEventTarget(n))((t=w.map(p.functorMaybe)(r.HandleKey.create),function(n){return t(_.fromEvent(n))}));var t}))}));if(o instanceof r.SwitchTab)return c.modify_(D.monadStateHalogenM)((function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.tab=o.value0,e}));if(o instanceof r.HandleKey){var s=_.key(o.value0);return"m"===s?u.applySecond(D.applyHalogenM)(t(o.value0))(V(n)(r.MergeAtSelected.value)):"M"===s?u.applySecond(D.applyHalogenM)(t(o.value0))(V(n)(r.UnMergeAtSelected.value)):"v"===s?u.applySecond(D.applyHalogenM)(t(o.value0))(V(n)(r.VertAtSelected.value)):"V"===s?u.applySecond(D.applyHalogenM)(t(o.value0))(V(n)(r.UnVertAtSelected.value)):"z"===s?u.applySecond(D.applyHalogenM)(t(o.value0))(V(n)(r.Undo.value)):"Z"===s?u.applySecond(D.applyHalogenM)(t(o.value0))(V(n)(r.Redo.value)):"Enter"===s||" "===s?u.applySecond(D.applyHalogenM)(t(o.value0))(B(n)):"Backspace"===s?u.applySecond(D.applyHalogenM)(t(o.value0))(U(n)):i.pure(D.applicativeHalogenM)(v.unit)}if(o instanceof r.Select)return c.modify_(D.monadStateHalogenM)((function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.selected=o.value0,e}));if(o instanceof r.HandleImport){if(o.value0 instanceof r.ImportPiece)return c.modify_(D.monadStateHalogenM)((function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.model=p.Just.create(M.loadPiece(o.value0.value0)),e.selected=r.SelNone.value,e.tab=p.Nothing.value,e}));if(o.value0 instanceof r.ImportModel)return c.modify_(D.monadStateHalogenM)((function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.model=new p.Just(o.value0.value0),e.selected=r.SelNone.value,e.tab=p.Nothing.value,e}));throw new Error("Failed pattern match at App.Main (line 111, column 21 - line 113, column 103): "+[o.value0.constructor.name])}if(o instanceof r.HandleSettings)return c.modify_(D.monadStateHalogenM)((function(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.settings=o.value0,e}));if(o instanceof r.MergeAtSelected)return k(D.monadStateHalogenM)(D.monadEffectHalogenM(n))(r.getSelSlice)(M.mergeAtSlice)("Merge Transitions")(!0);if(o instanceof r.VertAtSelected)return k(D.monadStateHalogenM)(D.monadEffectHalogenM(n))(r.getSelTrans)(M.vertAtMid)("Vert Slices")(!0);if(o instanceof r.UnMergeAtSelected)return k(D.monadStateHalogenM)(D.monadEffectHalogenM(n))(r.getSelTrans)(M.undoMergeAtTrans)("Unmerge Transition")(!0);if(o instanceof r.UnVertAtSelected)return k(D.monadStateHalogenM)(D.monadEffectHalogenM(n))(r.getSelSlice)(M.undoVertAtSlice)("Unvert Slice")(!0);if(o instanceof r.CombineAny)return B(n);if(o instanceof r.RemoveAny)return U(n);if(o instanceof r.SetNoteExplanation)return a.discard(a.discardUnit)(D.bindHalogenM)(k(D.monadStateHalogenM)(D.monadEffectHalogenM(n))(d.const(new p.Just(o.value0)))((function(n){return M.noteSetExplanation(n.noteId)(n.expl)}))("Set Note Explanation")(!1))((function(){return c.modify_(D.monadStateHalogenM)((function(n){var e={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.selected=function(n){return function(e){var t=function(r){if(l.otherwise)return e;throw new Error("Failed pattern match at App.Main (line 83, column 1 - line 83, column 94): "+[n.constructor.name,e.constructor.name])};return e instanceof r.SelNote&&e.value0.note.id===n.noteId?r.SelNote.create({note:e.value0.note,expl:n.expl,parents:e.value0.parents}):t()}}(o.value0)(n.selected),e}))}));if(o instanceof r.Undo)return c.modify_(D.monadStateHalogenM)((function(n){var r=e(n.model)(n.undoStack)(n.redoStack),t={};for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t.model=r.model,t.undoStack=r.s1,t.redoStack=r.s2,t}));if(o instanceof r.Redo)return c.modify_(D.monadStateHalogenM)((function(n){var r=e(n.model)(n.redoStack)(n.undoStack),t={};for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t.model=r.model,t.undoStack=r.s2,t.redoStack=r.s1,t}));throw new Error("Failed pattern match at App.Main (line 92, column 16 - line 139, column 61): "+[o.constructor.name])}},B=function(n){return a.bind(D.bindHalogenM)(c.get(D.monadStateHalogenM))((function(e){return e.selected instanceof r.SelTrans?V(n)(r.VertAtSelected.value):e.selected instanceof r.SelSlice?V(n)(r.MergeAtSelected.value):i.pure(D.applicativeHalogenM)(v.unit)}))},z=I.runHalogenAff(a.discard(a.discardUnit)(F.bindAff)(I.awaitLoad)((function(){return a.bind(F.bindAff)(I.selectElement("#app"))((function(n){return f.for_(F.applicativeAff)(f.foldableMaybe)(n)(N.runUI((F.monadEffectAff,function(n){return C.mkComponent({initialState:function(n){return{selected:r.SelNone.value,model:p.Nothing.value,undoStack:g.Nil.value,redoStack:g.Nil.value,tab:new p.Just(r.ImportTab.value),settings:r.defaultSettings}},render:function(e){return E.div_([E.div([t.class_("content")])([E.h1_([R.text("Proto-Voice Annotation Tool")]),o.renderTabs(n.MonadEffect0())(n)(e),E.h2_([R.text("Annotation")]),E.div([t.class_("pure-g")])([E.button([t.class_("pure-button pure-u-1-4"),W.onClick((function(n){return r.CombineAny.value})),P.enabled(r.outerSelected(e.selected))])([R.text("Combine (Enter)")]),E.button([t.class_("pure-button pure-u-1-4"),W.onClick((function(n){return r.RemoveAny.value})),P.enabled(r.outerSelected(e.selected))])([R.text("Remove (Backspace)")]),E.button([t.class_("pure-button pure-u-1-4"),W.onClick((function(n){return r.Undo.value})),P.disabled(h.null(e.undoStack))])([R.text("Undo "+p.maybe("")((function(n){return n.name}))(h.head(e.undoStack)))]),E.button([t.class_("pure-button pure-u-1-4"),W.onClick((function(n){return r.Redo.value})),P.disabled(h.null(e.redoStack))])([R.text("Redo "+p.maybe("")((function(n){return n.name}))(h.head(e.redoStack)))])])]),function(){if(e.model instanceof p.Nothing)return R.text("");if(e.model instanceof p.Just){var n=T.validateReduction(e.model.value0.reduction),r=x.evalGraph(e.settings.flatHori)(e.model.value0.reduction);return E.div_([E.p([t.class_("content")])([t.renderNoteExplanation(r)(e.selected)]),E.div([t.class_("wide")])([t.renderReduction(e.settings)(e.model.value0.piece)(r)(n)(e.selected)])])}throw new Error("Failed pattern match at App.Main (line 200, column 9 - line 210, column 16): "+[e.model.constructor.name])}()])},eval:C.mkEval({handleAction:V(n.MonadEffect0()),handleQuery:C.defaultEval.handleQuery,receive:C.defaultEval.receive,initialize:new p.Just(r.Init.value),finalize:C.defaultEval.finalize})})})(S.monadAffAff))(v.unit))}))})));e.main=z}(r),function(n){n.Main=n.Main||{};var e=n.Main,r=n["App.Main"].main;e.main=r}(r),r.Main.main()}();
//# sourceMappingURL=index.7414344c.js.map
